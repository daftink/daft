{"ast":null,"code":"import React, { useMemo } from 'react';\nimport { AudioRecordingPreview } from './AudioRecordingPreview';\nimport { AudioRecordingInProgress } from './AudioRecordingInProgress';\nimport { MediaRecordingState } from '../classes';\nimport { BinIcon, CheckSignIcon, LoadingIndicatorIcon, MicIcon, PauseIcon, SendIcon } from '../../MessageInput';\nimport { useMessageInputContext } from '../../../context/MessageInputContext';\nexport const AudioRecorder = () => {\n  var _recording$localMetad, _recording$duration;\n  const messageInputContext = useMessageInputContext();\n  const {\n    recordingController: {\n      completeRecording,\n      recorder,\n      recording,\n      recordingState\n    }\n  } = messageInputContext;\n  const isUploadingFile = (recording === null || recording === void 0 || (_recording$localMetad = recording.localMetadata) === null || _recording$localMetad === void 0 ? void 0 : _recording$localMetad.uploadState) === 'uploading';\n  const state = useMemo(() => ({\n    paused: recordingState === MediaRecordingState.PAUSED,\n    recording: recordingState === MediaRecordingState.RECORDING,\n    stopped: recordingState === MediaRecordingState.STOPPED\n  }), [recordingState]);\n  if (!recorder) return null;\n  return React.createElement(\"div\", {\n    className: 'str-chat__audio_recorder-container'\n  }, React.createElement(\"div\", {\n    className: 'str-chat__audio_recorder',\n    \"data-testid\": 'audio-recorder'\n  }, React.createElement(\"button\", {\n    className: 'str-chat__audio_recorder__cancel-button',\n    \"data-testid\": 'cancel-recording-audio-button',\n    disabled: isUploadingFile,\n    onClick: recorder.cancel\n  }, React.createElement(BinIcon, null)), state.stopped && recording !== null && recording !== void 0 && recording.asset_url ? React.createElement(AudioRecordingPreview, {\n    durationSeconds: (_recording$duration = recording.duration) !== null && _recording$duration !== void 0 ? _recording$duration : 0,\n    mimeType: recording.mime_type,\n    src: recording.asset_url,\n    waveformData: recording.waveform_data\n  }) : state.paused || state.recording ? React.createElement(AudioRecordingInProgress, null) : null, state.paused && React.createElement(\"button\", {\n    className: 'str-chat__audio_recorder__resume-recording-button',\n    onClick: recorder.resume\n  }, React.createElement(MicIcon, null)), state.recording && React.createElement(\"button\", {\n    className: 'str-chat__audio_recorder__pause-recording-button',\n    \"data-testid\": 'pause-recording-audio-button',\n    onClick: recorder.pause\n  }, React.createElement(PauseIcon, null)), state.stopped ? React.createElement(\"button\", {\n    className: 'str-chat__audio_recorder__complete-button',\n    \"data-testid\": 'audio-recorder-complete-button',\n    disabled: isUploadingFile,\n    onClick: completeRecording\n  }, isUploadingFile ? React.createElement(LoadingIndicatorIcon, null) : React.createElement(SendIcon, null)) : React.createElement(\"button\", {\n    className: 'str-chat__audio_recorder__stop-button',\n    \"data-testid\": 'audio-recorder-stop-button',\n    onClick: recorder.stop\n  }, React.createElement(CheckSignIcon, null))));\n};","map":{"version":3,"names":["React","useMemo","AudioRecordingPreview","AudioRecordingInProgress","MediaRecordingState","BinIcon","CheckSignIcon","LoadingIndicatorIcon","MicIcon","PauseIcon","SendIcon","useMessageInputContext","AudioRecorder","_recording$localMetad","_recording$duration","messageInputContext","recordingController","completeRecording","recorder","recording","recordingState","isUploadingFile","localMetadata","uploadState","state","paused","PAUSED","RECORDING","stopped","STOPPED","createElement","className","disabled","onClick","cancel","asset_url","durationSeconds","duration","mimeType","mime_type","src","waveformData","waveform_data","resume","pause","stop"],"sources":["/tmp/daft-chat-temp/node_modules/stream-chat-react/dist/components/MediaRecorder/AudioRecorder/AudioRecorder.js"],"sourcesContent":["import React, { useMemo } from 'react';\nimport { AudioRecordingPreview } from './AudioRecordingPreview';\nimport { AudioRecordingInProgress } from './AudioRecordingInProgress';\nimport { MediaRecordingState } from '../classes';\nimport { BinIcon, CheckSignIcon, LoadingIndicatorIcon, MicIcon, PauseIcon, SendIcon, } from '../../MessageInput';\nimport { useMessageInputContext } from '../../../context/MessageInputContext';\nexport const AudioRecorder = () => {\n    const messageInputContext = useMessageInputContext();\n    const { recordingController: { completeRecording, recorder, recording, recordingState }, } = messageInputContext;\n    const isUploadingFile = recording?.localMetadata?.uploadState === 'uploading';\n    const state = useMemo(() => ({\n        paused: recordingState === MediaRecordingState.PAUSED,\n        recording: recordingState === MediaRecordingState.RECORDING,\n        stopped: recordingState === MediaRecordingState.STOPPED,\n    }), [recordingState]);\n    if (!recorder)\n        return null;\n    return (React.createElement(\"div\", { className: 'str-chat__audio_recorder-container' },\n        React.createElement(\"div\", { className: 'str-chat__audio_recorder', \"data-testid\": 'audio-recorder' },\n            React.createElement(\"button\", { className: 'str-chat__audio_recorder__cancel-button', \"data-testid\": 'cancel-recording-audio-button', disabled: isUploadingFile, onClick: recorder.cancel },\n                React.createElement(BinIcon, null)),\n            state.stopped && recording?.asset_url ? (React.createElement(AudioRecordingPreview, { durationSeconds: recording.duration ?? 0, mimeType: recording.mime_type, src: recording.asset_url, waveformData: recording.waveform_data })) : state.paused || state.recording ? (React.createElement(AudioRecordingInProgress, null)) : null,\n            state.paused && (React.createElement(\"button\", { className: 'str-chat__audio_recorder__resume-recording-button', onClick: recorder.resume },\n                React.createElement(MicIcon, null))),\n            state.recording && (React.createElement(\"button\", { className: 'str-chat__audio_recorder__pause-recording-button', \"data-testid\": 'pause-recording-audio-button', onClick: recorder.pause },\n                React.createElement(PauseIcon, null))),\n            state.stopped ? (React.createElement(\"button\", { className: 'str-chat__audio_recorder__complete-button', \"data-testid\": 'audio-recorder-complete-button', disabled: isUploadingFile, onClick: completeRecording }, isUploadingFile ? React.createElement(LoadingIndicatorIcon, null) : React.createElement(SendIcon, null))) : (React.createElement(\"button\", { className: 'str-chat__audio_recorder__stop-button', \"data-testid\": 'audio-recorder-stop-button', onClick: recorder.stop },\n                React.createElement(CheckSignIcon, null))))));\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}