{"ast":null,"code":"(function (name, definition) {\n  if (typeof define === 'function' && define.amd) {\n    // RequireJS / AMD\n    define(definition);\n  } else if (typeof module !== 'undefined' && module.exports) {\n    // CommonJS / Node.js\n    module.exports = definition();\n  } else {\n    // Direct include\n    window.ysFixWebmDuration = definition();\n  }\n})('fix-webm-duration', function () {\n  /*\n   * This is the list of possible WEBM file sections by their IDs.\n   * Possible types: Container, Binary, Uint, Int, String, Float, Date\n   */\n  var sections = {\n    0xa45dfa3: {\n      name: 'EBML',\n      type: 'Container'\n    },\n    0x286: {\n      name: 'EBMLVersion',\n      type: 'Uint'\n    },\n    0x2f7: {\n      name: 'EBMLReadVersion',\n      type: 'Uint'\n    },\n    0x2f2: {\n      name: 'EBMLMaxIDLength',\n      type: 'Uint'\n    },\n    0x2f3: {\n      name: 'EBMLMaxSizeLength',\n      type: 'Uint'\n    },\n    0x282: {\n      name: 'DocType',\n      type: 'String'\n    },\n    0x287: {\n      name: 'DocTypeVersion',\n      type: 'Uint'\n    },\n    0x285: {\n      name: 'DocTypeReadVersion',\n      type: 'Uint'\n    },\n    0x6c: {\n      name: 'Void',\n      type: 'Binary'\n    },\n    0x3f: {\n      name: 'CRC-32',\n      type: 'Binary'\n    },\n    0xb538667: {\n      name: 'SignatureSlot',\n      type: 'Container'\n    },\n    0x3e8a: {\n      name: 'SignatureAlgo',\n      type: 'Uint'\n    },\n    0x3e9a: {\n      name: 'SignatureHash',\n      type: 'Uint'\n    },\n    0x3ea5: {\n      name: 'SignaturePublicKey',\n      type: 'Binary'\n    },\n    0x3eb5: {\n      name: 'Signature',\n      type: 'Binary'\n    },\n    0x3e5b: {\n      name: 'SignatureElements',\n      type: 'Container'\n    },\n    0x3e7b: {\n      name: 'SignatureElementList',\n      type: 'Container'\n    },\n    0x2532: {\n      name: 'SignedElement',\n      type: 'Binary'\n    },\n    0x8538067: {\n      name: 'Segment',\n      type: 'Container'\n    },\n    0x14d9b74: {\n      name: 'SeekHead',\n      type: 'Container'\n    },\n    0xdbb: {\n      name: 'Seek',\n      type: 'Container'\n    },\n    0x13ab: {\n      name: 'SeekID',\n      type: 'Binary'\n    },\n    0x13ac: {\n      name: 'SeekPosition',\n      type: 'Uint'\n    },\n    0x549a966: {\n      name: 'Info',\n      type: 'Container'\n    },\n    0x33a4: {\n      name: 'SegmentUID',\n      type: 'Binary'\n    },\n    0x3384: {\n      name: 'SegmentFilename',\n      type: 'String'\n    },\n    0x1cb923: {\n      name: 'PrevUID',\n      type: 'Binary'\n    },\n    0x1c83ab: {\n      name: 'PrevFilename',\n      type: 'String'\n    },\n    0x1eb923: {\n      name: 'NextUID',\n      type: 'Binary'\n    },\n    0x1e83bb: {\n      name: 'NextFilename',\n      type: 'String'\n    },\n    0x444: {\n      name: 'SegmentFamily',\n      type: 'Binary'\n    },\n    0x2924: {\n      name: 'ChapterTranslate',\n      type: 'Container'\n    },\n    0x29fc: {\n      name: 'ChapterTranslateEditionUID',\n      type: 'Uint'\n    },\n    0x29bf: {\n      name: 'ChapterTranslateCodec',\n      type: 'Uint'\n    },\n    0x29a5: {\n      name: 'ChapterTranslateID',\n      type: 'Binary'\n    },\n    0xad7b1: {\n      name: 'TimecodeScale',\n      type: 'Uint'\n    },\n    0x489: {\n      name: 'Duration',\n      type: 'Float'\n    },\n    0x461: {\n      name: 'DateUTC',\n      type: 'Date'\n    },\n    0x3ba9: {\n      name: 'Title',\n      type: 'String'\n    },\n    0xd80: {\n      name: 'MuxingApp',\n      type: 'String'\n    },\n    0x1741: {\n      name: 'WritingApp',\n      type: 'String'\n    },\n    // 0xf43b675: { name: 'Cluster', type: 'Container' },\n    0x67: {\n      name: 'Timecode',\n      type: 'Uint'\n    },\n    0x1854: {\n      name: 'SilentTracks',\n      type: 'Container'\n    },\n    0x18d7: {\n      name: 'SilentTrackNumber',\n      type: 'Uint'\n    },\n    0x27: {\n      name: 'Position',\n      type: 'Uint'\n    },\n    0x2b: {\n      name: 'PrevSize',\n      type: 'Uint'\n    },\n    0x23: {\n      name: 'SimpleBlock',\n      type: 'Binary'\n    },\n    0x20: {\n      name: 'BlockGroup',\n      type: 'Container'\n    },\n    0x21: {\n      name: 'Block',\n      type: 'Binary'\n    },\n    0x22: {\n      name: 'BlockVirtual',\n      type: 'Binary'\n    },\n    0x35a1: {\n      name: 'BlockAdditions',\n      type: 'Container'\n    },\n    0x26: {\n      name: 'BlockMore',\n      type: 'Container'\n    },\n    0x6e: {\n      name: 'BlockAddID',\n      type: 'Uint'\n    },\n    0x25: {\n      name: 'BlockAdditional',\n      type: 'Binary'\n    },\n    0x1b: {\n      name: 'BlockDuration',\n      type: 'Uint'\n    },\n    0x7a: {\n      name: 'ReferencePriority',\n      type: 'Uint'\n    },\n    0x7b: {\n      name: 'ReferenceBlock',\n      type: 'Int'\n    },\n    0x7d: {\n      name: 'ReferenceVirtual',\n      type: 'Int'\n    },\n    0x24: {\n      name: 'CodecState',\n      type: 'Binary'\n    },\n    0x35a2: {\n      name: 'DiscardPadding',\n      type: 'Int'\n    },\n    0xe: {\n      name: 'Slices',\n      type: 'Container'\n    },\n    0x68: {\n      name: 'TimeSlice',\n      type: 'Container'\n    },\n    0x4c: {\n      name: 'LaceNumber',\n      type: 'Uint'\n    },\n    0x4d: {\n      name: 'FrameNumber',\n      type: 'Uint'\n    },\n    0x4b: {\n      name: 'BlockAdditionID',\n      type: 'Uint'\n    },\n    0x4e: {\n      name: 'Delay',\n      type: 'Uint'\n    },\n    0x4f: {\n      name: 'SliceDuration',\n      type: 'Uint'\n    },\n    0x48: {\n      name: 'ReferenceFrame',\n      type: 'Container'\n    },\n    0x49: {\n      name: 'ReferenceOffset',\n      type: 'Uint'\n    },\n    0x4a: {\n      name: 'ReferenceTimeCode',\n      type: 'Uint'\n    },\n    0x2f: {\n      name: 'EncryptedBlock',\n      type: 'Binary'\n    },\n    0x654ae6b: {\n      name: 'Tracks',\n      type: 'Container'\n    },\n    0x2e: {\n      name: 'TrackEntry',\n      type: 'Container'\n    },\n    0x57: {\n      name: 'TrackNumber',\n      type: 'Uint'\n    },\n    0x33c5: {\n      name: 'TrackUID',\n      type: 'Uint'\n    },\n    0x3: {\n      name: 'TrackType',\n      type: 'Uint'\n    },\n    0x39: {\n      name: 'FlagEnabled',\n      type: 'Uint'\n    },\n    0x8: {\n      name: 'FlagDefault',\n      type: 'Uint'\n    },\n    0x15aa: {\n      name: 'FlagForced',\n      type: 'Uint'\n    },\n    0x1c: {\n      name: 'FlagLacing',\n      type: 'Uint'\n    },\n    0x2de7: {\n      name: 'MinCache',\n      type: 'Uint'\n    },\n    0x2df8: {\n      name: 'MaxCache',\n      type: 'Uint'\n    },\n    0x3e383: {\n      name: 'DefaultDuration',\n      type: 'Uint'\n    },\n    0x34e7a: {\n      name: 'DefaultDecodedFieldDuration',\n      type: 'Uint'\n    },\n    0x3314f: {\n      name: 'TrackTimecodeScale',\n      type: 'Float'\n    },\n    0x137f: {\n      name: 'TrackOffset',\n      type: 'Int'\n    },\n    0x15ee: {\n      name: 'MaxBlockAdditionID',\n      type: 'Uint'\n    },\n    0x136e: {\n      name: 'Name',\n      type: 'String'\n    },\n    0x2b59c: {\n      name: 'Language',\n      type: 'String'\n    },\n    0x6: {\n      name: 'CodecID',\n      type: 'String'\n    },\n    0x23a2: {\n      name: 'CodecPrivate',\n      type: 'Binary'\n    },\n    0x58688: {\n      name: 'CodecName',\n      type: 'String'\n    },\n    0x3446: {\n      name: 'AttachmentLink',\n      type: 'Uint'\n    },\n    0x1a9697: {\n      name: 'CodecSettings',\n      type: 'String'\n    },\n    0x1b4040: {\n      name: 'CodecInfoURL',\n      type: 'String'\n    },\n    0x6b240: {\n      name: 'CodecDownloadURL',\n      type: 'String'\n    },\n    0x2a: {\n      name: 'CodecDecodeAll',\n      type: 'Uint'\n    },\n    0x2fab: {\n      name: 'TrackOverlay',\n      type: 'Uint'\n    },\n    0x16aa: {\n      name: 'CodecDelay',\n      type: 'Uint'\n    },\n    0x16bb: {\n      name: 'SeekPreRoll',\n      type: 'Uint'\n    },\n    0x2624: {\n      name: 'TrackTranslate',\n      type: 'Container'\n    },\n    0x26fc: {\n      name: 'TrackTranslateEditionUID',\n      type: 'Uint'\n    },\n    0x26bf: {\n      name: 'TrackTranslateCodec',\n      type: 'Uint'\n    },\n    0x26a5: {\n      name: 'TrackTranslateTrackID',\n      type: 'Binary'\n    },\n    0x60: {\n      name: 'Video',\n      type: 'Container'\n    },\n    0x1a: {\n      name: 'FlagInterlaced',\n      type: 'Uint'\n    },\n    0x13b8: {\n      name: 'StereoMode',\n      type: 'Uint'\n    },\n    0x13c0: {\n      name: 'AlphaMode',\n      type: 'Uint'\n    },\n    0x13b9: {\n      name: 'OldStereoMode',\n      type: 'Uint'\n    },\n    0x30: {\n      name: 'PixelWidth',\n      type: 'Uint'\n    },\n    0x3a: {\n      name: 'PixelHeight',\n      type: 'Uint'\n    },\n    0x14aa: {\n      name: 'PixelCropBottom',\n      type: 'Uint'\n    },\n    0x14bb: {\n      name: 'PixelCropTop',\n      type: 'Uint'\n    },\n    0x14cc: {\n      name: 'PixelCropLeft',\n      type: 'Uint'\n    },\n    0x14dd: {\n      name: 'PixelCropRight',\n      type: 'Uint'\n    },\n    0x14b0: {\n      name: 'DisplayWidth',\n      type: 'Uint'\n    },\n    0x14ba: {\n      name: 'DisplayHeight',\n      type: 'Uint'\n    },\n    0x14b2: {\n      name: 'DisplayUnit',\n      type: 'Uint'\n    },\n    0x14b3: {\n      name: 'AspectRatioType',\n      type: 'Uint'\n    },\n    0xeb524: {\n      name: 'ColourSpace',\n      type: 'Binary'\n    },\n    0xfb523: {\n      name: 'GammaValue',\n      type: 'Float'\n    },\n    0x383e3: {\n      name: 'FrameRate',\n      type: 'Float'\n    },\n    0x61: {\n      name: 'Audio',\n      type: 'Container'\n    },\n    0x35: {\n      name: 'SamplingFrequency',\n      type: 'Float'\n    },\n    0x38b5: {\n      name: 'OutputSamplingFrequency',\n      type: 'Float'\n    },\n    0x1f: {\n      name: 'Channels',\n      type: 'Uint'\n    },\n    0x3d7b: {\n      name: 'ChannelPositions',\n      type: 'Binary'\n    },\n    0x2264: {\n      name: 'BitDepth',\n      type: 'Uint'\n    },\n    0x62: {\n      name: 'TrackOperation',\n      type: 'Container'\n    },\n    0x63: {\n      name: 'TrackCombinePlanes',\n      type: 'Container'\n    },\n    0x64: {\n      name: 'TrackPlane',\n      type: 'Container'\n    },\n    0x65: {\n      name: 'TrackPlaneUID',\n      type: 'Uint'\n    },\n    0x66: {\n      name: 'TrackPlaneType',\n      type: 'Uint'\n    },\n    0x69: {\n      name: 'TrackJoinBlocks',\n      type: 'Container'\n    },\n    0x6d: {\n      name: 'TrackJoinUID',\n      type: 'Uint'\n    },\n    0x40: {\n      name: 'TrickTrackUID',\n      type: 'Uint'\n    },\n    0x41: {\n      name: 'TrickTrackSegmentUID',\n      type: 'Binary'\n    },\n    0x46: {\n      name: 'TrickTrackFlag',\n      type: 'Uint'\n    },\n    0x47: {\n      name: 'TrickMasterTrackUID',\n      type: 'Uint'\n    },\n    0x44: {\n      name: 'TrickMasterTrackSegmentUID',\n      type: 'Binary'\n    },\n    0x2d80: {\n      name: 'ContentEncodings',\n      type: 'Container'\n    },\n    0x2240: {\n      name: 'ContentEncoding',\n      type: 'Container'\n    },\n    0x1031: {\n      name: 'ContentEncodingOrder',\n      type: 'Uint'\n    },\n    0x1032: {\n      name: 'ContentEncodingScope',\n      type: 'Uint'\n    },\n    0x1033: {\n      name: 'ContentEncodingType',\n      type: 'Uint'\n    },\n    0x1034: {\n      name: 'ContentCompression',\n      type: 'Container'\n    },\n    0x254: {\n      name: 'ContentCompAlgo',\n      type: 'Uint'\n    },\n    0x255: {\n      name: 'ContentCompSettings',\n      type: 'Binary'\n    },\n    0x1035: {\n      name: 'ContentEncryption',\n      type: 'Container'\n    },\n    0x7e1: {\n      name: 'ContentEncAlgo',\n      type: 'Uint'\n    },\n    0x7e2: {\n      name: 'ContentEncKeyID',\n      type: 'Binary'\n    },\n    0x7e3: {\n      name: 'ContentSignature',\n      type: 'Binary'\n    },\n    0x7e4: {\n      name: 'ContentSigKeyID',\n      type: 'Binary'\n    },\n    0x7e5: {\n      name: 'ContentSigAlgo',\n      type: 'Uint'\n    },\n    0x7e6: {\n      name: 'ContentSigHashAlgo',\n      type: 'Uint'\n    },\n    0xc53bb6b: {\n      name: 'Cues',\n      type: 'Container'\n    },\n    0x3b: {\n      name: 'CuePoint',\n      type: 'Container'\n    },\n    0x33: {\n      name: 'CueTime',\n      type: 'Uint'\n    },\n    0x37: {\n      name: 'CueTrackPositions',\n      type: 'Container'\n    },\n    0x77: {\n      name: 'CueTrack',\n      type: 'Uint'\n    },\n    0x71: {\n      name: 'CueClusterPosition',\n      type: 'Uint'\n    },\n    0x70: {\n      name: 'CueRelativePosition',\n      type: 'Uint'\n    },\n    0x32: {\n      name: 'CueDuration',\n      type: 'Uint'\n    },\n    0x1378: {\n      name: 'CueBlockNumber',\n      type: 'Uint'\n    },\n    0x6a: {\n      name: 'CueCodecState',\n      type: 'Uint'\n    },\n    0x5b: {\n      name: 'CueReference',\n      type: 'Container'\n    },\n    0x16: {\n      name: 'CueRefTime',\n      type: 'Uint'\n    },\n    0x17: {\n      name: 'CueRefCluster',\n      type: 'Uint'\n    },\n    0x135f: {\n      name: 'CueRefNumber',\n      type: 'Uint'\n    },\n    0x6b: {\n      name: 'CueRefCodecState',\n      type: 'Uint'\n    },\n    0x941a469: {\n      name: 'Attachments',\n      type: 'Container'\n    },\n    0x21a7: {\n      name: 'AttachedFile',\n      type: 'Container'\n    },\n    0x67e: {\n      name: 'FileDescription',\n      type: 'String'\n    },\n    0x66e: {\n      name: 'FileName',\n      type: 'String'\n    },\n    0x660: {\n      name: 'FileMimeType',\n      type: 'String'\n    },\n    0x65c: {\n      name: 'FileData',\n      type: 'Binary'\n    },\n    0x6ae: {\n      name: 'FileUID',\n      type: 'Uint'\n    },\n    0x675: {\n      name: 'FileReferral',\n      type: 'Binary'\n    },\n    0x661: {\n      name: 'FileUsedStartTime',\n      type: 'Uint'\n    },\n    0x662: {\n      name: 'FileUsedEndTime',\n      type: 'Uint'\n    },\n    0x43a770: {\n      name: 'Chapters',\n      type: 'Container'\n    },\n    0x5b9: {\n      name: 'EditionEntry',\n      type: 'Container'\n    },\n    0x5bc: {\n      name: 'EditionUID',\n      type: 'Uint'\n    },\n    0x5bd: {\n      name: 'EditionFlagHidden',\n      type: 'Uint'\n    },\n    0x5db: {\n      name: 'EditionFlagDefault',\n      type: 'Uint'\n    },\n    0x5dd: {\n      name: 'EditionFlagOrdered',\n      type: 'Uint'\n    },\n    0x36: {\n      name: 'ChapterAtom',\n      type: 'Container'\n    },\n    0x33c4: {\n      name: 'ChapterUID',\n      type: 'Uint'\n    },\n    0x1654: {\n      name: 'ChapterStringUID',\n      type: 'String'\n    },\n    0x11: {\n      name: 'ChapterTimeStart',\n      type: 'Uint'\n    },\n    0x12: {\n      name: 'ChapterTimeEnd',\n      type: 'Uint'\n    },\n    0x18: {\n      name: 'ChapterFlagHidden',\n      type: 'Uint'\n    },\n    0x598: {\n      name: 'ChapterFlagEnabled',\n      type: 'Uint'\n    },\n    0x2e67: {\n      name: 'ChapterSegmentUID',\n      type: 'Binary'\n    },\n    0x2ebc: {\n      name: 'ChapterSegmentEditionUID',\n      type: 'Uint'\n    },\n    0x23c3: {\n      name: 'ChapterPhysicalEquiv',\n      type: 'Uint'\n    },\n    0xf: {\n      name: 'ChapterTrack',\n      type: 'Container'\n    },\n    0x9: {\n      name: 'ChapterTrackNumber',\n      type: 'Uint'\n    },\n    0x0: {\n      name: 'ChapterDisplay',\n      type: 'Container'\n    },\n    0x5: {\n      name: 'ChapString',\n      type: 'String'\n    },\n    0x37c: {\n      name: 'ChapLanguage',\n      type: 'String'\n    },\n    0x37e: {\n      name: 'ChapCountry',\n      type: 'String'\n    },\n    0x2944: {\n      name: 'ChapProcess',\n      type: 'Container'\n    },\n    0x2955: {\n      name: 'ChapProcessCodecID',\n      type: 'Uint'\n    },\n    0x50d: {\n      name: 'ChapProcessPrivate',\n      type: 'Binary'\n    },\n    0x2911: {\n      name: 'ChapProcessCommand',\n      type: 'Container'\n    },\n    0x2922: {\n      name: 'ChapProcessTime',\n      type: 'Uint'\n    },\n    0x2933: {\n      name: 'ChapProcessData',\n      type: 'Binary'\n    },\n    0x254c367: {\n      name: 'Tags',\n      type: 'Container'\n    },\n    0x3373: {\n      name: 'Tag',\n      type: 'Container'\n    },\n    0x23c0: {\n      name: 'Targets',\n      type: 'Container'\n    },\n    0x28ca: {\n      name: 'TargetTypeValue',\n      type: 'Uint'\n    },\n    0x23ca: {\n      name: 'TargetType',\n      type: 'String'\n    },\n    0x23c5: {\n      name: 'TagTrackUID',\n      type: 'Uint'\n    },\n    0x23c9: {\n      name: 'TagEditionUID',\n      type: 'Uint'\n    },\n    0x23c4: {\n      name: 'TagChapterUID',\n      type: 'Uint'\n    },\n    0x23c6: {\n      name: 'TagAttachmentUID',\n      type: 'Uint'\n    },\n    0x27c8: {\n      name: 'SimpleTag',\n      type: 'Container'\n    },\n    0x5a3: {\n      name: 'TagName',\n      type: 'String'\n    },\n    0x47a: {\n      name: 'TagLanguage',\n      type: 'String'\n    },\n    0x484: {\n      name: 'TagDefault',\n      type: 'Uint'\n    },\n    0x487: {\n      name: 'TagString',\n      type: 'String'\n    },\n    0x485: {\n      name: 'TagBinary',\n      type: 'Binary'\n    }\n  };\n  function doInherit(newClass, baseClass) {\n    newClass.prototype = Object.create(baseClass.prototype);\n    newClass.prototype.constructor = newClass;\n  }\n  function WebmBase(name, type) {\n    this.name = name || 'Unknown';\n    this.type = type || 'Unknown';\n  }\n  WebmBase.prototype.updateBySource = function () {};\n  WebmBase.prototype.setSource = function (source) {\n    this.source = source;\n    this.updateBySource();\n  };\n  WebmBase.prototype.updateByData = function () {};\n  WebmBase.prototype.setData = function (data) {\n    this.data = data;\n    this.updateByData();\n  };\n  function WebmUint(name, type) {\n    WebmBase.call(this, name, type || 'Uint');\n  }\n  doInherit(WebmUint, WebmBase);\n  function padHex(hex) {\n    return hex.length % 2 === 1 ? '0' + hex : hex;\n  }\n  WebmUint.prototype.updateBySource = function () {\n    // use hex representation of a number instead of number value\n    this.data = '';\n    for (var i = 0; i < this.source.length; i++) {\n      var hex = this.source[i].toString(16);\n      this.data += padHex(hex);\n    }\n  };\n  WebmUint.prototype.updateByData = function () {\n    var length = this.data.length / 2;\n    this.source = new Uint8Array(length);\n    for (var i = 0; i < length; i++) {\n      var hex = this.data.substr(i * 2, 2);\n      this.source[i] = parseInt(hex, 16);\n    }\n  };\n  WebmUint.prototype.getValue = function () {\n    return parseInt(this.data, 16);\n  };\n  WebmUint.prototype.setValue = function (value) {\n    this.setData(padHex(value.toString(16)));\n  };\n  function WebmFloat(name, type) {\n    WebmBase.call(this, name, type || 'Float');\n  }\n  doInherit(WebmFloat, WebmBase);\n  WebmFloat.prototype.getFloatArrayType = function () {\n    return this.source && this.source.length === 4 ? Float32Array : Float64Array;\n  };\n  WebmFloat.prototype.updateBySource = function () {\n    var byteArray = this.source.reverse();\n    var floatArrayType = this.getFloatArrayType();\n    var floatArray = new floatArrayType(byteArray.buffer);\n    this.data = floatArray[0];\n  };\n  WebmFloat.prototype.updateByData = function () {\n    var floatArrayType = this.getFloatArrayType();\n    var floatArray = new floatArrayType([this.data]);\n    var byteArray = new Uint8Array(floatArray.buffer);\n    this.source = byteArray.reverse();\n  };\n  WebmFloat.prototype.getValue = function () {\n    return this.data;\n  };\n  WebmFloat.prototype.setValue = function (value) {\n    this.setData(value);\n  };\n  function WebmContainer(name, type) {\n    WebmBase.call(this, name, type || 'Container');\n  }\n  doInherit(WebmContainer, WebmBase);\n  WebmContainer.prototype.readByte = function () {\n    return this.source[this.offset++];\n  };\n  WebmContainer.prototype.readUint = function () {\n    var firstByte = this.readByte();\n    var bytes = 8 - firstByte.toString(2).length;\n    var value = firstByte - (1 << 7 - bytes);\n    for (var i = 0; i < bytes; i++) {\n      // don't use bit operators to support x86\n      value *= 256;\n      value += this.readByte();\n    }\n    return value;\n  };\n  WebmContainer.prototype.updateBySource = function () {\n    this.data = [];\n    for (this.offset = 0; this.offset < this.source.length; this.offset = end) {\n      var id = this.readUint();\n      var len = this.readUint();\n      var end = Math.min(this.offset + len, this.source.length);\n      var data = this.source.slice(this.offset, end);\n      var info = sections[id] || {\n        name: 'Unknown',\n        type: 'Unknown'\n      };\n      var ctr = WebmBase;\n      switch (info.type) {\n        case 'Container':\n          ctr = WebmContainer;\n          break;\n        case 'Uint':\n          ctr = WebmUint;\n          break;\n        case 'Float':\n          ctr = WebmFloat;\n          break;\n      }\n      var section = new ctr(info.name, info.type);\n      section.setSource(data);\n      this.data.push({\n        id: id,\n        idHex: id.toString(16),\n        data: section\n      });\n    }\n  };\n  WebmContainer.prototype.writeUint = function (x, draft) {\n    for (var bytes = 1, flag = 0x80; x >= flag && bytes < 8; bytes++, flag *= 0x80) {}\n    if (!draft) {\n      var value = flag + x;\n      for (var i = bytes - 1; i >= 0; i--) {\n        // don't use bit operators to support x86\n        var c = value % 256;\n        this.source[this.offset + i] = c;\n        value = (value - c) / 256;\n      }\n    }\n    this.offset += bytes;\n  };\n  WebmContainer.prototype.writeSections = function (draft) {\n    this.offset = 0;\n    for (var i = 0; i < this.data.length; i++) {\n      var section = this.data[i],\n        content = section.data.source,\n        contentLength = content.length;\n      this.writeUint(section.id, draft);\n      this.writeUint(contentLength, draft);\n      if (!draft) {\n        this.source.set(content, this.offset);\n      }\n      this.offset += contentLength;\n    }\n    return this.offset;\n  };\n  WebmContainer.prototype.updateByData = function () {\n    // run without accessing this.source to determine total length - need to know it to create Uint8Array\n    var length = this.writeSections('draft');\n    this.source = new Uint8Array(length);\n    // now really write data\n    this.writeSections();\n  };\n  WebmContainer.prototype.getSectionById = function (id) {\n    for (var i = 0; i < this.data.length; i++) {\n      var section = this.data[i];\n      if (section.id === id) {\n        return section.data;\n      }\n    }\n    return null;\n  };\n  function WebmFile(source) {\n    WebmContainer.call(this, 'File', 'File');\n    this.setSource(source);\n  }\n  doInherit(WebmFile, WebmContainer);\n  WebmFile.prototype.fixDuration = function (duration, options) {\n    var logger = options && options.logger;\n    if (logger === undefined) {\n      logger = function (message) {\n        console.log(message);\n      };\n    } else if (!logger) {\n      logger = function () {};\n    }\n    var segmentSection = this.getSectionById(0x8538067);\n    if (!segmentSection) {\n      logger('[fix-webm-duration] Segment section is missing');\n      return false;\n    }\n    var infoSection = segmentSection.getSectionById(0x549a966);\n    if (!infoSection) {\n      logger('[fix-webm-duration] Info section is missing');\n      return false;\n    }\n    var timeScaleSection = infoSection.getSectionById(0xad7b1);\n    if (!timeScaleSection) {\n      logger('[fix-webm-duration] TimecodeScale section is missing');\n      return false;\n    }\n    var durationSection = infoSection.getSectionById(0x489);\n    if (durationSection) {\n      if (durationSection.getValue() <= 0) {\n        logger(\"[fix-webm-duration] Duration section is present, but the value is \".concat(durationSection.getValue()));\n        durationSection.setValue(duration);\n      } else {\n        logger(\"[fix-webm-duration] Duration section is present, and the value is \".concat(durationSection.getValue()));\n        return false;\n      }\n    } else {\n      logger('[fix-webm-duration] Duration section is missing');\n      // append Duration section\n      durationSection = new WebmFloat('Duration', 'Float');\n      durationSection.setValue(duration);\n      infoSection.data.push({\n        id: 0x489,\n        data: durationSection\n      });\n    }\n\n    // set default time scale to 1 millisecond (1000000 nanoseconds)\n    timeScaleSection.setValue(1000000);\n    infoSection.updateByData();\n    segmentSection.updateByData();\n    this.updateByData();\n    return true;\n  };\n  WebmFile.prototype.toBlob = function (mimeType) {\n    return new Blob([this.source.buffer], {\n      type: mimeType || 'video/webm'\n    });\n  };\n  function fixWebmDuration(blob, duration, callback, options) {\n    // The callback may be omitted - then the third argument is options\n    if (typeof callback === \"object\") {\n      options = callback;\n      callback = undefined;\n    }\n    if (!callback) {\n      return new Promise(function (resolve) {\n        fixWebmDuration(blob, duration, resolve, options);\n      });\n    }\n    try {\n      var reader = new FileReader();\n      reader.onloadend = function () {\n        try {\n          var file = new WebmFile(new Uint8Array(reader.result));\n          if (file.fixDuration(duration, options)) {\n            blob = file.toBlob(blob.type);\n          }\n        } catch (ex) {\n          // ignore\n        }\n        callback(blob);\n      };\n      reader.readAsArrayBuffer(blob);\n    } catch (ex) {\n      callback(blob);\n    }\n  }\n\n  // Support AMD import default\n  fixWebmDuration.default = fixWebmDuration;\n  return fixWebmDuration;\n});","map":{"version":3,"names":["name","definition","define","amd","module","exports","window","ysFixWebmDuration","sections","type","doInherit","newClass","baseClass","prototype","Object","create","constructor","WebmBase","updateBySource","setSource","source","updateByData","setData","data","WebmUint","call","padHex","hex","length","i","toString","Uint8Array","substr","parseInt","getValue","setValue","value","WebmFloat","getFloatArrayType","Float32Array","Float64Array","byteArray","reverse","floatArrayType","floatArray","buffer","WebmContainer","readByte","offset","readUint","firstByte","bytes","end","id","len","Math","min","slice","info","ctr","section","push","idHex","writeUint","x","draft","flag","c","writeSections","content","contentLength","set","getSectionById","WebmFile","fixDuration","duration","options","logger","undefined","message","console","log","segmentSection","infoSection","timeScaleSection","durationSection","concat","toBlob","mimeType","Blob","fixWebmDuration","blob","callback","Promise","resolve","reader","FileReader","onloadend","file","result","ex","readAsArrayBuffer","default"],"sources":["/tmp/daft-chat-temp/node_modules/fix-webm-duration/fix-webm-duration.js"],"sourcesContent":["(function (name, definition) {\n    if (typeof define === 'function' && define.amd) { // RequireJS / AMD\n        define(definition);\n    } else if (typeof module !== 'undefined' && module.exports) { // CommonJS / Node.js\n        module.exports = definition();\n    } else { // Direct include\n        window.ysFixWebmDuration = definition();\n    }\n})('fix-webm-duration', function () {\n    /*\n     * This is the list of possible WEBM file sections by their IDs.\n     * Possible types: Container, Binary, Uint, Int, String, Float, Date\n     */\n    var sections = {\n        0xa45dfa3: { name: 'EBML', type: 'Container' },\n        0x286: { name: 'EBMLVersion', type: 'Uint' },\n        0x2f7: { name: 'EBMLReadVersion', type: 'Uint' },\n        0x2f2: { name: 'EBMLMaxIDLength', type: 'Uint' },\n        0x2f3: { name: 'EBMLMaxSizeLength', type: 'Uint' },\n        0x282: { name: 'DocType', type: 'String' },\n        0x287: { name: 'DocTypeVersion', type: 'Uint' },\n        0x285: { name: 'DocTypeReadVersion', type: 'Uint' },\n        0x6c: { name: 'Void', type: 'Binary' },\n        0x3f: { name: 'CRC-32', type: 'Binary' },\n        0xb538667: { name: 'SignatureSlot', type: 'Container' },\n        0x3e8a: { name: 'SignatureAlgo', type: 'Uint' },\n        0x3e9a: { name: 'SignatureHash', type: 'Uint' },\n        0x3ea5: { name: 'SignaturePublicKey', type: 'Binary' },\n        0x3eb5: { name: 'Signature', type: 'Binary' },\n        0x3e5b: { name: 'SignatureElements', type: 'Container' },\n        0x3e7b: { name: 'SignatureElementList', type: 'Container' },\n        0x2532: { name: 'SignedElement', type: 'Binary' },\n        0x8538067: { name: 'Segment', type: 'Container' },\n        0x14d9b74: { name: 'SeekHead', type: 'Container' },\n        0xdbb: { name: 'Seek', type: 'Container' },\n        0x13ab: { name: 'SeekID', type: 'Binary' },\n        0x13ac: { name: 'SeekPosition', type: 'Uint' },\n        0x549a966: { name: 'Info', type: 'Container' },\n        0x33a4: { name: 'SegmentUID', type: 'Binary' },\n        0x3384: { name: 'SegmentFilename', type: 'String' },\n        0x1cb923: { name: 'PrevUID', type: 'Binary' },\n        0x1c83ab: { name: 'PrevFilename', type: 'String' },\n        0x1eb923: { name: 'NextUID', type: 'Binary' },\n        0x1e83bb: { name: 'NextFilename', type: 'String' },\n        0x444: { name: 'SegmentFamily', type: 'Binary' },\n        0x2924: { name: 'ChapterTranslate', type: 'Container' },\n        0x29fc: { name: 'ChapterTranslateEditionUID', type: 'Uint' },\n        0x29bf: { name: 'ChapterTranslateCodec', type: 'Uint' },\n        0x29a5: { name: 'ChapterTranslateID', type: 'Binary' },\n        0xad7b1: { name: 'TimecodeScale', type: 'Uint' },\n        0x489: { name: 'Duration', type: 'Float' },\n        0x461: { name: 'DateUTC', type: 'Date' },\n        0x3ba9: { name: 'Title', type: 'String' },\n        0xd80: { name: 'MuxingApp', type: 'String' },\n        0x1741: { name: 'WritingApp', type: 'String' },\n        // 0xf43b675: { name: 'Cluster', type: 'Container' },\n        0x67: { name: 'Timecode', type: 'Uint' },\n        0x1854: { name: 'SilentTracks', type: 'Container' },\n        0x18d7: { name: 'SilentTrackNumber', type: 'Uint' },\n        0x27: { name: 'Position', type: 'Uint' },\n        0x2b: { name: 'PrevSize', type: 'Uint' },\n        0x23: { name: 'SimpleBlock', type: 'Binary' },\n        0x20: { name: 'BlockGroup', type: 'Container' },\n        0x21: { name: 'Block', type: 'Binary' },\n        0x22: { name: 'BlockVirtual', type: 'Binary' },\n        0x35a1: { name: 'BlockAdditions', type: 'Container' },\n        0x26: { name: 'BlockMore', type: 'Container' },\n        0x6e: { name: 'BlockAddID', type: 'Uint' },\n        0x25: { name: 'BlockAdditional', type: 'Binary' },\n        0x1b: { name: 'BlockDuration', type: 'Uint' },\n        0x7a: { name: 'ReferencePriority', type: 'Uint' },\n        0x7b: { name: 'ReferenceBlock', type: 'Int' },\n        0x7d: { name: 'ReferenceVirtual', type: 'Int' },\n        0x24: { name: 'CodecState', type: 'Binary' },\n        0x35a2: { name: 'DiscardPadding', type: 'Int' },\n        0xe: { name: 'Slices', type: 'Container' },\n        0x68: { name: 'TimeSlice', type: 'Container' },\n        0x4c: { name: 'LaceNumber', type: 'Uint' },\n        0x4d: { name: 'FrameNumber', type: 'Uint' },\n        0x4b: { name: 'BlockAdditionID', type: 'Uint' },\n        0x4e: { name: 'Delay', type: 'Uint' },\n        0x4f: { name: 'SliceDuration', type: 'Uint' },\n        0x48: { name: 'ReferenceFrame', type: 'Container' },\n        0x49: { name: 'ReferenceOffset', type: 'Uint' },\n        0x4a: { name: 'ReferenceTimeCode', type: 'Uint' },\n        0x2f: { name: 'EncryptedBlock', type: 'Binary' },\n        0x654ae6b: { name: 'Tracks', type: 'Container' },\n        0x2e: { name: 'TrackEntry', type: 'Container' },\n        0x57: { name: 'TrackNumber', type: 'Uint' },\n        0x33c5: { name: 'TrackUID', type: 'Uint' },\n        0x3: { name: 'TrackType', type: 'Uint' },\n        0x39: { name: 'FlagEnabled', type: 'Uint' },\n        0x8: { name: 'FlagDefault', type: 'Uint' },\n        0x15aa: { name: 'FlagForced', type: 'Uint' },\n        0x1c: { name: 'FlagLacing', type: 'Uint' },\n        0x2de7: { name: 'MinCache', type: 'Uint' },\n        0x2df8: { name: 'MaxCache', type: 'Uint' },\n        0x3e383: { name: 'DefaultDuration', type: 'Uint' },\n        0x34e7a: { name: 'DefaultDecodedFieldDuration', type: 'Uint' },\n        0x3314f: { name: 'TrackTimecodeScale', type: 'Float' },\n        0x137f: { name: 'TrackOffset', type: 'Int' },\n        0x15ee: { name: 'MaxBlockAdditionID', type: 'Uint' },\n        0x136e: { name: 'Name', type: 'String' },\n        0x2b59c: { name: 'Language', type: 'String' },\n        0x6: { name: 'CodecID', type: 'String' },\n        0x23a2: { name: 'CodecPrivate', type: 'Binary' },\n        0x58688: { name: 'CodecName', type: 'String' },\n        0x3446: { name: 'AttachmentLink', type: 'Uint' },\n        0x1a9697: { name: 'CodecSettings', type: 'String' },\n        0x1b4040: { name: 'CodecInfoURL', type: 'String' },\n        0x6b240: { name: 'CodecDownloadURL', type: 'String' },\n        0x2a: { name: 'CodecDecodeAll', type: 'Uint' },\n        0x2fab: { name: 'TrackOverlay', type: 'Uint' },\n        0x16aa: { name: 'CodecDelay', type: 'Uint' },\n        0x16bb: { name: 'SeekPreRoll', type: 'Uint' },\n        0x2624: { name: 'TrackTranslate', type: 'Container' },\n        0x26fc: { name: 'TrackTranslateEditionUID', type: 'Uint' },\n        0x26bf: { name: 'TrackTranslateCodec', type: 'Uint' },\n        0x26a5: { name: 'TrackTranslateTrackID', type: 'Binary' },\n        0x60: { name: 'Video', type: 'Container' },\n        0x1a: { name: 'FlagInterlaced', type: 'Uint' },\n        0x13b8: { name: 'StereoMode', type: 'Uint' },\n        0x13c0: { name: 'AlphaMode', type: 'Uint' },\n        0x13b9: { name: 'OldStereoMode', type: 'Uint' },\n        0x30: { name: 'PixelWidth', type: 'Uint' },\n        0x3a: { name: 'PixelHeight', type: 'Uint' },\n        0x14aa: { name: 'PixelCropBottom', type: 'Uint' },\n        0x14bb: { name: 'PixelCropTop', type: 'Uint' },\n        0x14cc: { name: 'PixelCropLeft', type: 'Uint' },\n        0x14dd: { name: 'PixelCropRight', type: 'Uint' },\n        0x14b0: { name: 'DisplayWidth', type: 'Uint' },\n        0x14ba: { name: 'DisplayHeight', type: 'Uint' },\n        0x14b2: { name: 'DisplayUnit', type: 'Uint' },\n        0x14b3: { name: 'AspectRatioType', type: 'Uint' },\n        0xeb524: { name: 'ColourSpace', type: 'Binary' },\n        0xfb523: { name: 'GammaValue', type: 'Float' },\n        0x383e3: { name: 'FrameRate', type: 'Float' },\n        0x61: { name: 'Audio', type: 'Container' },\n        0x35: { name: 'SamplingFrequency', type: 'Float' },\n        0x38b5: { name: 'OutputSamplingFrequency', type: 'Float' },\n        0x1f: { name: 'Channels', type: 'Uint' },\n        0x3d7b: { name: 'ChannelPositions', type: 'Binary' },\n        0x2264: { name: 'BitDepth', type: 'Uint' },\n        0x62: { name: 'TrackOperation', type: 'Container' },\n        0x63: { name: 'TrackCombinePlanes', type: 'Container' },\n        0x64: { name: 'TrackPlane', type: 'Container' },\n        0x65: { name: 'TrackPlaneUID', type: 'Uint' },\n        0x66: { name: 'TrackPlaneType', type: 'Uint' },\n        0x69: { name: 'TrackJoinBlocks', type: 'Container' },\n        0x6d: { name: 'TrackJoinUID', type: 'Uint' },\n        0x40: { name: 'TrickTrackUID', type: 'Uint' },\n        0x41: { name: 'TrickTrackSegmentUID', type: 'Binary' },\n        0x46: { name: 'TrickTrackFlag', type: 'Uint' },\n        0x47: { name: 'TrickMasterTrackUID', type: 'Uint' },\n        0x44: { name: 'TrickMasterTrackSegmentUID', type: 'Binary' },\n        0x2d80: { name: 'ContentEncodings', type: 'Container' },\n        0x2240: { name: 'ContentEncoding', type: 'Container' },\n        0x1031: { name: 'ContentEncodingOrder', type: 'Uint' },\n        0x1032: { name: 'ContentEncodingScope', type: 'Uint' },\n        0x1033: { name: 'ContentEncodingType', type: 'Uint' },\n        0x1034: { name: 'ContentCompression', type: 'Container' },\n        0x254: { name: 'ContentCompAlgo', type: 'Uint' },\n        0x255: { name: 'ContentCompSettings', type: 'Binary' },\n        0x1035: { name: 'ContentEncryption', type: 'Container' },\n        0x7e1: { name: 'ContentEncAlgo', type: 'Uint' },\n        0x7e2: { name: 'ContentEncKeyID', type: 'Binary' },\n        0x7e3: { name: 'ContentSignature', type: 'Binary' },\n        0x7e4: { name: 'ContentSigKeyID', type: 'Binary' },\n        0x7e5: { name: 'ContentSigAlgo', type: 'Uint' },\n        0x7e6: { name: 'ContentSigHashAlgo', type: 'Uint' },\n        0xc53bb6b: { name: 'Cues', type: 'Container' },\n        0x3b: { name: 'CuePoint', type: 'Container' },\n        0x33: { name: 'CueTime', type: 'Uint' },\n        0x37: { name: 'CueTrackPositions', type: 'Container' },\n        0x77: { name: 'CueTrack', type: 'Uint' },\n        0x71: { name: 'CueClusterPosition', type: 'Uint' },\n        0x70: { name: 'CueRelativePosition', type: 'Uint' },\n        0x32: { name: 'CueDuration', type: 'Uint' },\n        0x1378: { name: 'CueBlockNumber', type: 'Uint' },\n        0x6a: { name: 'CueCodecState', type: 'Uint' },\n        0x5b: { name: 'CueReference', type: 'Container' },\n        0x16: { name: 'CueRefTime', type: 'Uint' },\n        0x17: { name: 'CueRefCluster', type: 'Uint' },\n        0x135f: { name: 'CueRefNumber', type: 'Uint' },\n        0x6b: { name: 'CueRefCodecState', type: 'Uint' },\n        0x941a469: { name: 'Attachments', type: 'Container' },\n        0x21a7: { name: 'AttachedFile', type: 'Container' },\n        0x67e: { name: 'FileDescription', type: 'String' },\n        0x66e: { name: 'FileName', type: 'String' },\n        0x660: { name: 'FileMimeType', type: 'String' },\n        0x65c: { name: 'FileData', type: 'Binary' },\n        0x6ae: { name: 'FileUID', type: 'Uint' },\n        0x675: { name: 'FileReferral', type: 'Binary' },\n        0x661: { name: 'FileUsedStartTime', type: 'Uint' },\n        0x662: { name: 'FileUsedEndTime', type: 'Uint' },\n        0x43a770: { name: 'Chapters', type: 'Container' },\n        0x5b9: { name: 'EditionEntry', type: 'Container' },\n        0x5bc: { name: 'EditionUID', type: 'Uint' },\n        0x5bd: { name: 'EditionFlagHidden', type: 'Uint' },\n        0x5db: { name: 'EditionFlagDefault', type: 'Uint' },\n        0x5dd: { name: 'EditionFlagOrdered', type: 'Uint' },\n        0x36: { name: 'ChapterAtom', type: 'Container' },\n        0x33c4: { name: 'ChapterUID', type: 'Uint' },\n        0x1654: { name: 'ChapterStringUID', type: 'String' },\n        0x11: { name: 'ChapterTimeStart', type: 'Uint' },\n        0x12: { name: 'ChapterTimeEnd', type: 'Uint' },\n        0x18: { name: 'ChapterFlagHidden', type: 'Uint' },\n        0x598: { name: 'ChapterFlagEnabled', type: 'Uint' },\n        0x2e67: { name: 'ChapterSegmentUID', type: 'Binary' },\n        0x2ebc: { name: 'ChapterSegmentEditionUID', type: 'Uint' },\n        0x23c3: { name: 'ChapterPhysicalEquiv', type: 'Uint' },\n        0xf: { name: 'ChapterTrack', type: 'Container' },\n        0x9: { name: 'ChapterTrackNumber', type: 'Uint' },\n        0x0: { name: 'ChapterDisplay', type: 'Container' },\n        0x5: { name: 'ChapString', type: 'String' },\n        0x37c: { name: 'ChapLanguage', type: 'String' },\n        0x37e: { name: 'ChapCountry', type: 'String' },\n        0x2944: { name: 'ChapProcess', type: 'Container' },\n        0x2955: { name: 'ChapProcessCodecID', type: 'Uint' },\n        0x50d: { name: 'ChapProcessPrivate', type: 'Binary' },\n        0x2911: { name: 'ChapProcessCommand', type: 'Container' },\n        0x2922: { name: 'ChapProcessTime', type: 'Uint' },\n        0x2933: { name: 'ChapProcessData', type: 'Binary' },\n        0x254c367: { name: 'Tags', type: 'Container' },\n        0x3373: { name: 'Tag', type: 'Container' },\n        0x23c0: { name: 'Targets', type: 'Container' },\n        0x28ca: { name: 'TargetTypeValue', type: 'Uint' },\n        0x23ca: { name: 'TargetType', type: 'String' },\n        0x23c5: { name: 'TagTrackUID', type: 'Uint' },\n        0x23c9: { name: 'TagEditionUID', type: 'Uint' },\n        0x23c4: { name: 'TagChapterUID', type: 'Uint' },\n        0x23c6: { name: 'TagAttachmentUID', type: 'Uint' },\n        0x27c8: { name: 'SimpleTag', type: 'Container' },\n        0x5a3: { name: 'TagName', type: 'String' },\n        0x47a: { name: 'TagLanguage', type: 'String' },\n        0x484: { name: 'TagDefault', type: 'Uint' },\n        0x487: { name: 'TagString', type: 'String' },\n        0x485: { name: 'TagBinary', type: 'Binary' }\n    };\n\n    function doInherit(newClass, baseClass) {\n        newClass.prototype = Object.create(baseClass.prototype);\n        newClass.prototype.constructor = newClass;\n    }\n\n    function WebmBase(name, type) {\n        this.name = name || 'Unknown';\n        this.type = type || 'Unknown';\n    }\n    WebmBase.prototype.updateBySource = function() { };\n    WebmBase.prototype.setSource = function(source) {\n        this.source = source;\n        this.updateBySource();\n    };\n    WebmBase.prototype.updateByData = function() { };\n    WebmBase.prototype.setData = function(data) {\n        this.data = data;\n        this.updateByData();\n    };\n\n    function WebmUint(name, type) {\n        WebmBase.call(this, name, type || 'Uint');\n    }\n    doInherit(WebmUint, WebmBase);\n    function padHex(hex) {\n        return hex.length % 2 === 1 ? '0' + hex : hex;\n    }\n    WebmUint.prototype.updateBySource = function() {\n        // use hex representation of a number instead of number value\n        this.data = '';\n        for (var i = 0; i < this.source.length; i++) {\n            var hex = this.source[i].toString(16);\n            this.data += padHex(hex);\n        }\n    };\n    WebmUint.prototype.updateByData = function() {\n        var length = this.data.length / 2;\n        this.source = new Uint8Array(length);\n        for (var i = 0; i < length; i++) {\n            var hex = this.data.substr(i * 2, 2);\n            this.source[i] = parseInt(hex, 16);\n        }\n    };\n    WebmUint.prototype.getValue = function() {\n        return parseInt(this.data, 16);\n    };\n    WebmUint.prototype.setValue = function(value) {\n        this.setData(padHex(value.toString(16)));\n    };\n\n    function WebmFloat(name, type) {\n        WebmBase.call(this, name, type || 'Float');\n    }\n    doInherit(WebmFloat, WebmBase);\n    WebmFloat.prototype.getFloatArrayType = function() {\n        return this.source && this.source.length === 4 ? Float32Array : Float64Array;\n    };\n    WebmFloat.prototype.updateBySource = function() {\n        var byteArray = this.source.reverse();\n        var floatArrayType = this.getFloatArrayType();\n        var floatArray = new floatArrayType(byteArray.buffer);\n        this.data = floatArray[0];\n    };\n    WebmFloat.prototype.updateByData = function() {\n        var floatArrayType = this.getFloatArrayType();\n        var floatArray = new floatArrayType([ this.data ]);\n        var byteArray = new Uint8Array(floatArray.buffer);\n        this.source = byteArray.reverse();\n    };\n    WebmFloat.prototype.getValue = function() {\n        return this.data;\n    };\n    WebmFloat.prototype.setValue = function(value) {\n        this.setData(value);\n    };\n\n    function WebmContainer(name, type) {\n        WebmBase.call(this, name, type || 'Container');\n    }\n    doInherit(WebmContainer, WebmBase);\n    WebmContainer.prototype.readByte = function() {\n        return this.source[this.offset++];\n    };\n    WebmContainer.prototype.readUint = function() {\n        var firstByte = this.readByte();\n        var bytes = 8 - firstByte.toString(2).length;\n        var value = firstByte - (1 << (7 - bytes));\n        for (var i = 0; i < bytes; i++) {\n            // don't use bit operators to support x86\n            value *= 256;\n            value += this.readByte();\n        }\n        return value;\n    };\n    WebmContainer.prototype.updateBySource = function() {\n        this.data = [];\n        for (this.offset = 0; this.offset < this.source.length; this.offset = end) {\n            var id = this.readUint();\n            var len = this.readUint();\n            var end = Math.min(this.offset + len, this.source.length);\n            var data = this.source.slice(this.offset, end);\n\n            var info = sections[id] || { name: 'Unknown', type: 'Unknown' };\n            var ctr = WebmBase;\n            switch (info.type) {\n                case 'Container':\n                    ctr = WebmContainer;\n                    break;\n                case 'Uint':\n                    ctr = WebmUint;\n                    break;\n                case 'Float':\n                    ctr = WebmFloat;\n                    break;\n            }\n            var section = new ctr(info.name, info.type);\n            section.setSource(data);\n            this.data.push({\n                id: id,\n                idHex: id.toString(16),\n                data: section\n            });\n        }\n    };\n    WebmContainer.prototype.writeUint = function(x, draft) {\n        for (var bytes = 1, flag = 0x80; x >= flag && bytes < 8; bytes++, flag *= 0x80) { }\n\n        if (!draft) {\n            var value = flag + x;\n            for (var i = bytes - 1; i >= 0; i--) {\n                // don't use bit operators to support x86\n                var c = value % 256;\n                this.source[this.offset + i] = c;\n                value = (value - c) / 256;\n            }\n        }\n\n        this.offset += bytes;\n    };\n    WebmContainer.prototype.writeSections = function(draft) {\n        this.offset = 0;\n        for (var i = 0; i < this.data.length; i++) {\n            var section = this.data[i],\n                content = section.data.source,\n                contentLength = content.length;\n            this.writeUint(section.id, draft);\n            this.writeUint(contentLength, draft);\n            if (!draft) {\n                this.source.set(content, this.offset);\n            }\n            this.offset += contentLength;\n        }\n        return this.offset;\n    };\n    WebmContainer.prototype.updateByData = function() {\n        // run without accessing this.source to determine total length - need to know it to create Uint8Array\n        var length = this.writeSections('draft');\n        this.source = new Uint8Array(length);\n        // now really write data\n        this.writeSections();\n    };\n    WebmContainer.prototype.getSectionById = function(id) {\n        for (var i = 0; i < this.data.length; i++) {\n            var section = this.data[i];\n            if (section.id === id) {\n                return section.data;\n            }\n        }\n        return null;\n    };\n\n    function WebmFile(source) {\n        WebmContainer.call(this, 'File', 'File');\n        this.setSource(source);\n    }\n    doInherit(WebmFile, WebmContainer);\n    WebmFile.prototype.fixDuration = function(duration, options) {\n        var logger = options && options.logger;\n        if (logger === undefined) {\n            logger = function(message) {\n                console.log(message);\n            };\n        } else if (!logger) {\n            logger = function() { };\n        }\n\n        var segmentSection = this.getSectionById(0x8538067);\n        if (!segmentSection) {\n            logger('[fix-webm-duration] Segment section is missing');\n            return false;\n        }\n\n        var infoSection = segmentSection.getSectionById(0x549a966);\n        if (!infoSection) {\n            logger('[fix-webm-duration] Info section is missing');\n            return false;\n        }\n\n        var timeScaleSection = infoSection.getSectionById(0xad7b1);\n        if (!timeScaleSection) {\n            logger('[fix-webm-duration] TimecodeScale section is missing');\n            return false;\n        }\n\n        var durationSection = infoSection.getSectionById(0x489);\n        if (durationSection) {\n            if (durationSection.getValue() <= 0) {\n                logger(`[fix-webm-duration] Duration section is present, but the value is ${durationSection.getValue()}`);\n                durationSection.setValue(duration);\n            } else {\n                logger(`[fix-webm-duration] Duration section is present, and the value is ${durationSection.getValue()}`);\n                return false;\n            }\n        } else {\n            logger('[fix-webm-duration] Duration section is missing');\n            // append Duration section\n            durationSection = new WebmFloat('Duration', 'Float');\n            durationSection.setValue(duration);\n            infoSection.data.push({\n                id: 0x489,\n                data: durationSection\n            });\n        }\n\n        // set default time scale to 1 millisecond (1000000 nanoseconds)\n        timeScaleSection.setValue(1000000);\n        infoSection.updateByData();\n        segmentSection.updateByData();\n        this.updateByData();\n\n        return true;\n    };\n    WebmFile.prototype.toBlob = function(mimeType) {\n        return new Blob([ this.source.buffer ], { type: mimeType || 'video/webm' });\n    };\n\n    function fixWebmDuration(blob, duration, callback, options) {\n        // The callback may be omitted - then the third argument is options\n        if (typeof callback === \"object\") {\n            options = callback;\n            callback = undefined;\n        }\n\n        if (!callback) {\n            return new Promise(function(resolve) {\n                fixWebmDuration(blob, duration, resolve, options);\n            });\n        }\n\n        try {\n            var reader = new FileReader();\n            reader.onloadend = function() {\n                try {\n                    var file = new WebmFile(new Uint8Array(reader.result));\n                    if (file.fixDuration(duration, options)) {\n                        blob = file.toBlob(blob.type);\n                    }\n                } catch (ex) {\n                    // ignore\n                }\n                callback(blob);\n            };\n            reader.readAsArrayBuffer(blob);\n        } catch (ex) {\n            callback(blob);\n        }\n    }\n\n    // Support AMD import default\n    fixWebmDuration.default = fixWebmDuration;\n\n    return fixWebmDuration;\n});\n"],"mappings":"AAAA,CAAC,UAAUA,IAAI,EAAEC,UAAU,EAAE;EACzB,IAAI,OAAOC,MAAM,KAAK,UAAU,IAAIA,MAAM,CAACC,GAAG,EAAE;IAAE;IAC9CD,MAAM,CAACD,UAAU,CAAC;EACtB,CAAC,MAAM,IAAI,OAAOG,MAAM,KAAK,WAAW,IAAIA,MAAM,CAACC,OAAO,EAAE;IAAE;IAC1DD,MAAM,CAACC,OAAO,GAAGJ,UAAU,CAAC,CAAC;EACjC,CAAC,MAAM;IAAE;IACLK,MAAM,CAACC,iBAAiB,GAAGN,UAAU,CAAC,CAAC;EAC3C;AACJ,CAAC,EAAE,mBAAmB,EAAE,YAAY;EAChC;AACJ;AACA;AACA;EACI,IAAIO,QAAQ,GAAG;IACX,SAAS,EAAE;MAAER,IAAI,EAAE,MAAM;MAAES,IAAI,EAAE;IAAY,CAAC;IAC9C,KAAK,EAAE;MAAET,IAAI,EAAE,aAAa;MAAES,IAAI,EAAE;IAAO,CAAC;IAC5C,KAAK,EAAE;MAAET,IAAI,EAAE,iBAAiB;MAAES,IAAI,EAAE;IAAO,CAAC;IAChD,KAAK,EAAE;MAAET,IAAI,EAAE,iBAAiB;MAAES,IAAI,EAAE;IAAO,CAAC;IAChD,KAAK,EAAE;MAAET,IAAI,EAAE,mBAAmB;MAAES,IAAI,EAAE;IAAO,CAAC;IAClD,KAAK,EAAE;MAAET,IAAI,EAAE,SAAS;MAAES,IAAI,EAAE;IAAS,CAAC;IAC1C,KAAK,EAAE;MAAET,IAAI,EAAE,gBAAgB;MAAES,IAAI,EAAE;IAAO,CAAC;IAC/C,KAAK,EAAE;MAAET,IAAI,EAAE,oBAAoB;MAAES,IAAI,EAAE;IAAO,CAAC;IACnD,IAAI,EAAE;MAAET,IAAI,EAAE,MAAM;MAAES,IAAI,EAAE;IAAS,CAAC;IACtC,IAAI,EAAE;MAAET,IAAI,EAAE,QAAQ;MAAES,IAAI,EAAE;IAAS,CAAC;IACxC,SAAS,EAAE;MAAET,IAAI,EAAE,eAAe;MAAES,IAAI,EAAE;IAAY,CAAC;IACvD,MAAM,EAAE;MAAET,IAAI,EAAE,eAAe;MAAES,IAAI,EAAE;IAAO,CAAC;IAC/C,MAAM,EAAE;MAAET,IAAI,EAAE,eAAe;MAAES,IAAI,EAAE;IAAO,CAAC;IAC/C,MAAM,EAAE;MAAET,IAAI,EAAE,oBAAoB;MAAES,IAAI,EAAE;IAAS,CAAC;IACtD,MAAM,EAAE;MAAET,IAAI,EAAE,WAAW;MAAES,IAAI,EAAE;IAAS,CAAC;IAC7C,MAAM,EAAE;MAAET,IAAI,EAAE,mBAAmB;MAAES,IAAI,EAAE;IAAY,CAAC;IACxD,MAAM,EAAE;MAAET,IAAI,EAAE,sBAAsB;MAAES,IAAI,EAAE;IAAY,CAAC;IAC3D,MAAM,EAAE;MAAET,IAAI,EAAE,eAAe;MAAES,IAAI,EAAE;IAAS,CAAC;IACjD,SAAS,EAAE;MAAET,IAAI,EAAE,SAAS;MAAES,IAAI,EAAE;IAAY,CAAC;IACjD,SAAS,EAAE;MAAET,IAAI,EAAE,UAAU;MAAES,IAAI,EAAE;IAAY,CAAC;IAClD,KAAK,EAAE;MAAET,IAAI,EAAE,MAAM;MAAES,IAAI,EAAE;IAAY,CAAC;IAC1C,MAAM,EAAE;MAAET,IAAI,EAAE,QAAQ;MAAES,IAAI,EAAE;IAAS,CAAC;IAC1C,MAAM,EAAE;MAAET,IAAI,EAAE,cAAc;MAAES,IAAI,EAAE;IAAO,CAAC;IAC9C,SAAS,EAAE;MAAET,IAAI,EAAE,MAAM;MAAES,IAAI,EAAE;IAAY,CAAC;IAC9C,MAAM,EAAE;MAAET,IAAI,EAAE,YAAY;MAAES,IAAI,EAAE;IAAS,CAAC;IAC9C,MAAM,EAAE;MAAET,IAAI,EAAE,iBAAiB;MAAES,IAAI,EAAE;IAAS,CAAC;IACnD,QAAQ,EAAE;MAAET,IAAI,EAAE,SAAS;MAAES,IAAI,EAAE;IAAS,CAAC;IAC7C,QAAQ,EAAE;MAAET,IAAI,EAAE,cAAc;MAAES,IAAI,EAAE;IAAS,CAAC;IAClD,QAAQ,EAAE;MAAET,IAAI,EAAE,SAAS;MAAES,IAAI,EAAE;IAAS,CAAC;IAC7C,QAAQ,EAAE;MAAET,IAAI,EAAE,cAAc;MAAES,IAAI,EAAE;IAAS,CAAC;IAClD,KAAK,EAAE;MAAET,IAAI,EAAE,eAAe;MAAES,IAAI,EAAE;IAAS,CAAC;IAChD,MAAM,EAAE;MAAET,IAAI,EAAE,kBAAkB;MAAES,IAAI,EAAE;IAAY,CAAC;IACvD,MAAM,EAAE;MAAET,IAAI,EAAE,4BAA4B;MAAES,IAAI,EAAE;IAAO,CAAC;IAC5D,MAAM,EAAE;MAAET,IAAI,EAAE,uBAAuB;MAAES,IAAI,EAAE;IAAO,CAAC;IACvD,MAAM,EAAE;MAAET,IAAI,EAAE,oBAAoB;MAAES,IAAI,EAAE;IAAS,CAAC;IACtD,OAAO,EAAE;MAAET,IAAI,EAAE,eAAe;MAAES,IAAI,EAAE;IAAO,CAAC;IAChD,KAAK,EAAE;MAAET,IAAI,EAAE,UAAU;MAAES,IAAI,EAAE;IAAQ,CAAC;IAC1C,KAAK,EAAE;MAAET,IAAI,EAAE,SAAS;MAAES,IAAI,EAAE;IAAO,CAAC;IACxC,MAAM,EAAE;MAAET,IAAI,EAAE,OAAO;MAAES,IAAI,EAAE;IAAS,CAAC;IACzC,KAAK,EAAE;MAAET,IAAI,EAAE,WAAW;MAAES,IAAI,EAAE;IAAS,CAAC;IAC5C,MAAM,EAAE;MAAET,IAAI,EAAE,YAAY;MAAES,IAAI,EAAE;IAAS,CAAC;IAC9C;IACA,IAAI,EAAE;MAAET,IAAI,EAAE,UAAU;MAAES,IAAI,EAAE;IAAO,CAAC;IACxC,MAAM,EAAE;MAAET,IAAI,EAAE,cAAc;MAAES,IAAI,EAAE;IAAY,CAAC;IACnD,MAAM,EAAE;MAAET,IAAI,EAAE,mBAAmB;MAAES,IAAI,EAAE;IAAO,CAAC;IACnD,IAAI,EAAE;MAAET,IAAI,EAAE,UAAU;MAAES,IAAI,EAAE;IAAO,CAAC;IACxC,IAAI,EAAE;MAAET,IAAI,EAAE,UAAU;MAAES,IAAI,EAAE;IAAO,CAAC;IACxC,IAAI,EAAE;MAAET,IAAI,EAAE,aAAa;MAAES,IAAI,EAAE;IAAS,CAAC;IAC7C,IAAI,EAAE;MAAET,IAAI,EAAE,YAAY;MAAES,IAAI,EAAE;IAAY,CAAC;IAC/C,IAAI,EAAE;MAAET,IAAI,EAAE,OAAO;MAAES,IAAI,EAAE;IAAS,CAAC;IACvC,IAAI,EAAE;MAAET,IAAI,EAAE,cAAc;MAAES,IAAI,EAAE;IAAS,CAAC;IAC9C,MAAM,EAAE;MAAET,IAAI,EAAE,gBAAgB;MAAES,IAAI,EAAE;IAAY,CAAC;IACrD,IAAI,EAAE;MAAET,IAAI,EAAE,WAAW;MAAES,IAAI,EAAE;IAAY,CAAC;IAC9C,IAAI,EAAE;MAAET,IAAI,EAAE,YAAY;MAAES,IAAI,EAAE;IAAO,CAAC;IAC1C,IAAI,EAAE;MAAET,IAAI,EAAE,iBAAiB;MAAES,IAAI,EAAE;IAAS,CAAC;IACjD,IAAI,EAAE;MAAET,IAAI,EAAE,eAAe;MAAES,IAAI,EAAE;IAAO,CAAC;IAC7C,IAAI,EAAE;MAAET,IAAI,EAAE,mBAAmB;MAAES,IAAI,EAAE;IAAO,CAAC;IACjD,IAAI,EAAE;MAAET,IAAI,EAAE,gBAAgB;MAAES,IAAI,EAAE;IAAM,CAAC;IAC7C,IAAI,EAAE;MAAET,IAAI,EAAE,kBAAkB;MAAES,IAAI,EAAE;IAAM,CAAC;IAC/C,IAAI,EAAE;MAAET,IAAI,EAAE,YAAY;MAAES,IAAI,EAAE;IAAS,CAAC;IAC5C,MAAM,EAAE;MAAET,IAAI,EAAE,gBAAgB;MAAES,IAAI,EAAE;IAAM,CAAC;IAC/C,GAAG,EAAE;MAAET,IAAI,EAAE,QAAQ;MAAES,IAAI,EAAE;IAAY,CAAC;IAC1C,IAAI,EAAE;MAAET,IAAI,EAAE,WAAW;MAAES,IAAI,EAAE;IAAY,CAAC;IAC9C,IAAI,EAAE;MAAET,IAAI,EAAE,YAAY;MAAES,IAAI,EAAE;IAAO,CAAC;IAC1C,IAAI,EAAE;MAAET,IAAI,EAAE,aAAa;MAAES,IAAI,EAAE;IAAO,CAAC;IAC3C,IAAI,EAAE;MAAET,IAAI,EAAE,iBAAiB;MAAES,IAAI,EAAE;IAAO,CAAC;IAC/C,IAAI,EAAE;MAAET,IAAI,EAAE,OAAO;MAAES,IAAI,EAAE;IAAO,CAAC;IACrC,IAAI,EAAE;MAAET,IAAI,EAAE,eAAe;MAAES,IAAI,EAAE;IAAO,CAAC;IAC7C,IAAI,EAAE;MAAET,IAAI,EAAE,gBAAgB;MAAES,IAAI,EAAE;IAAY,CAAC;IACnD,IAAI,EAAE;MAAET,IAAI,EAAE,iBAAiB;MAAES,IAAI,EAAE;IAAO,CAAC;IAC/C,IAAI,EAAE;MAAET,IAAI,EAAE,mBAAmB;MAAES,IAAI,EAAE;IAAO,CAAC;IACjD,IAAI,EAAE;MAAET,IAAI,EAAE,gBAAgB;MAAES,IAAI,EAAE;IAAS,CAAC;IAChD,SAAS,EAAE;MAAET,IAAI,EAAE,QAAQ;MAAES,IAAI,EAAE;IAAY,CAAC;IAChD,IAAI,EAAE;MAAET,IAAI,EAAE,YAAY;MAAES,IAAI,EAAE;IAAY,CAAC;IAC/C,IAAI,EAAE;MAAET,IAAI,EAAE,aAAa;MAAES,IAAI,EAAE;IAAO,CAAC;IAC3C,MAAM,EAAE;MAAET,IAAI,EAAE,UAAU;MAAES,IAAI,EAAE;IAAO,CAAC;IAC1C,GAAG,EAAE;MAAET,IAAI,EAAE,WAAW;MAAES,IAAI,EAAE;IAAO,CAAC;IACxC,IAAI,EAAE;MAAET,IAAI,EAAE,aAAa;MAAES,IAAI,EAAE;IAAO,CAAC;IAC3C,GAAG,EAAE;MAAET,IAAI,EAAE,aAAa;MAAES,IAAI,EAAE;IAAO,CAAC;IAC1C,MAAM,EAAE;MAAET,IAAI,EAAE,YAAY;MAAES,IAAI,EAAE;IAAO,CAAC;IAC5C,IAAI,EAAE;MAAET,IAAI,EAAE,YAAY;MAAES,IAAI,EAAE;IAAO,CAAC;IAC1C,MAAM,EAAE;MAAET,IAAI,EAAE,UAAU;MAAES,IAAI,EAAE;IAAO,CAAC;IAC1C,MAAM,EAAE;MAAET,IAAI,EAAE,UAAU;MAAES,IAAI,EAAE;IAAO,CAAC;IAC1C,OAAO,EAAE;MAAET,IAAI,EAAE,iBAAiB;MAAES,IAAI,EAAE;IAAO,CAAC;IAClD,OAAO,EAAE;MAAET,IAAI,EAAE,6BAA6B;MAAES,IAAI,EAAE;IAAO,CAAC;IAC9D,OAAO,EAAE;MAAET,IAAI,EAAE,oBAAoB;MAAES,IAAI,EAAE;IAAQ,CAAC;IACtD,MAAM,EAAE;MAAET,IAAI,EAAE,aAAa;MAAES,IAAI,EAAE;IAAM,CAAC;IAC5C,MAAM,EAAE;MAAET,IAAI,EAAE,oBAAoB;MAAES,IAAI,EAAE;IAAO,CAAC;IACpD,MAAM,EAAE;MAAET,IAAI,EAAE,MAAM;MAAES,IAAI,EAAE;IAAS,CAAC;IACxC,OAAO,EAAE;MAAET,IAAI,EAAE,UAAU;MAAES,IAAI,EAAE;IAAS,CAAC;IAC7C,GAAG,EAAE;MAAET,IAAI,EAAE,SAAS;MAAES,IAAI,EAAE;IAAS,CAAC;IACxC,MAAM,EAAE;MAAET,IAAI,EAAE,cAAc;MAAES,IAAI,EAAE;IAAS,CAAC;IAChD,OAAO,EAAE;MAAET,IAAI,EAAE,WAAW;MAAES,IAAI,EAAE;IAAS,CAAC;IAC9C,MAAM,EAAE;MAAET,IAAI,EAAE,gBAAgB;MAAES,IAAI,EAAE;IAAO,CAAC;IAChD,QAAQ,EAAE;MAAET,IAAI,EAAE,eAAe;MAAES,IAAI,EAAE;IAAS,CAAC;IACnD,QAAQ,EAAE;MAAET,IAAI,EAAE,cAAc;MAAES,IAAI,EAAE;IAAS,CAAC;IAClD,OAAO,EAAE;MAAET,IAAI,EAAE,kBAAkB;MAAES,IAAI,EAAE;IAAS,CAAC;IACrD,IAAI,EAAE;MAAET,IAAI,EAAE,gBAAgB;MAAES,IAAI,EAAE;IAAO,CAAC;IAC9C,MAAM,EAAE;MAAET,IAAI,EAAE,cAAc;MAAES,IAAI,EAAE;IAAO,CAAC;IAC9C,MAAM,EAAE;MAAET,IAAI,EAAE,YAAY;MAAES,IAAI,EAAE;IAAO,CAAC;IAC5C,MAAM,EAAE;MAAET,IAAI,EAAE,aAAa;MAAES,IAAI,EAAE;IAAO,CAAC;IAC7C,MAAM,EAAE;MAAET,IAAI,EAAE,gBAAgB;MAAES,IAAI,EAAE;IAAY,CAAC;IACrD,MAAM,EAAE;MAAET,IAAI,EAAE,0BAA0B;MAAES,IAAI,EAAE;IAAO,CAAC;IAC1D,MAAM,EAAE;MAAET,IAAI,EAAE,qBAAqB;MAAES,IAAI,EAAE;IAAO,CAAC;IACrD,MAAM,EAAE;MAAET,IAAI,EAAE,uBAAuB;MAAES,IAAI,EAAE;IAAS,CAAC;IACzD,IAAI,EAAE;MAAET,IAAI,EAAE,OAAO;MAAES,IAAI,EAAE;IAAY,CAAC;IAC1C,IAAI,EAAE;MAAET,IAAI,EAAE,gBAAgB;MAAES,IAAI,EAAE;IAAO,CAAC;IAC9C,MAAM,EAAE;MAAET,IAAI,EAAE,YAAY;MAAES,IAAI,EAAE;IAAO,CAAC;IAC5C,MAAM,EAAE;MAAET,IAAI,EAAE,WAAW;MAAES,IAAI,EAAE;IAAO,CAAC;IAC3C,MAAM,EAAE;MAAET,IAAI,EAAE,eAAe;MAAES,IAAI,EAAE;IAAO,CAAC;IAC/C,IAAI,EAAE;MAAET,IAAI,EAAE,YAAY;MAAES,IAAI,EAAE;IAAO,CAAC;IAC1C,IAAI,EAAE;MAAET,IAAI,EAAE,aAAa;MAAES,IAAI,EAAE;IAAO,CAAC;IAC3C,MAAM,EAAE;MAAET,IAAI,EAAE,iBAAiB;MAAES,IAAI,EAAE;IAAO,CAAC;IACjD,MAAM,EAAE;MAAET,IAAI,EAAE,cAAc;MAAES,IAAI,EAAE;IAAO,CAAC;IAC9C,MAAM,EAAE;MAAET,IAAI,EAAE,eAAe;MAAES,IAAI,EAAE;IAAO,CAAC;IAC/C,MAAM,EAAE;MAAET,IAAI,EAAE,gBAAgB;MAAES,IAAI,EAAE;IAAO,CAAC;IAChD,MAAM,EAAE;MAAET,IAAI,EAAE,cAAc;MAAES,IAAI,EAAE;IAAO,CAAC;IAC9C,MAAM,EAAE;MAAET,IAAI,EAAE,eAAe;MAAES,IAAI,EAAE;IAAO,CAAC;IAC/C,MAAM,EAAE;MAAET,IAAI,EAAE,aAAa;MAAES,IAAI,EAAE;IAAO,CAAC;IAC7C,MAAM,EAAE;MAAET,IAAI,EAAE,iBAAiB;MAAES,IAAI,EAAE;IAAO,CAAC;IACjD,OAAO,EAAE;MAAET,IAAI,EAAE,aAAa;MAAES,IAAI,EAAE;IAAS,CAAC;IAChD,OAAO,EAAE;MAAET,IAAI,EAAE,YAAY;MAAES,IAAI,EAAE;IAAQ,CAAC;IAC9C,OAAO,EAAE;MAAET,IAAI,EAAE,WAAW;MAAES,IAAI,EAAE;IAAQ,CAAC;IAC7C,IAAI,EAAE;MAAET,IAAI,EAAE,OAAO;MAAES,IAAI,EAAE;IAAY,CAAC;IAC1C,IAAI,EAAE;MAAET,IAAI,EAAE,mBAAmB;MAAES,IAAI,EAAE;IAAQ,CAAC;IAClD,MAAM,EAAE;MAAET,IAAI,EAAE,yBAAyB;MAAES,IAAI,EAAE;IAAQ,CAAC;IAC1D,IAAI,EAAE;MAAET,IAAI,EAAE,UAAU;MAAES,IAAI,EAAE;IAAO,CAAC;IACxC,MAAM,EAAE;MAAET,IAAI,EAAE,kBAAkB;MAAES,IAAI,EAAE;IAAS,CAAC;IACpD,MAAM,EAAE;MAAET,IAAI,EAAE,UAAU;MAAES,IAAI,EAAE;IAAO,CAAC;IAC1C,IAAI,EAAE;MAAET,IAAI,EAAE,gBAAgB;MAAES,IAAI,EAAE;IAAY,CAAC;IACnD,IAAI,EAAE;MAAET,IAAI,EAAE,oBAAoB;MAAES,IAAI,EAAE;IAAY,CAAC;IACvD,IAAI,EAAE;MAAET,IAAI,EAAE,YAAY;MAAES,IAAI,EAAE;IAAY,CAAC;IAC/C,IAAI,EAAE;MAAET,IAAI,EAAE,eAAe;MAAES,IAAI,EAAE;IAAO,CAAC;IAC7C,IAAI,EAAE;MAAET,IAAI,EAAE,gBAAgB;MAAES,IAAI,EAAE;IAAO,CAAC;IAC9C,IAAI,EAAE;MAAET,IAAI,EAAE,iBAAiB;MAAES,IAAI,EAAE;IAAY,CAAC;IACpD,IAAI,EAAE;MAAET,IAAI,EAAE,cAAc;MAAES,IAAI,EAAE;IAAO,CAAC;IAC5C,IAAI,EAAE;MAAET,IAAI,EAAE,eAAe;MAAES,IAAI,EAAE;IAAO,CAAC;IAC7C,IAAI,EAAE;MAAET,IAAI,EAAE,sBAAsB;MAAES,IAAI,EAAE;IAAS,CAAC;IACtD,IAAI,EAAE;MAAET,IAAI,EAAE,gBAAgB;MAAES,IAAI,EAAE;IAAO,CAAC;IAC9C,IAAI,EAAE;MAAET,IAAI,EAAE,qBAAqB;MAAES,IAAI,EAAE;IAAO,CAAC;IACnD,IAAI,EAAE;MAAET,IAAI,EAAE,4BAA4B;MAAES,IAAI,EAAE;IAAS,CAAC;IAC5D,MAAM,EAAE;MAAET,IAAI,EAAE,kBAAkB;MAAES,IAAI,EAAE;IAAY,CAAC;IACvD,MAAM,EAAE;MAAET,IAAI,EAAE,iBAAiB;MAAES,IAAI,EAAE;IAAY,CAAC;IACtD,MAAM,EAAE;MAAET,IAAI,EAAE,sBAAsB;MAAES,IAAI,EAAE;IAAO,CAAC;IACtD,MAAM,EAAE;MAAET,IAAI,EAAE,sBAAsB;MAAES,IAAI,EAAE;IAAO,CAAC;IACtD,MAAM,EAAE;MAAET,IAAI,EAAE,qBAAqB;MAAES,IAAI,EAAE;IAAO,CAAC;IACrD,MAAM,EAAE;MAAET,IAAI,EAAE,oBAAoB;MAAES,IAAI,EAAE;IAAY,CAAC;IACzD,KAAK,EAAE;MAAET,IAAI,EAAE,iBAAiB;MAAES,IAAI,EAAE;IAAO,CAAC;IAChD,KAAK,EAAE;MAAET,IAAI,EAAE,qBAAqB;MAAES,IAAI,EAAE;IAAS,CAAC;IACtD,MAAM,EAAE;MAAET,IAAI,EAAE,mBAAmB;MAAES,IAAI,EAAE;IAAY,CAAC;IACxD,KAAK,EAAE;MAAET,IAAI,EAAE,gBAAgB;MAAES,IAAI,EAAE;IAAO,CAAC;IAC/C,KAAK,EAAE;MAAET,IAAI,EAAE,iBAAiB;MAAES,IAAI,EAAE;IAAS,CAAC;IAClD,KAAK,EAAE;MAAET,IAAI,EAAE,kBAAkB;MAAES,IAAI,EAAE;IAAS,CAAC;IACnD,KAAK,EAAE;MAAET,IAAI,EAAE,iBAAiB;MAAES,IAAI,EAAE;IAAS,CAAC;IAClD,KAAK,EAAE;MAAET,IAAI,EAAE,gBAAgB;MAAES,IAAI,EAAE;IAAO,CAAC;IAC/C,KAAK,EAAE;MAAET,IAAI,EAAE,oBAAoB;MAAES,IAAI,EAAE;IAAO,CAAC;IACnD,SAAS,EAAE;MAAET,IAAI,EAAE,MAAM;MAAES,IAAI,EAAE;IAAY,CAAC;IAC9C,IAAI,EAAE;MAAET,IAAI,EAAE,UAAU;MAAES,IAAI,EAAE;IAAY,CAAC;IAC7C,IAAI,EAAE;MAAET,IAAI,EAAE,SAAS;MAAES,IAAI,EAAE;IAAO,CAAC;IACvC,IAAI,EAAE;MAAET,IAAI,EAAE,mBAAmB;MAAES,IAAI,EAAE;IAAY,CAAC;IACtD,IAAI,EAAE;MAAET,IAAI,EAAE,UAAU;MAAES,IAAI,EAAE;IAAO,CAAC;IACxC,IAAI,EAAE;MAAET,IAAI,EAAE,oBAAoB;MAAES,IAAI,EAAE;IAAO,CAAC;IAClD,IAAI,EAAE;MAAET,IAAI,EAAE,qBAAqB;MAAES,IAAI,EAAE;IAAO,CAAC;IACnD,IAAI,EAAE;MAAET,IAAI,EAAE,aAAa;MAAES,IAAI,EAAE;IAAO,CAAC;IAC3C,MAAM,EAAE;MAAET,IAAI,EAAE,gBAAgB;MAAES,IAAI,EAAE;IAAO,CAAC;IAChD,IAAI,EAAE;MAAET,IAAI,EAAE,eAAe;MAAES,IAAI,EAAE;IAAO,CAAC;IAC7C,IAAI,EAAE;MAAET,IAAI,EAAE,cAAc;MAAES,IAAI,EAAE;IAAY,CAAC;IACjD,IAAI,EAAE;MAAET,IAAI,EAAE,YAAY;MAAES,IAAI,EAAE;IAAO,CAAC;IAC1C,IAAI,EAAE;MAAET,IAAI,EAAE,eAAe;MAAES,IAAI,EAAE;IAAO,CAAC;IAC7C,MAAM,EAAE;MAAET,IAAI,EAAE,cAAc;MAAES,IAAI,EAAE;IAAO,CAAC;IAC9C,IAAI,EAAE;MAAET,IAAI,EAAE,kBAAkB;MAAES,IAAI,EAAE;IAAO,CAAC;IAChD,SAAS,EAAE;MAAET,IAAI,EAAE,aAAa;MAAES,IAAI,EAAE;IAAY,CAAC;IACrD,MAAM,EAAE;MAAET,IAAI,EAAE,cAAc;MAAES,IAAI,EAAE;IAAY,CAAC;IACnD,KAAK,EAAE;MAAET,IAAI,EAAE,iBAAiB;MAAES,IAAI,EAAE;IAAS,CAAC;IAClD,KAAK,EAAE;MAAET,IAAI,EAAE,UAAU;MAAES,IAAI,EAAE;IAAS,CAAC;IAC3C,KAAK,EAAE;MAAET,IAAI,EAAE,cAAc;MAAES,IAAI,EAAE;IAAS,CAAC;IAC/C,KAAK,EAAE;MAAET,IAAI,EAAE,UAAU;MAAES,IAAI,EAAE;IAAS,CAAC;IAC3C,KAAK,EAAE;MAAET,IAAI,EAAE,SAAS;MAAES,IAAI,EAAE;IAAO,CAAC;IACxC,KAAK,EAAE;MAAET,IAAI,EAAE,cAAc;MAAES,IAAI,EAAE;IAAS,CAAC;IAC/C,KAAK,EAAE;MAAET,IAAI,EAAE,mBAAmB;MAAES,IAAI,EAAE;IAAO,CAAC;IAClD,KAAK,EAAE;MAAET,IAAI,EAAE,iBAAiB;MAAES,IAAI,EAAE;IAAO,CAAC;IAChD,QAAQ,EAAE;MAAET,IAAI,EAAE,UAAU;MAAES,IAAI,EAAE;IAAY,CAAC;IACjD,KAAK,EAAE;MAAET,IAAI,EAAE,cAAc;MAAES,IAAI,EAAE;IAAY,CAAC;IAClD,KAAK,EAAE;MAAET,IAAI,EAAE,YAAY;MAAES,IAAI,EAAE;IAAO,CAAC;IAC3C,KAAK,EAAE;MAAET,IAAI,EAAE,mBAAmB;MAAES,IAAI,EAAE;IAAO,CAAC;IAClD,KAAK,EAAE;MAAET,IAAI,EAAE,oBAAoB;MAAES,IAAI,EAAE;IAAO,CAAC;IACnD,KAAK,EAAE;MAAET,IAAI,EAAE,oBAAoB;MAAES,IAAI,EAAE;IAAO,CAAC;IACnD,IAAI,EAAE;MAAET,IAAI,EAAE,aAAa;MAAES,IAAI,EAAE;IAAY,CAAC;IAChD,MAAM,EAAE;MAAET,IAAI,EAAE,YAAY;MAAES,IAAI,EAAE;IAAO,CAAC;IAC5C,MAAM,EAAE;MAAET,IAAI,EAAE,kBAAkB;MAAES,IAAI,EAAE;IAAS,CAAC;IACpD,IAAI,EAAE;MAAET,IAAI,EAAE,kBAAkB;MAAES,IAAI,EAAE;IAAO,CAAC;IAChD,IAAI,EAAE;MAAET,IAAI,EAAE,gBAAgB;MAAES,IAAI,EAAE;IAAO,CAAC;IAC9C,IAAI,EAAE;MAAET,IAAI,EAAE,mBAAmB;MAAES,IAAI,EAAE;IAAO,CAAC;IACjD,KAAK,EAAE;MAAET,IAAI,EAAE,oBAAoB;MAAES,IAAI,EAAE;IAAO,CAAC;IACnD,MAAM,EAAE;MAAET,IAAI,EAAE,mBAAmB;MAAES,IAAI,EAAE;IAAS,CAAC;IACrD,MAAM,EAAE;MAAET,IAAI,EAAE,0BAA0B;MAAES,IAAI,EAAE;IAAO,CAAC;IAC1D,MAAM,EAAE;MAAET,IAAI,EAAE,sBAAsB;MAAES,IAAI,EAAE;IAAO,CAAC;IACtD,GAAG,EAAE;MAAET,IAAI,EAAE,cAAc;MAAES,IAAI,EAAE;IAAY,CAAC;IAChD,GAAG,EAAE;MAAET,IAAI,EAAE,oBAAoB;MAAES,IAAI,EAAE;IAAO,CAAC;IACjD,GAAG,EAAE;MAAET,IAAI,EAAE,gBAAgB;MAAES,IAAI,EAAE;IAAY,CAAC;IAClD,GAAG,EAAE;MAAET,IAAI,EAAE,YAAY;MAAES,IAAI,EAAE;IAAS,CAAC;IAC3C,KAAK,EAAE;MAAET,IAAI,EAAE,cAAc;MAAES,IAAI,EAAE;IAAS,CAAC;IAC/C,KAAK,EAAE;MAAET,IAAI,EAAE,aAAa;MAAES,IAAI,EAAE;IAAS,CAAC;IAC9C,MAAM,EAAE;MAAET,IAAI,EAAE,aAAa;MAAES,IAAI,EAAE;IAAY,CAAC;IAClD,MAAM,EAAE;MAAET,IAAI,EAAE,oBAAoB;MAAES,IAAI,EAAE;IAAO,CAAC;IACpD,KAAK,EAAE;MAAET,IAAI,EAAE,oBAAoB;MAAES,IAAI,EAAE;IAAS,CAAC;IACrD,MAAM,EAAE;MAAET,IAAI,EAAE,oBAAoB;MAAES,IAAI,EAAE;IAAY,CAAC;IACzD,MAAM,EAAE;MAAET,IAAI,EAAE,iBAAiB;MAAES,IAAI,EAAE;IAAO,CAAC;IACjD,MAAM,EAAE;MAAET,IAAI,EAAE,iBAAiB;MAAES,IAAI,EAAE;IAAS,CAAC;IACnD,SAAS,EAAE;MAAET,IAAI,EAAE,MAAM;MAAES,IAAI,EAAE;IAAY,CAAC;IAC9C,MAAM,EAAE;MAAET,IAAI,EAAE,KAAK;MAAES,IAAI,EAAE;IAAY,CAAC;IAC1C,MAAM,EAAE;MAAET,IAAI,EAAE,SAAS;MAAES,IAAI,EAAE;IAAY,CAAC;IAC9C,MAAM,EAAE;MAAET,IAAI,EAAE,iBAAiB;MAAES,IAAI,EAAE;IAAO,CAAC;IACjD,MAAM,EAAE;MAAET,IAAI,EAAE,YAAY;MAAES,IAAI,EAAE;IAAS,CAAC;IAC9C,MAAM,EAAE;MAAET,IAAI,EAAE,aAAa;MAAES,IAAI,EAAE;IAAO,CAAC;IAC7C,MAAM,EAAE;MAAET,IAAI,EAAE,eAAe;MAAES,IAAI,EAAE;IAAO,CAAC;IAC/C,MAAM,EAAE;MAAET,IAAI,EAAE,eAAe;MAAES,IAAI,EAAE;IAAO,CAAC;IAC/C,MAAM,EAAE;MAAET,IAAI,EAAE,kBAAkB;MAAES,IAAI,EAAE;IAAO,CAAC;IAClD,MAAM,EAAE;MAAET,IAAI,EAAE,WAAW;MAAES,IAAI,EAAE;IAAY,CAAC;IAChD,KAAK,EAAE;MAAET,IAAI,EAAE,SAAS;MAAES,IAAI,EAAE;IAAS,CAAC;IAC1C,KAAK,EAAE;MAAET,IAAI,EAAE,aAAa;MAAES,IAAI,EAAE;IAAS,CAAC;IAC9C,KAAK,EAAE;MAAET,IAAI,EAAE,YAAY;MAAES,IAAI,EAAE;IAAO,CAAC;IAC3C,KAAK,EAAE;MAAET,IAAI,EAAE,WAAW;MAAES,IAAI,EAAE;IAAS,CAAC;IAC5C,KAAK,EAAE;MAAET,IAAI,EAAE,WAAW;MAAES,IAAI,EAAE;IAAS;EAC/C,CAAC;EAED,SAASC,SAASA,CAACC,QAAQ,EAAEC,SAAS,EAAE;IACpCD,QAAQ,CAACE,SAAS,GAAGC,MAAM,CAACC,MAAM,CAACH,SAAS,CAACC,SAAS,CAAC;IACvDF,QAAQ,CAACE,SAAS,CAACG,WAAW,GAAGL,QAAQ;EAC7C;EAEA,SAASM,QAAQA,CAACjB,IAAI,EAAES,IAAI,EAAE;IAC1B,IAAI,CAACT,IAAI,GAAGA,IAAI,IAAI,SAAS;IAC7B,IAAI,CAACS,IAAI,GAAGA,IAAI,IAAI,SAAS;EACjC;EACAQ,QAAQ,CAACJ,SAAS,CAACK,cAAc,GAAG,YAAW,CAAE,CAAC;EAClDD,QAAQ,CAACJ,SAAS,CAACM,SAAS,GAAG,UAASC,MAAM,EAAE;IAC5C,IAAI,CAACA,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACF,cAAc,CAAC,CAAC;EACzB,CAAC;EACDD,QAAQ,CAACJ,SAAS,CAACQ,YAAY,GAAG,YAAW,CAAE,CAAC;EAChDJ,QAAQ,CAACJ,SAAS,CAACS,OAAO,GAAG,UAASC,IAAI,EAAE;IACxC,IAAI,CAACA,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACF,YAAY,CAAC,CAAC;EACvB,CAAC;EAED,SAASG,QAAQA,CAACxB,IAAI,EAAES,IAAI,EAAE;IAC1BQ,QAAQ,CAACQ,IAAI,CAAC,IAAI,EAAEzB,IAAI,EAAES,IAAI,IAAI,MAAM,CAAC;EAC7C;EACAC,SAAS,CAACc,QAAQ,EAAEP,QAAQ,CAAC;EAC7B,SAASS,MAAMA,CAACC,GAAG,EAAE;IACjB,OAAOA,GAAG,CAACC,MAAM,GAAG,CAAC,KAAK,CAAC,GAAG,GAAG,GAAGD,GAAG,GAAGA,GAAG;EACjD;EACAH,QAAQ,CAACX,SAAS,CAACK,cAAc,GAAG,YAAW;IAC3C;IACA,IAAI,CAACK,IAAI,GAAG,EAAE;IACd,KAAK,IAAIM,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACT,MAAM,CAACQ,MAAM,EAAEC,CAAC,EAAE,EAAE;MACzC,IAAIF,GAAG,GAAG,IAAI,CAACP,MAAM,CAACS,CAAC,CAAC,CAACC,QAAQ,CAAC,EAAE,CAAC;MACrC,IAAI,CAACP,IAAI,IAAIG,MAAM,CAACC,GAAG,CAAC;IAC5B;EACJ,CAAC;EACDH,QAAQ,CAACX,SAAS,CAACQ,YAAY,GAAG,YAAW;IACzC,IAAIO,MAAM,GAAG,IAAI,CAACL,IAAI,CAACK,MAAM,GAAG,CAAC;IACjC,IAAI,CAACR,MAAM,GAAG,IAAIW,UAAU,CAACH,MAAM,CAAC;IACpC,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,MAAM,EAAEC,CAAC,EAAE,EAAE;MAC7B,IAAIF,GAAG,GAAG,IAAI,CAACJ,IAAI,CAACS,MAAM,CAACH,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;MACpC,IAAI,CAACT,MAAM,CAACS,CAAC,CAAC,GAAGI,QAAQ,CAACN,GAAG,EAAE,EAAE,CAAC;IACtC;EACJ,CAAC;EACDH,QAAQ,CAACX,SAAS,CAACqB,QAAQ,GAAG,YAAW;IACrC,OAAOD,QAAQ,CAAC,IAAI,CAACV,IAAI,EAAE,EAAE,CAAC;EAClC,CAAC;EACDC,QAAQ,CAACX,SAAS,CAACsB,QAAQ,GAAG,UAASC,KAAK,EAAE;IAC1C,IAAI,CAACd,OAAO,CAACI,MAAM,CAACU,KAAK,CAACN,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;EAC5C,CAAC;EAED,SAASO,SAASA,CAACrC,IAAI,EAAES,IAAI,EAAE;IAC3BQ,QAAQ,CAACQ,IAAI,CAAC,IAAI,EAAEzB,IAAI,EAAES,IAAI,IAAI,OAAO,CAAC;EAC9C;EACAC,SAAS,CAAC2B,SAAS,EAAEpB,QAAQ,CAAC;EAC9BoB,SAAS,CAACxB,SAAS,CAACyB,iBAAiB,GAAG,YAAW;IAC/C,OAAO,IAAI,CAAClB,MAAM,IAAI,IAAI,CAACA,MAAM,CAACQ,MAAM,KAAK,CAAC,GAAGW,YAAY,GAAGC,YAAY;EAChF,CAAC;EACDH,SAAS,CAACxB,SAAS,CAACK,cAAc,GAAG,YAAW;IAC5C,IAAIuB,SAAS,GAAG,IAAI,CAACrB,MAAM,CAACsB,OAAO,CAAC,CAAC;IACrC,IAAIC,cAAc,GAAG,IAAI,CAACL,iBAAiB,CAAC,CAAC;IAC7C,IAAIM,UAAU,GAAG,IAAID,cAAc,CAACF,SAAS,CAACI,MAAM,CAAC;IACrD,IAAI,CAACtB,IAAI,GAAGqB,UAAU,CAAC,CAAC,CAAC;EAC7B,CAAC;EACDP,SAAS,CAACxB,SAAS,CAACQ,YAAY,GAAG,YAAW;IAC1C,IAAIsB,cAAc,GAAG,IAAI,CAACL,iBAAiB,CAAC,CAAC;IAC7C,IAAIM,UAAU,GAAG,IAAID,cAAc,CAAC,CAAE,IAAI,CAACpB,IAAI,CAAE,CAAC;IAClD,IAAIkB,SAAS,GAAG,IAAIV,UAAU,CAACa,UAAU,CAACC,MAAM,CAAC;IACjD,IAAI,CAACzB,MAAM,GAAGqB,SAAS,CAACC,OAAO,CAAC,CAAC;EACrC,CAAC;EACDL,SAAS,CAACxB,SAAS,CAACqB,QAAQ,GAAG,YAAW;IACtC,OAAO,IAAI,CAACX,IAAI;EACpB,CAAC;EACDc,SAAS,CAACxB,SAAS,CAACsB,QAAQ,GAAG,UAASC,KAAK,EAAE;IAC3C,IAAI,CAACd,OAAO,CAACc,KAAK,CAAC;EACvB,CAAC;EAED,SAASU,aAAaA,CAAC9C,IAAI,EAAES,IAAI,EAAE;IAC/BQ,QAAQ,CAACQ,IAAI,CAAC,IAAI,EAAEzB,IAAI,EAAES,IAAI,IAAI,WAAW,CAAC;EAClD;EACAC,SAAS,CAACoC,aAAa,EAAE7B,QAAQ,CAAC;EAClC6B,aAAa,CAACjC,SAAS,CAACkC,QAAQ,GAAG,YAAW;IAC1C,OAAO,IAAI,CAAC3B,MAAM,CAAC,IAAI,CAAC4B,MAAM,EAAE,CAAC;EACrC,CAAC;EACDF,aAAa,CAACjC,SAAS,CAACoC,QAAQ,GAAG,YAAW;IAC1C,IAAIC,SAAS,GAAG,IAAI,CAACH,QAAQ,CAAC,CAAC;IAC/B,IAAII,KAAK,GAAG,CAAC,GAAGD,SAAS,CAACpB,QAAQ,CAAC,CAAC,CAAC,CAACF,MAAM;IAC5C,IAAIQ,KAAK,GAAGc,SAAS,IAAI,CAAC,IAAK,CAAC,GAAGC,KAAM,CAAC;IAC1C,KAAK,IAAItB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGsB,KAAK,EAAEtB,CAAC,EAAE,EAAE;MAC5B;MACAO,KAAK,IAAI,GAAG;MACZA,KAAK,IAAI,IAAI,CAACW,QAAQ,CAAC,CAAC;IAC5B;IACA,OAAOX,KAAK;EAChB,CAAC;EACDU,aAAa,CAACjC,SAAS,CAACK,cAAc,GAAG,YAAW;IAChD,IAAI,CAACK,IAAI,GAAG,EAAE;IACd,KAAK,IAAI,CAACyB,MAAM,GAAG,CAAC,EAAE,IAAI,CAACA,MAAM,GAAG,IAAI,CAAC5B,MAAM,CAACQ,MAAM,EAAE,IAAI,CAACoB,MAAM,GAAGI,GAAG,EAAE;MACvE,IAAIC,EAAE,GAAG,IAAI,CAACJ,QAAQ,CAAC,CAAC;MACxB,IAAIK,GAAG,GAAG,IAAI,CAACL,QAAQ,CAAC,CAAC;MACzB,IAAIG,GAAG,GAAGG,IAAI,CAACC,GAAG,CAAC,IAAI,CAACR,MAAM,GAAGM,GAAG,EAAE,IAAI,CAAClC,MAAM,CAACQ,MAAM,CAAC;MACzD,IAAIL,IAAI,GAAG,IAAI,CAACH,MAAM,CAACqC,KAAK,CAAC,IAAI,CAACT,MAAM,EAAEI,GAAG,CAAC;MAE9C,IAAIM,IAAI,GAAGlD,QAAQ,CAAC6C,EAAE,CAAC,IAAI;QAAErD,IAAI,EAAE,SAAS;QAAES,IAAI,EAAE;MAAU,CAAC;MAC/D,IAAIkD,GAAG,GAAG1C,QAAQ;MAClB,QAAQyC,IAAI,CAACjD,IAAI;QACb,KAAK,WAAW;UACZkD,GAAG,GAAGb,aAAa;UACnB;QACJ,KAAK,MAAM;UACPa,GAAG,GAAGnC,QAAQ;UACd;QACJ,KAAK,OAAO;UACRmC,GAAG,GAAGtB,SAAS;UACf;MACR;MACA,IAAIuB,OAAO,GAAG,IAAID,GAAG,CAACD,IAAI,CAAC1D,IAAI,EAAE0D,IAAI,CAACjD,IAAI,CAAC;MAC3CmD,OAAO,CAACzC,SAAS,CAACI,IAAI,CAAC;MACvB,IAAI,CAACA,IAAI,CAACsC,IAAI,CAAC;QACXR,EAAE,EAAEA,EAAE;QACNS,KAAK,EAAET,EAAE,CAACvB,QAAQ,CAAC,EAAE,CAAC;QACtBP,IAAI,EAAEqC;MACV,CAAC,CAAC;IACN;EACJ,CAAC;EACDd,aAAa,CAACjC,SAAS,CAACkD,SAAS,GAAG,UAASC,CAAC,EAAEC,KAAK,EAAE;IACnD,KAAK,IAAId,KAAK,GAAG,CAAC,EAAEe,IAAI,GAAG,IAAI,EAAEF,CAAC,IAAIE,IAAI,IAAIf,KAAK,GAAG,CAAC,EAAEA,KAAK,EAAE,EAAEe,IAAI,IAAI,IAAI,EAAE,CAAE;IAElF,IAAI,CAACD,KAAK,EAAE;MACR,IAAI7B,KAAK,GAAG8B,IAAI,GAAGF,CAAC;MACpB,KAAK,IAAInC,CAAC,GAAGsB,KAAK,GAAG,CAAC,EAAEtB,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;QACjC;QACA,IAAIsC,CAAC,GAAG/B,KAAK,GAAG,GAAG;QACnB,IAAI,CAAChB,MAAM,CAAC,IAAI,CAAC4B,MAAM,GAAGnB,CAAC,CAAC,GAAGsC,CAAC;QAChC/B,KAAK,GAAG,CAACA,KAAK,GAAG+B,CAAC,IAAI,GAAG;MAC7B;IACJ;IAEA,IAAI,CAACnB,MAAM,IAAIG,KAAK;EACxB,CAAC;EACDL,aAAa,CAACjC,SAAS,CAACuD,aAAa,GAAG,UAASH,KAAK,EAAE;IACpD,IAAI,CAACjB,MAAM,GAAG,CAAC;IACf,KAAK,IAAInB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACN,IAAI,CAACK,MAAM,EAAEC,CAAC,EAAE,EAAE;MACvC,IAAI+B,OAAO,GAAG,IAAI,CAACrC,IAAI,CAACM,CAAC,CAAC;QACtBwC,OAAO,GAAGT,OAAO,CAACrC,IAAI,CAACH,MAAM;QAC7BkD,aAAa,GAAGD,OAAO,CAACzC,MAAM;MAClC,IAAI,CAACmC,SAAS,CAACH,OAAO,CAACP,EAAE,EAAEY,KAAK,CAAC;MACjC,IAAI,CAACF,SAAS,CAACO,aAAa,EAAEL,KAAK,CAAC;MACpC,IAAI,CAACA,KAAK,EAAE;QACR,IAAI,CAAC7C,MAAM,CAACmD,GAAG,CAACF,OAAO,EAAE,IAAI,CAACrB,MAAM,CAAC;MACzC;MACA,IAAI,CAACA,MAAM,IAAIsB,aAAa;IAChC;IACA,OAAO,IAAI,CAACtB,MAAM;EACtB,CAAC;EACDF,aAAa,CAACjC,SAAS,CAACQ,YAAY,GAAG,YAAW;IAC9C;IACA,IAAIO,MAAM,GAAG,IAAI,CAACwC,aAAa,CAAC,OAAO,CAAC;IACxC,IAAI,CAAChD,MAAM,GAAG,IAAIW,UAAU,CAACH,MAAM,CAAC;IACpC;IACA,IAAI,CAACwC,aAAa,CAAC,CAAC;EACxB,CAAC;EACDtB,aAAa,CAACjC,SAAS,CAAC2D,cAAc,GAAG,UAASnB,EAAE,EAAE;IAClD,KAAK,IAAIxB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACN,IAAI,CAACK,MAAM,EAAEC,CAAC,EAAE,EAAE;MACvC,IAAI+B,OAAO,GAAG,IAAI,CAACrC,IAAI,CAACM,CAAC,CAAC;MAC1B,IAAI+B,OAAO,CAACP,EAAE,KAAKA,EAAE,EAAE;QACnB,OAAOO,OAAO,CAACrC,IAAI;MACvB;IACJ;IACA,OAAO,IAAI;EACf,CAAC;EAED,SAASkD,QAAQA,CAACrD,MAAM,EAAE;IACtB0B,aAAa,CAACrB,IAAI,CAAC,IAAI,EAAE,MAAM,EAAE,MAAM,CAAC;IACxC,IAAI,CAACN,SAAS,CAACC,MAAM,CAAC;EAC1B;EACAV,SAAS,CAAC+D,QAAQ,EAAE3B,aAAa,CAAC;EAClC2B,QAAQ,CAAC5D,SAAS,CAAC6D,WAAW,GAAG,UAASC,QAAQ,EAAEC,OAAO,EAAE;IACzD,IAAIC,MAAM,GAAGD,OAAO,IAAIA,OAAO,CAACC,MAAM;IACtC,IAAIA,MAAM,KAAKC,SAAS,EAAE;MACtBD,MAAM,GAAG,SAAAA,CAASE,OAAO,EAAE;QACvBC,OAAO,CAACC,GAAG,CAACF,OAAO,CAAC;MACxB,CAAC;IACL,CAAC,MAAM,IAAI,CAACF,MAAM,EAAE;MAChBA,MAAM,GAAG,SAAAA,CAAA,EAAW,CAAE,CAAC;IAC3B;IAEA,IAAIK,cAAc,GAAG,IAAI,CAACV,cAAc,CAAC,SAAS,CAAC;IACnD,IAAI,CAACU,cAAc,EAAE;MACjBL,MAAM,CAAC,gDAAgD,CAAC;MACxD,OAAO,KAAK;IAChB;IAEA,IAAIM,WAAW,GAAGD,cAAc,CAACV,cAAc,CAAC,SAAS,CAAC;IAC1D,IAAI,CAACW,WAAW,EAAE;MACdN,MAAM,CAAC,6CAA6C,CAAC;MACrD,OAAO,KAAK;IAChB;IAEA,IAAIO,gBAAgB,GAAGD,WAAW,CAACX,cAAc,CAAC,OAAO,CAAC;IAC1D,IAAI,CAACY,gBAAgB,EAAE;MACnBP,MAAM,CAAC,sDAAsD,CAAC;MAC9D,OAAO,KAAK;IAChB;IAEA,IAAIQ,eAAe,GAAGF,WAAW,CAACX,cAAc,CAAC,KAAK,CAAC;IACvD,IAAIa,eAAe,EAAE;MACjB,IAAIA,eAAe,CAACnD,QAAQ,CAAC,CAAC,IAAI,CAAC,EAAE;QACjC2C,MAAM,sEAAAS,MAAA,CAAsED,eAAe,CAACnD,QAAQ,CAAC,CAAC,CAAE,CAAC;QACzGmD,eAAe,CAAClD,QAAQ,CAACwC,QAAQ,CAAC;MACtC,CAAC,MAAM;QACHE,MAAM,sEAAAS,MAAA,CAAsED,eAAe,CAACnD,QAAQ,CAAC,CAAC,CAAE,CAAC;QACzG,OAAO,KAAK;MAChB;IACJ,CAAC,MAAM;MACH2C,MAAM,CAAC,iDAAiD,CAAC;MACzD;MACAQ,eAAe,GAAG,IAAIhD,SAAS,CAAC,UAAU,EAAE,OAAO,CAAC;MACpDgD,eAAe,CAAClD,QAAQ,CAACwC,QAAQ,CAAC;MAClCQ,WAAW,CAAC5D,IAAI,CAACsC,IAAI,CAAC;QAClBR,EAAE,EAAE,KAAK;QACT9B,IAAI,EAAE8D;MACV,CAAC,CAAC;IACN;;IAEA;IACAD,gBAAgB,CAACjD,QAAQ,CAAC,OAAO,CAAC;IAClCgD,WAAW,CAAC9D,YAAY,CAAC,CAAC;IAC1B6D,cAAc,CAAC7D,YAAY,CAAC,CAAC;IAC7B,IAAI,CAACA,YAAY,CAAC,CAAC;IAEnB,OAAO,IAAI;EACf,CAAC;EACDoD,QAAQ,CAAC5D,SAAS,CAAC0E,MAAM,GAAG,UAASC,QAAQ,EAAE;IAC3C,OAAO,IAAIC,IAAI,CAAC,CAAE,IAAI,CAACrE,MAAM,CAACyB,MAAM,CAAE,EAAE;MAAEpC,IAAI,EAAE+E,QAAQ,IAAI;IAAa,CAAC,CAAC;EAC/E,CAAC;EAED,SAASE,eAAeA,CAACC,IAAI,EAAEhB,QAAQ,EAAEiB,QAAQ,EAAEhB,OAAO,EAAE;IACxD;IACA,IAAI,OAAOgB,QAAQ,KAAK,QAAQ,EAAE;MAC9BhB,OAAO,GAAGgB,QAAQ;MAClBA,QAAQ,GAAGd,SAAS;IACxB;IAEA,IAAI,CAACc,QAAQ,EAAE;MACX,OAAO,IAAIC,OAAO,CAAC,UAASC,OAAO,EAAE;QACjCJ,eAAe,CAACC,IAAI,EAAEhB,QAAQ,EAAEmB,OAAO,EAAElB,OAAO,CAAC;MACrD,CAAC,CAAC;IACN;IAEA,IAAI;MACA,IAAImB,MAAM,GAAG,IAAIC,UAAU,CAAC,CAAC;MAC7BD,MAAM,CAACE,SAAS,GAAG,YAAW;QAC1B,IAAI;UACA,IAAIC,IAAI,GAAG,IAAIzB,QAAQ,CAAC,IAAI1C,UAAU,CAACgE,MAAM,CAACI,MAAM,CAAC,CAAC;UACtD,IAAID,IAAI,CAACxB,WAAW,CAACC,QAAQ,EAAEC,OAAO,CAAC,EAAE;YACrCe,IAAI,GAAGO,IAAI,CAACX,MAAM,CAACI,IAAI,CAAClF,IAAI,CAAC;UACjC;QACJ,CAAC,CAAC,OAAO2F,EAAE,EAAE;UACT;QAAA;QAEJR,QAAQ,CAACD,IAAI,CAAC;MAClB,CAAC;MACDI,MAAM,CAACM,iBAAiB,CAACV,IAAI,CAAC;IAClC,CAAC,CAAC,OAAOS,EAAE,EAAE;MACTR,QAAQ,CAACD,IAAI,CAAC;IAClB;EACJ;;EAEA;EACAD,eAAe,CAACY,OAAO,GAAGZ,eAAe;EAEzC,OAAOA,eAAe;AAC1B,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}