{"ast":null,"code":"import React from 'react';\nimport { FormDialog } from '../../Dialog/FormDialog';\nimport { useStateStore } from '../../../store';\nimport { usePollContext, useTranslationContext } from '../../../context';\nconst pollStateSelector = nextValue => ({\n  ownAnswer: nextValue.ownAnswer\n});\nexport const AddCommentForm = _ref => {\n  var _ownAnswer$answer_tex;\n  let {\n    close,\n    messageId\n  } = _ref;\n  const {\n    t\n  } = useTranslationContext('AddCommentForm');\n  const {\n    poll\n  } = usePollContext();\n  const {\n    ownAnswer\n  } = useStateStore(poll.state, pollStateSelector);\n  return React.createElement(FormDialog, {\n    className: 'str-chat__prompt-dialog str-chat__modal__poll-add-comment',\n    close: close,\n    fields: {\n      comment: {\n        element: 'input',\n        props: {\n          id: 'comment',\n          name: 'comment',\n          required: true,\n          type: 'text',\n          value: (_ownAnswer$answer_tex = ownAnswer === null || ownAnswer === void 0 ? void 0 : ownAnswer.answer_text) !== null && _ownAnswer$answer_tex !== void 0 ? _ownAnswer$answer_tex : ''\n        }\n      }\n    },\n    onSubmit: async value => {\n      await poll.addAnswer(value.comment, messageId);\n    },\n    shouldDisableSubmitButton: value => !value.comment || value.comment === (ownAnswer === null || ownAnswer === void 0 ? void 0 : ownAnswer.answer_text),\n    title: ownAnswer ? t('Update your comment') : t('Add a comment')\n  });\n};","map":{"version":3,"names":["React","FormDialog","useStateStore","usePollContext","useTranslationContext","pollStateSelector","nextValue","ownAnswer","AddCommentForm","_ref","_ownAnswer$answer_tex","close","messageId","t","poll","state","createElement","className","fields","comment","element","props","id","name","required","type","value","answer_text","onSubmit","addAnswer","shouldDisableSubmitButton","title"],"sources":["/tmp/daft-chat-temp/node_modules/stream-chat-react/dist/components/Poll/PollActions/AddCommentForm.js"],"sourcesContent":["import React from 'react';\nimport { FormDialog } from '../../Dialog/FormDialog';\nimport { useStateStore } from '../../../store';\nimport { usePollContext, useTranslationContext } from '../../../context';\nconst pollStateSelector = (nextValue) => ({\n    ownAnswer: nextValue.ownAnswer,\n});\nexport const AddCommentForm = ({ close, messageId }) => {\n    const { t } = useTranslationContext('AddCommentForm');\n    const { poll } = usePollContext();\n    const { ownAnswer } = useStateStore(poll.state, pollStateSelector);\n    return (React.createElement(FormDialog, { className: 'str-chat__prompt-dialog str-chat__modal__poll-add-comment', close: close, fields: {\n            comment: {\n                element: 'input',\n                props: {\n                    id: 'comment',\n                    name: 'comment',\n                    required: true,\n                    type: 'text',\n                    value: ownAnswer?.answer_text ?? '',\n                },\n            },\n        }, onSubmit: async (value) => {\n            await poll.addAnswer(value.comment, messageId);\n        }, shouldDisableSubmitButton: (value) => !value.comment || value.comment === ownAnswer?.answer_text, title: ownAnswer ? t('Update your comment') : t('Add a comment') }));\n};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,UAAU,QAAQ,yBAAyB;AACpD,SAASC,aAAa,QAAQ,gBAAgB;AAC9C,SAASC,cAAc,EAAEC,qBAAqB,QAAQ,kBAAkB;AACxE,MAAMC,iBAAiB,GAAIC,SAAS,KAAM;EACtCC,SAAS,EAAED,SAAS,CAACC;AACzB,CAAC,CAAC;AACF,OAAO,MAAMC,cAAc,GAAGC,IAAA,IAA0B;EAAA,IAAAC,qBAAA;EAAA,IAAzB;IAAEC,KAAK;IAAEC;EAAU,CAAC,GAAAH,IAAA;EAC/C,MAAM;IAAEI;EAAE,CAAC,GAAGT,qBAAqB,CAAC,gBAAgB,CAAC;EACrD,MAAM;IAAEU;EAAK,CAAC,GAAGX,cAAc,CAAC,CAAC;EACjC,MAAM;IAAEI;EAAU,CAAC,GAAGL,aAAa,CAACY,IAAI,CAACC,KAAK,EAAEV,iBAAiB,CAAC;EAClE,OAAQL,KAAK,CAACgB,aAAa,CAACf,UAAU,EAAE;IAAEgB,SAAS,EAAE,2DAA2D;IAAEN,KAAK,EAAEA,KAAK;IAAEO,MAAM,EAAE;MAChIC,OAAO,EAAE;QACLC,OAAO,EAAE,OAAO;QAChBC,KAAK,EAAE;UACHC,EAAE,EAAE,SAAS;UACbC,IAAI,EAAE,SAAS;UACfC,QAAQ,EAAE,IAAI;UACdC,IAAI,EAAE,MAAM;UACZC,KAAK,GAAAhB,qBAAA,GAAEH,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEoB,WAAW,cAAAjB,qBAAA,cAAAA,qBAAA,GAAI;QACrC;MACJ;IACJ,CAAC;IAAEkB,QAAQ,EAAE,MAAOF,KAAK,IAAK;MAC1B,MAAMZ,IAAI,CAACe,SAAS,CAACH,KAAK,CAACP,OAAO,EAAEP,SAAS,CAAC;IAClD,CAAC;IAAEkB,yBAAyB,EAAGJ,KAAK,IAAK,CAACA,KAAK,CAACP,OAAO,IAAIO,KAAK,CAACP,OAAO,MAAKZ,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEoB,WAAW;IAAEI,KAAK,EAAExB,SAAS,GAAGM,CAAC,CAAC,qBAAqB,CAAC,GAAGA,CAAC,CAAC,eAAe;EAAE,CAAC,CAAC;AAChL,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}