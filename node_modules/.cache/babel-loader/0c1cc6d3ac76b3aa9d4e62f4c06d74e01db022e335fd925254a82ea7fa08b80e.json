{"ast":null,"code":"import _objectSpread from \"/tmp/daft-chat-temp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport React, { useLayoutEffect, useRef, useState } from 'react';\nimport ReactPlayer from 'react-player';\nimport clsx from 'clsx';\nimport * as linkify from 'linkifyjs';\nimport { AttachmentActions as DefaultAttachmentActions } from './AttachmentActions';\nimport { Audio as DefaultAudio } from './Audio';\nimport { VoiceRecording as DefaultVoiceRecording } from './VoiceRecording';\nimport { Gallery as DefaultGallery, ImageComponent as DefaultImage } from '../Gallery';\nimport { Card as DefaultCard } from './Card';\nimport { FileAttachment as DefaultFile } from './FileAttachment';\nimport { UnsupportedAttachment as DefaultUnsupportedAttachment } from './UnsupportedAttachment';\nimport { isGalleryAttachmentType, isSvgAttachment } from './utils';\nimport { useChannelStateContext } from '../../context/ChannelStateContext';\nexport const AttachmentWithinContainer = _ref => {\n  let {\n    attachment,\n    children,\n    componentType\n  } = _ref;\n  const isGAT = isGalleryAttachmentType(attachment);\n  let extra = '';\n  if (!isGAT) {\n    var _attachment$actions;\n    extra = componentType === 'card' && !(attachment !== null && attachment !== void 0 && attachment.image_url) && !(attachment !== null && attachment !== void 0 && attachment.thumb_url) ? 'no-image' : attachment !== null && attachment !== void 0 && (_attachment$actions = attachment.actions) !== null && _attachment$actions !== void 0 && _attachment$actions.length ? 'actions' : '';\n  }\n  const classNames = clsx('str-chat__message-attachment str-chat__message-attachment-dynamic-size', {\n    [\"str-chat__message-attachment--\".concat(componentType)]: componentType,\n    [\"str-chat__message-attachment--\".concat(attachment === null || attachment === void 0 ? void 0 : attachment.type)]: attachment === null || attachment === void 0 ? void 0 : attachment.type,\n    [\"str-chat__message-attachment--\".concat(componentType, \"--\").concat(extra)]: componentType && extra,\n    'str-chat__message-attachment--svg-image': isSvgAttachment(attachment),\n    'str-chat__message-attachment-with-actions': extra === 'actions'\n  });\n  return React.createElement(\"div\", {\n    className: classNames\n  }, children);\n};\nexport const AttachmentActionsContainer = _ref2 => {\n  var _attachment$actions2, _attachment$localMeta;\n  let {\n    actionHandler,\n    attachment,\n    AttachmentActions = DefaultAttachmentActions\n  } = _ref2;\n  if (!((_attachment$actions2 = attachment.actions) !== null && _attachment$actions2 !== void 0 && _attachment$actions2.length)) return null;\n  return React.createElement(AttachmentActions, _objectSpread(_objectSpread({}, attachment), {}, {\n    actionHandler: actionHandler,\n    actions: attachment.actions,\n    id: ((_attachment$localMeta = attachment.localMetadata) === null || _attachment$localMeta === void 0 ? void 0 : _attachment$localMeta.id) || '',\n    text: attachment.text || ''\n  }));\n};\nfunction getCssDimensionsVariables(url) {\n  const cssVars = {\n    '--original-height': 1000000,\n    '--original-width': 1000000\n  };\n  if (linkify.test(url, 'url')) {\n    const urlParams = new URL(url).searchParams;\n    const oh = Number(urlParams.get('oh'));\n    const ow = Number(urlParams.get('ow'));\n    const originalHeight = oh > 1 ? oh : 1000000;\n    const originalWidth = ow > 1 ? ow : 1000000;\n    cssVars['--original-width'] = originalWidth;\n    cssVars['--original-height'] = originalHeight;\n  }\n  return cssVars;\n}\nexport const GalleryContainer = _ref3 => {\n  let {\n    attachment,\n    Gallery = DefaultGallery\n  } = _ref3;\n  const imageElements = useRef([]);\n  const {\n    imageAttachmentSizeHandler\n  } = useChannelStateContext();\n  const [attachmentConfigurations, setAttachmentConfigurations] = useState([]);\n  useLayoutEffect(() => {\n    if (imageElements.current && imageElements.current.every(element => !!element) && imageAttachmentSizeHandler) {\n      const newConfigurations = [];\n      imageElements.current.forEach((element, i) => {\n        const config = imageAttachmentSizeHandler(attachment.images[i], element);\n        newConfigurations.push(config);\n      });\n      setAttachmentConfigurations(newConfigurations);\n    }\n  }, [imageElements, imageAttachmentSizeHandler, attachment]);\n  const images = attachment.images.map((image, i) => {\n    var _attachmentConfigurat, _attachment$images$i, _attachment$images$i2;\n    return _objectSpread(_objectSpread({}, image), {}, {\n      previewUrl: ((_attachmentConfigurat = attachmentConfigurations[i]) === null || _attachmentConfigurat === void 0 ? void 0 : _attachmentConfigurat.url) || 'about:blank',\n      style: getCssDimensionsVariables(((_attachment$images$i = attachment.images[i]) === null || _attachment$images$i === void 0 ? void 0 : _attachment$images$i.image_url) || ((_attachment$images$i2 = attachment.images[i]) === null || _attachment$images$i2 === void 0 ? void 0 : _attachment$images$i2.thumb_url) || '')\n    });\n  });\n  return React.createElement(AttachmentWithinContainer, {\n    attachment: attachment,\n    componentType: 'gallery'\n  }, React.createElement(Gallery, {\n    images: images || [],\n    innerRefs: imageElements,\n    key: 'gallery'\n  }));\n};\nexport const ImageContainer = props => {\n  const {\n    attachment,\n    Image = DefaultImage\n  } = props;\n  const componentType = 'image';\n  const imageElement = useRef(null);\n  const {\n    imageAttachmentSizeHandler\n  } = useChannelStateContext();\n  const [attachmentConfiguration, setAttachmentConfiguration] = useState(undefined);\n  useLayoutEffect(() => {\n    if (imageElement.current && imageAttachmentSizeHandler) {\n      const config = imageAttachmentSizeHandler(attachment, imageElement.current);\n      setAttachmentConfiguration(config);\n    }\n  }, [imageElement, imageAttachmentSizeHandler, attachment]);\n  const imageConfig = _objectSpread(_objectSpread({}, attachment), {}, {\n    previewUrl: (attachmentConfiguration === null || attachmentConfiguration === void 0 ? void 0 : attachmentConfiguration.url) || 'about:blank',\n    style: getCssDimensionsVariables(attachment.image_url || attachment.thumb_url || '')\n  });\n  if (attachment.actions && attachment.actions.length) {\n    return React.createElement(AttachmentWithinContainer, {\n      attachment: attachment,\n      componentType: componentType\n    }, React.createElement(\"div\", {\n      className: 'str-chat__attachment'\n    }, React.createElement(Image, _objectSpread(_objectSpread({}, imageConfig), {}, {\n      innerRef: imageElement\n    })), React.createElement(AttachmentActionsContainer, _objectSpread({}, props))));\n  }\n  return React.createElement(AttachmentWithinContainer, {\n    attachment: attachment,\n    componentType: componentType\n  }, React.createElement(Image, _objectSpread(_objectSpread({}, imageConfig), {}, {\n    innerRef: imageElement\n  })));\n};\nexport const CardContainer = props => {\n  const {\n    attachment,\n    Card = DefaultCard\n  } = props;\n  const componentType = 'card';\n  if (attachment.actions && attachment.actions.length) {\n    return React.createElement(AttachmentWithinContainer, {\n      attachment: attachment,\n      componentType: componentType\n    }, React.createElement(\"div\", {\n      className: 'str-chat__attachment'\n    }, React.createElement(Card, _objectSpread({}, attachment)), React.createElement(AttachmentActionsContainer, _objectSpread({}, props))));\n  }\n  return React.createElement(AttachmentWithinContainer, {\n    attachment: attachment,\n    componentType: componentType\n  }, React.createElement(Card, _objectSpread({}, attachment)));\n};\nexport const FileContainer = _ref4 => {\n  let {\n    attachment,\n    File = DefaultFile\n  } = _ref4;\n  if (!attachment.asset_url) return null;\n  return React.createElement(AttachmentWithinContainer, {\n    attachment: attachment,\n    componentType: 'file'\n  }, React.createElement(File, {\n    attachment: attachment\n  }));\n};\nexport const AudioContainer = _ref5 => {\n  let {\n    attachment,\n    Audio = DefaultAudio\n  } = _ref5;\n  return React.createElement(AttachmentWithinContainer, {\n    attachment: attachment,\n    componentType: 'audio'\n  }, React.createElement(\"div\", {\n    className: 'str-chat__attachment'\n  }, React.createElement(Audio, {\n    og: attachment\n  })));\n};\nexport const VoiceRecordingContainer = _ref6 => {\n  let {\n    attachment,\n    isQuoted,\n    VoiceRecording = DefaultVoiceRecording\n  } = _ref6;\n  return React.createElement(AttachmentWithinContainer, {\n    attachment: attachment,\n    componentType: 'voiceRecording'\n  }, React.createElement(\"div\", {\n    className: 'str-chat__attachment'\n  }, React.createElement(VoiceRecording, {\n    attachment: attachment,\n    isQuoted: isQuoted\n  })));\n};\nexport const MediaContainer = props => {\n  var _attachment$actions3;\n  const {\n    attachment,\n    Media = ReactPlayer\n  } = props;\n  const componentType = 'media';\n  const {\n    shouldGenerateVideoThumbnail,\n    videoAttachmentSizeHandler\n  } = useChannelStateContext();\n  const videoElement = useRef(null);\n  const [attachmentConfiguration, setAttachmentConfiguration] = useState();\n  useLayoutEffect(() => {\n    if (videoElement.current && videoAttachmentSizeHandler) {\n      const config = videoAttachmentSizeHandler(attachment, videoElement.current, shouldGenerateVideoThumbnail);\n      setAttachmentConfiguration(config);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [videoElement, videoAttachmentSizeHandler, attachment]);\n  const content = React.createElement(\"div\", {\n    className: 'str-chat__player-wrapper',\n    \"data-testid\": 'video-wrapper',\n    ref: videoElement,\n    style: getCssDimensionsVariables(attachment.thumb_url || '')\n  }, React.createElement(Media, {\n    className: 'react-player',\n    config: {\n      file: {\n        attributes: {\n          poster: attachmentConfiguration === null || attachmentConfiguration === void 0 ? void 0 : attachmentConfiguration.thumbUrl\n        }\n      }\n    },\n    controls: true,\n    height: '100%',\n    url: attachmentConfiguration === null || attachmentConfiguration === void 0 ? void 0 : attachmentConfiguration.url,\n    width: '100%'\n  }));\n  return (_attachment$actions3 = attachment.actions) !== null && _attachment$actions3 !== void 0 && _attachment$actions3.length ? React.createElement(AttachmentWithinContainer, {\n    attachment: attachment,\n    componentType: componentType\n  }, React.createElement(\"div\", {\n    className: 'str-chat__attachment'\n  }, content, React.createElement(AttachmentActionsContainer, _objectSpread({}, props)))) : React.createElement(AttachmentWithinContainer, {\n    attachment: attachment,\n    componentType: componentType\n  }, content);\n};\nexport const UnsupportedAttachmentContainer = _ref7 => {\n  let {\n    attachment,\n    UnsupportedAttachment = DefaultUnsupportedAttachment\n  } = _ref7;\n  return React.createElement(React.Fragment, null, React.createElement(UnsupportedAttachment, {\n    attachment: attachment\n  }));\n};","map":{"version":3,"names":["React","useLayoutEffect","useRef","useState","ReactPlayer","clsx","linkify","AttachmentActions","DefaultAttachmentActions","Audio","DefaultAudio","VoiceRecording","DefaultVoiceRecording","Gallery","DefaultGallery","ImageComponent","DefaultImage","Card","DefaultCard","FileAttachment","DefaultFile","UnsupportedAttachment","DefaultUnsupportedAttachment","isGalleryAttachmentType","isSvgAttachment","useChannelStateContext","AttachmentWithinContainer","_ref","attachment","children","componentType","isGAT","extra","_attachment$actions","image_url","thumb_url","actions","length","classNames","concat","type","createElement","className","AttachmentActionsContainer","_ref2","_attachment$actions2","_attachment$localMeta","actionHandler","_objectSpread","id","localMetadata","text","getCssDimensionsVariables","url","cssVars","test","urlParams","URL","searchParams","oh","Number","get","ow","originalHeight","originalWidth","GalleryContainer","_ref3","imageElements","imageAttachmentSizeHandler","attachmentConfigurations","setAttachmentConfigurations","current","every","element","newConfigurations","forEach","i","config","images","push","map","image","_attachmentConfigurat","_attachment$images$i","_attachment$images$i2","previewUrl","style","innerRefs","key","ImageContainer","props","Image","imageElement","attachmentConfiguration","setAttachmentConfiguration","undefined","imageConfig","innerRef","CardContainer","FileContainer","_ref4","File","asset_url","AudioContainer","_ref5","og","VoiceRecordingContainer","_ref6","isQuoted","MediaContainer","_attachment$actions3","Media","shouldGenerateVideoThumbnail","videoAttachmentSizeHandler","videoElement","content","ref","file","attributes","poster","thumbUrl","controls","height","width","UnsupportedAttachmentContainer","_ref7","Fragment"],"sources":["/tmp/daft-chat-temp/node_modules/stream-chat-react/dist/components/Attachment/AttachmentContainer.js"],"sourcesContent":["import React, { useLayoutEffect, useRef, useState } from 'react';\nimport ReactPlayer from 'react-player';\nimport clsx from 'clsx';\nimport * as linkify from 'linkifyjs';\nimport { AttachmentActions as DefaultAttachmentActions } from './AttachmentActions';\nimport { Audio as DefaultAudio } from './Audio';\nimport { VoiceRecording as DefaultVoiceRecording } from './VoiceRecording';\nimport { Gallery as DefaultGallery, ImageComponent as DefaultImage } from '../Gallery';\nimport { Card as DefaultCard } from './Card';\nimport { FileAttachment as DefaultFile } from './FileAttachment';\nimport { UnsupportedAttachment as DefaultUnsupportedAttachment } from './UnsupportedAttachment';\nimport { isGalleryAttachmentType, isSvgAttachment } from './utils';\nimport { useChannelStateContext } from '../../context/ChannelStateContext';\nexport const AttachmentWithinContainer = ({ attachment, children, componentType, }) => {\n    const isGAT = isGalleryAttachmentType(attachment);\n    let extra = '';\n    if (!isGAT) {\n        extra =\n            componentType === 'card' && !attachment?.image_url && !attachment?.thumb_url\n                ? 'no-image'\n                : attachment?.actions?.length\n                    ? 'actions'\n                    : '';\n    }\n    const classNames = clsx('str-chat__message-attachment str-chat__message-attachment-dynamic-size', {\n        [`str-chat__message-attachment--${componentType}`]: componentType,\n        [`str-chat__message-attachment--${attachment?.type}`]: attachment?.type,\n        [`str-chat__message-attachment--${componentType}--${extra}`]: componentType && extra,\n        'str-chat__message-attachment--svg-image': isSvgAttachment(attachment),\n        'str-chat__message-attachment-with-actions': extra === 'actions',\n    });\n    return React.createElement(\"div\", { className: classNames }, children);\n};\nexport const AttachmentActionsContainer = ({ actionHandler, attachment, AttachmentActions = DefaultAttachmentActions, }) => {\n    if (!attachment.actions?.length)\n        return null;\n    return (React.createElement(AttachmentActions, { ...attachment, actionHandler: actionHandler, actions: attachment.actions, id: attachment.localMetadata?.id || '', text: attachment.text || '' }));\n};\nfunction getCssDimensionsVariables(url) {\n    const cssVars = {\n        '--original-height': 1000000,\n        '--original-width': 1000000,\n    };\n    if (linkify.test(url, 'url')) {\n        const urlParams = new URL(url).searchParams;\n        const oh = Number(urlParams.get('oh'));\n        const ow = Number(urlParams.get('ow'));\n        const originalHeight = oh > 1 ? oh : 1000000;\n        const originalWidth = ow > 1 ? ow : 1000000;\n        cssVars['--original-width'] = originalWidth;\n        cssVars['--original-height'] = originalHeight;\n    }\n    return cssVars;\n}\nexport const GalleryContainer = ({ attachment, Gallery = DefaultGallery, }) => {\n    const imageElements = useRef([]);\n    const { imageAttachmentSizeHandler } = useChannelStateContext();\n    const [attachmentConfigurations, setAttachmentConfigurations] = useState([]);\n    useLayoutEffect(() => {\n        if (imageElements.current &&\n            imageElements.current.every((element) => !!element) &&\n            imageAttachmentSizeHandler) {\n            const newConfigurations = [];\n            imageElements.current.forEach((element, i) => {\n                const config = imageAttachmentSizeHandler(attachment.images[i], element);\n                newConfigurations.push(config);\n            });\n            setAttachmentConfigurations(newConfigurations);\n        }\n    }, [imageElements, imageAttachmentSizeHandler, attachment]);\n    const images = attachment.images.map((image, i) => ({\n        ...image,\n        previewUrl: attachmentConfigurations[i]?.url || 'about:blank',\n        style: getCssDimensionsVariables(attachment.images[i]?.image_url || attachment.images[i]?.thumb_url || ''),\n    }));\n    return (React.createElement(AttachmentWithinContainer, { attachment: attachment, componentType: 'gallery' },\n        React.createElement(Gallery, { images: images || [], innerRefs: imageElements, key: 'gallery' })));\n};\nexport const ImageContainer = (props) => {\n    const { attachment, Image = DefaultImage } = props;\n    const componentType = 'image';\n    const imageElement = useRef(null);\n    const { imageAttachmentSizeHandler } = useChannelStateContext();\n    const [attachmentConfiguration, setAttachmentConfiguration] = useState(undefined);\n    useLayoutEffect(() => {\n        if (imageElement.current && imageAttachmentSizeHandler) {\n            const config = imageAttachmentSizeHandler(attachment, imageElement.current);\n            setAttachmentConfiguration(config);\n        }\n    }, [imageElement, imageAttachmentSizeHandler, attachment]);\n    const imageConfig = {\n        ...attachment,\n        previewUrl: attachmentConfiguration?.url || 'about:blank',\n        style: getCssDimensionsVariables(attachment.image_url || attachment.thumb_url || ''),\n    };\n    if (attachment.actions && attachment.actions.length) {\n        return (React.createElement(AttachmentWithinContainer, { attachment: attachment, componentType: componentType },\n            React.createElement(\"div\", { className: 'str-chat__attachment' },\n                React.createElement(Image, { ...imageConfig, innerRef: imageElement }),\n                React.createElement(AttachmentActionsContainer, { ...props }))));\n    }\n    return (React.createElement(AttachmentWithinContainer, { attachment: attachment, componentType: componentType },\n        React.createElement(Image, { ...imageConfig, innerRef: imageElement })));\n};\nexport const CardContainer = (props) => {\n    const { attachment, Card = DefaultCard } = props;\n    const componentType = 'card';\n    if (attachment.actions && attachment.actions.length) {\n        return (React.createElement(AttachmentWithinContainer, { attachment: attachment, componentType: componentType },\n            React.createElement(\"div\", { className: 'str-chat__attachment' },\n                React.createElement(Card, { ...attachment }),\n                React.createElement(AttachmentActionsContainer, { ...props }))));\n    }\n    return (React.createElement(AttachmentWithinContainer, { attachment: attachment, componentType: componentType },\n        React.createElement(Card, { ...attachment })));\n};\nexport const FileContainer = ({ attachment, File = DefaultFile, }) => {\n    if (!attachment.asset_url)\n        return null;\n    return (React.createElement(AttachmentWithinContainer, { attachment: attachment, componentType: 'file' },\n        React.createElement(File, { attachment: attachment })));\n};\nexport const AudioContainer = ({ attachment, Audio = DefaultAudio, }) => (React.createElement(AttachmentWithinContainer, { attachment: attachment, componentType: 'audio' },\n    React.createElement(\"div\", { className: 'str-chat__attachment' },\n        React.createElement(Audio, { og: attachment }))));\nexport const VoiceRecordingContainer = ({ attachment, isQuoted, VoiceRecording = DefaultVoiceRecording, }) => (React.createElement(AttachmentWithinContainer, { attachment: attachment, componentType: 'voiceRecording' },\n    React.createElement(\"div\", { className: 'str-chat__attachment' },\n        React.createElement(VoiceRecording, { attachment: attachment, isQuoted: isQuoted }))));\nexport const MediaContainer = (props) => {\n    const { attachment, Media = ReactPlayer } = props;\n    const componentType = 'media';\n    const { shouldGenerateVideoThumbnail, videoAttachmentSizeHandler } = useChannelStateContext();\n    const videoElement = useRef(null);\n    const [attachmentConfiguration, setAttachmentConfiguration] = useState();\n    useLayoutEffect(() => {\n        if (videoElement.current && videoAttachmentSizeHandler) {\n            const config = videoAttachmentSizeHandler(attachment, videoElement.current, shouldGenerateVideoThumbnail);\n            setAttachmentConfiguration(config);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [videoElement, videoAttachmentSizeHandler, attachment]);\n    const content = (React.createElement(\"div\", { className: 'str-chat__player-wrapper', \"data-testid\": 'video-wrapper', ref: videoElement, style: getCssDimensionsVariables(attachment.thumb_url || '') },\n        React.createElement(Media, { className: 'react-player', config: { file: { attributes: { poster: attachmentConfiguration?.thumbUrl } } }, controls: true, height: '100%', url: attachmentConfiguration?.url, width: '100%' })));\n    return attachment.actions?.length ? (React.createElement(AttachmentWithinContainer, { attachment: attachment, componentType: componentType },\n        React.createElement(\"div\", { className: 'str-chat__attachment' },\n            content,\n            React.createElement(AttachmentActionsContainer, { ...props })))) : (React.createElement(AttachmentWithinContainer, { attachment: attachment, componentType: componentType }, content));\n};\nexport const UnsupportedAttachmentContainer = ({ attachment, UnsupportedAttachment = DefaultUnsupportedAttachment, }) => (React.createElement(React.Fragment, null,\n    React.createElement(UnsupportedAttachment, { attachment: attachment })));\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}