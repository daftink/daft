{"ast":null,"code":"// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/charAt#getting_whole_characters\nexport const getWholeChar = (str, i) => {\n  const code = str.charCodeAt(i);\n  if (Number.isNaN(code)) return '';\n  if (code < 0xd800 || code > 0xdfff) return str.charAt(i);\n  if (0xd800 <= code && code <= 0xdbff) {\n    if (str.length <= i + 1) {\n      throw 'High surrogate without following low surrogate';\n    }\n    const next = str.charCodeAt(i + 1);\n    if (0xdc00 > next || next > 0xdfff) {\n      throw 'High surrogate without following low surrogate';\n    }\n    return str.charAt(i) + str.charAt(i + 1);\n  }\n  if (i === 0) {\n    throw 'Low surrogate without preceding high surrogate';\n  }\n  const prev = str.charCodeAt(i - 1);\n  if (0xd800 > prev || prev > 0xdbff) {\n    throw 'Low surrogate without preceding high surrogate';\n  }\n  return '';\n};","map":{"version":3,"names":["getWholeChar","str","i","code","charCodeAt","Number","isNaN","charAt","length","next","prev"],"sources":["/tmp/daft-chat-temp/node_modules/stream-chat-react/dist/utils/getWholeChar.js"],"sourcesContent":["// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/charAt#getting_whole_characters\nexport const getWholeChar = (str, i) => {\n    const code = str.charCodeAt(i);\n    if (Number.isNaN(code))\n        return '';\n    if (code < 0xd800 || code > 0xdfff)\n        return str.charAt(i);\n    if (0xd800 <= code && code <= 0xdbff) {\n        if (str.length <= i + 1) {\n            throw 'High surrogate without following low surrogate';\n        }\n        const next = str.charCodeAt(i + 1);\n        if (0xdc00 > next || next > 0xdfff) {\n            throw 'High surrogate without following low surrogate';\n        }\n        return str.charAt(i) + str.charAt(i + 1);\n    }\n    if (i === 0) {\n        throw 'Low surrogate without preceding high surrogate';\n    }\n    const prev = str.charCodeAt(i - 1);\n    if (0xd800 > prev || prev > 0xdbff) {\n        throw 'Low surrogate without preceding high surrogate';\n    }\n    return '';\n};\n"],"mappings":"AAAA;AACA,OAAO,MAAMA,YAAY,GAAGA,CAACC,GAAG,EAAEC,CAAC,KAAK;EACpC,MAAMC,IAAI,GAAGF,GAAG,CAACG,UAAU,CAACF,CAAC,CAAC;EAC9B,IAAIG,MAAM,CAACC,KAAK,CAACH,IAAI,CAAC,EAClB,OAAO,EAAE;EACb,IAAIA,IAAI,GAAG,MAAM,IAAIA,IAAI,GAAG,MAAM,EAC9B,OAAOF,GAAG,CAACM,MAAM,CAACL,CAAC,CAAC;EACxB,IAAI,MAAM,IAAIC,IAAI,IAAIA,IAAI,IAAI,MAAM,EAAE;IAClC,IAAIF,GAAG,CAACO,MAAM,IAAIN,CAAC,GAAG,CAAC,EAAE;MACrB,MAAM,gDAAgD;IAC1D;IACA,MAAMO,IAAI,GAAGR,GAAG,CAACG,UAAU,CAACF,CAAC,GAAG,CAAC,CAAC;IAClC,IAAI,MAAM,GAAGO,IAAI,IAAIA,IAAI,GAAG,MAAM,EAAE;MAChC,MAAM,gDAAgD;IAC1D;IACA,OAAOR,GAAG,CAACM,MAAM,CAACL,CAAC,CAAC,GAAGD,GAAG,CAACM,MAAM,CAACL,CAAC,GAAG,CAAC,CAAC;EAC5C;EACA,IAAIA,CAAC,KAAK,CAAC,EAAE;IACT,MAAM,gDAAgD;EAC1D;EACA,MAAMQ,IAAI,GAAGT,GAAG,CAACG,UAAU,CAACF,CAAC,GAAG,CAAC,CAAC;EAClC,IAAI,MAAM,GAAGQ,IAAI,IAAIA,IAAI,GAAG,MAAM,EAAE;IAChC,MAAM,gDAAgD;EAC1D;EACA,OAAO,EAAE;AACb,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}