{"ast":null,"code":"import { useEffect, useRef, useState } from 'react';\nexport const useScrollToBottomOnNewMessage = _ref => {\n  let {\n    messages,\n    scrollToBottom,\n    scrollToLatestMessageOnFocus\n  } = _ref;\n  const [newMessagesReceivedInBackground, setNewMessagesReceivedInBackground] = useState(false);\n  const scrollToBottomIfConfigured = useRef(undefined);\n  scrollToBottomIfConfigured.current = event => {\n    if (!scrollToLatestMessageOnFocus || !newMessagesReceivedInBackground || event.target !== window) {\n      return;\n    }\n    setTimeout(scrollToBottom, 100);\n  };\n  useEffect(() => {\n    setNewMessagesReceivedInBackground(true);\n  }, [messages]);\n  useEffect(() => {\n    const handleFocus = event => {\n      var _scrollToBottomIfConf;\n      (_scrollToBottomIfConf = scrollToBottomIfConfigured.current) === null || _scrollToBottomIfConf === void 0 || _scrollToBottomIfConf.call(scrollToBottomIfConfigured, event);\n    };\n    const handleBlur = () => {\n      setNewMessagesReceivedInBackground(false);\n    };\n    if (typeof window !== 'undefined') {\n      window.addEventListener('focus', handleFocus);\n      window.addEventListener('blur', handleBlur);\n    }\n    return () => {\n      window.removeEventListener('focus', handleFocus);\n      window.removeEventListener('blur', handleBlur);\n    };\n  }, []);\n};","map":{"version":3,"names":["useEffect","useRef","useState","useScrollToBottomOnNewMessage","_ref","messages","scrollToBottom","scrollToLatestMessageOnFocus","newMessagesReceivedInBackground","setNewMessagesReceivedInBackground","scrollToBottomIfConfigured","undefined","current","event","target","window","setTimeout","handleFocus","_scrollToBottomIfConf","call","handleBlur","addEventListener","removeEventListener"],"sources":["/tmp/daft-chat-temp/node_modules/stream-chat-react/dist/components/MessageList/hooks/VirtualizedMessageList/useScrollToBottomOnNewMessage.js"],"sourcesContent":["import { useEffect, useRef, useState } from 'react';\nexport const useScrollToBottomOnNewMessage = ({ messages, scrollToBottom, scrollToLatestMessageOnFocus, }) => {\n    const [newMessagesReceivedInBackground, setNewMessagesReceivedInBackground] = useState(false);\n    const scrollToBottomIfConfigured = useRef(undefined);\n    scrollToBottomIfConfigured.current = (event) => {\n        if (!scrollToLatestMessageOnFocus ||\n            !newMessagesReceivedInBackground ||\n            event.target !== window) {\n            return;\n        }\n        setTimeout(scrollToBottom, 100);\n    };\n    useEffect(() => {\n        setNewMessagesReceivedInBackground(true);\n    }, [messages]);\n    useEffect(() => {\n        const handleFocus = (event) => {\n            scrollToBottomIfConfigured.current?.(event);\n        };\n        const handleBlur = () => {\n            setNewMessagesReceivedInBackground(false);\n        };\n        if (typeof window !== 'undefined') {\n            window.addEventListener('focus', handleFocus);\n            window.addEventListener('blur', handleBlur);\n        }\n        return () => {\n            window.removeEventListener('focus', handleFocus);\n            window.removeEventListener('blur', handleBlur);\n        };\n    }, []);\n};\n"],"mappings":"AAAA,SAASA,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AACnD,OAAO,MAAMC,6BAA6B,GAAGC,IAAA,IAAiE;EAAA,IAAhE;IAAEC,QAAQ;IAAEC,cAAc;IAAEC;EAA8B,CAAC,GAAAH,IAAA;EACrG,MAAM,CAACI,+BAA+B,EAAEC,kCAAkC,CAAC,GAAGP,QAAQ,CAAC,KAAK,CAAC;EAC7F,MAAMQ,0BAA0B,GAAGT,MAAM,CAACU,SAAS,CAAC;EACpDD,0BAA0B,CAACE,OAAO,GAAIC,KAAK,IAAK;IAC5C,IAAI,CAACN,4BAA4B,IAC7B,CAACC,+BAA+B,IAChCK,KAAK,CAACC,MAAM,KAAKC,MAAM,EAAE;MACzB;IACJ;IACAC,UAAU,CAACV,cAAc,EAAE,GAAG,CAAC;EACnC,CAAC;EACDN,SAAS,CAAC,MAAM;IACZS,kCAAkC,CAAC,IAAI,CAAC;EAC5C,CAAC,EAAE,CAACJ,QAAQ,CAAC,CAAC;EACdL,SAAS,CAAC,MAAM;IACZ,MAAMiB,WAAW,GAAIJ,KAAK,IAAK;MAAA,IAAAK,qBAAA;MAC3B,CAAAA,qBAAA,GAAAR,0BAA0B,CAACE,OAAO,cAAAM,qBAAA,eAAlCA,qBAAA,CAAAC,IAAA,CAAAT,0BAA0B,EAAWG,KAAK,CAAC;IAC/C,CAAC;IACD,MAAMO,UAAU,GAAGA,CAAA,KAAM;MACrBX,kCAAkC,CAAC,KAAK,CAAC;IAC7C,CAAC;IACD,IAAI,OAAOM,MAAM,KAAK,WAAW,EAAE;MAC/BA,MAAM,CAACM,gBAAgB,CAAC,OAAO,EAAEJ,WAAW,CAAC;MAC7CF,MAAM,CAACM,gBAAgB,CAAC,MAAM,EAAED,UAAU,CAAC;IAC/C;IACA,OAAO,MAAM;MACTL,MAAM,CAACO,mBAAmB,CAAC,OAAO,EAAEL,WAAW,CAAC;MAChDF,MAAM,CAACO,mBAAmB,CAAC,MAAM,EAAEF,UAAU,CAAC;IAClD,CAAC;EACL,CAAC,EAAE,EAAE,CAAC;AACV,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}