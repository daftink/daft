{"ast":null,"code":"import { useEffect, useRef } from 'react';\nexport function useShouldForceScrollToBottom(messages, currentUserId) {\n  const lastFocusedOwnMessage = useRef('');\n  const initialFocusRegistered = useRef(false);\n  function recheckForNewOwnMessage() {\n    if (messages && messages.length > 0) {\n      var _lastMessage$user;\n      const lastMessage = messages[messages.length - 1];\n      if (((_lastMessage$user = lastMessage.user) === null || _lastMessage$user === void 0 ? void 0 : _lastMessage$user.id) === currentUserId && lastFocusedOwnMessage.current !== lastMessage.id) {\n        lastFocusedOwnMessage.current = lastMessage.id;\n        return true;\n      }\n    }\n    return false;\n  }\n  useEffect(() => {\n    if (messages && messages.length && !initialFocusRegistered.current) {\n      initialFocusRegistered.current = true;\n      recheckForNewOwnMessage();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [messages, messages === null || messages === void 0 ? void 0 : messages.length]);\n  return recheckForNewOwnMessage;\n}","map":{"version":3,"names":["useEffect","useRef","useShouldForceScrollToBottom","messages","currentUserId","lastFocusedOwnMessage","initialFocusRegistered","recheckForNewOwnMessage","length","_lastMessage$user","lastMessage","user","id","current"],"sources":["/tmp/daft-chat-temp/node_modules/stream-chat-react/dist/components/MessageList/hooks/VirtualizedMessageList/useShouldForceScrollToBottom.js"],"sourcesContent":["import { useEffect, useRef } from 'react';\nexport function useShouldForceScrollToBottom(messages, currentUserId) {\n    const lastFocusedOwnMessage = useRef('');\n    const initialFocusRegistered = useRef(false);\n    function recheckForNewOwnMessage() {\n        if (messages && messages.length > 0) {\n            const lastMessage = messages[messages.length - 1];\n            if (lastMessage.user?.id === currentUserId &&\n                lastFocusedOwnMessage.current !== lastMessage.id) {\n                lastFocusedOwnMessage.current = lastMessage.id;\n                return true;\n            }\n        }\n        return false;\n    }\n    useEffect(() => {\n        if (messages && messages.length && !initialFocusRegistered.current) {\n            initialFocusRegistered.current = true;\n            recheckForNewOwnMessage();\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [messages, messages?.length]);\n    return recheckForNewOwnMessage;\n}\n"],"mappings":"AAAA,SAASA,SAAS,EAAEC,MAAM,QAAQ,OAAO;AACzC,OAAO,SAASC,4BAA4BA,CAACC,QAAQ,EAAEC,aAAa,EAAE;EAClE,MAAMC,qBAAqB,GAAGJ,MAAM,CAAC,EAAE,CAAC;EACxC,MAAMK,sBAAsB,GAAGL,MAAM,CAAC,KAAK,CAAC;EAC5C,SAASM,uBAAuBA,CAAA,EAAG;IAC/B,IAAIJ,QAAQ,IAAIA,QAAQ,CAACK,MAAM,GAAG,CAAC,EAAE;MAAA,IAAAC,iBAAA;MACjC,MAAMC,WAAW,GAAGP,QAAQ,CAACA,QAAQ,CAACK,MAAM,GAAG,CAAC,CAAC;MACjD,IAAI,EAAAC,iBAAA,GAAAC,WAAW,CAACC,IAAI,cAAAF,iBAAA,uBAAhBA,iBAAA,CAAkBG,EAAE,MAAKR,aAAa,IACtCC,qBAAqB,CAACQ,OAAO,KAAKH,WAAW,CAACE,EAAE,EAAE;QAClDP,qBAAqB,CAACQ,OAAO,GAAGH,WAAW,CAACE,EAAE;QAC9C,OAAO,IAAI;MACf;IACJ;IACA,OAAO,KAAK;EAChB;EACAZ,SAAS,CAAC,MAAM;IACZ,IAAIG,QAAQ,IAAIA,QAAQ,CAACK,MAAM,IAAI,CAACF,sBAAsB,CAACO,OAAO,EAAE;MAChEP,sBAAsB,CAACO,OAAO,GAAG,IAAI;MACrCN,uBAAuB,CAAC,CAAC;IAC7B;IACA;EACJ,CAAC,EAAE,CAACJ,QAAQ,EAAEA,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEK,MAAM,CAAC,CAAC;EAChC,OAAOD,uBAAuB;AAClC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}