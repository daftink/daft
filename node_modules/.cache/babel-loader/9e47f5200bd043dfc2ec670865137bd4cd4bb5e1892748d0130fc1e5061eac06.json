{"ast":null,"code":"import React, { useState } from 'react';\nimport { Avatar } from '../Avatar';\nimport { PopperTooltip } from '../Tooltip';\nimport { useEnterLeaveHandlers } from '../Tooltip/hooks';\nimport { useChatContext, useTranslationContext } from '../../context';\nconst PollVoteTimestamp = _ref => {\n  let {\n    timestamp\n  } = _ref;\n  const {\n    t\n  } = useTranslationContext();\n  const {\n    handleEnter,\n    handleLeave,\n    tooltipVisible\n  } = useEnterLeaveHandlers();\n  const [referenceElement, setReferenceElement] = useState(null);\n  const timestampDate = new Date(timestamp);\n  return React.createElement(\"div\", {\n    className: 'str-chat__poll-vote__timestamp',\n    onMouseEnter: handleEnter,\n    onMouseLeave: handleLeave,\n    ref: setReferenceElement\n  }, t('timestamp/PollVote', {\n    timestamp: timestampDate\n  }), React.createElement(PopperTooltip, {\n    offset: [0, 5],\n    placement: 'bottom',\n    referenceElement: referenceElement,\n    visible: tooltipVisible\n  }, t('timestamp/PollVoteTooltip', {\n    timestamp: timestampDate\n  })));\n};\nconst PollVoteAuthor = _ref2 => {\n  var _client$user, _vote$user, _vote$user2;\n  let {\n    vote\n  } = _ref2;\n  const {\n    t\n  } = useTranslationContext();\n  const {\n    client\n  } = useChatContext();\n  const {\n    handleEnter,\n    handleLeave,\n    tooltipVisible\n  } = useEnterLeaveHandlers();\n  const [referenceElement, setReferenceElement] = useState(null);\n  const displayName = (_client$user = client.user) !== null && _client$user !== void 0 && _client$user.id && client.user.id === ((_vote$user = vote.user) === null || _vote$user === void 0 ? void 0 : _vote$user.id) ? t('You') : ((_vote$user2 = vote.user) === null || _vote$user2 === void 0 ? void 0 : _vote$user2.name) || t('Anonymous');\n  return React.createElement(\"div\", {\n    className: 'str-chat__poll-vote__author',\n    onMouseEnter: handleEnter,\n    onMouseLeave: handleLeave,\n    ref: setReferenceElement\n  }, vote.user && React.createElement(Avatar, {\n    className: 'str-chat__avatar--poll-vote-author',\n    image: vote.user.image,\n    key: \"poll-vote-\".concat(vote.id, \"-avatar-\").concat(vote.user.id),\n    name: vote.user.name\n  }), React.createElement(\"div\", {\n    className: 'str-chat__poll-vote__author__name'\n  }, displayName), React.createElement(PopperTooltip, {\n    offset: [0, 5],\n    placement: 'bottom',\n    referenceElement: referenceElement,\n    visible: tooltipVisible\n  }, displayName));\n};\nexport const PollVote = _ref3 => {\n  let {\n    vote\n  } = _ref3;\n  return React.createElement(\"div\", {\n    className: 'str-chat__poll-vote'\n  }, React.createElement(PollVoteAuthor, {\n    vote: vote\n  }), React.createElement(PollVoteTimestamp, {\n    timestamp: vote.created_at\n  }));\n};\nexport const PollVoteListing = _ref4 => {\n  let {\n    votes\n  } = _ref4;\n  return React.createElement(\"div\", {\n    className: 'str-chat__poll-vote-listing'\n  }, votes.map(vote => React.createElement(PollVote, {\n    key: \"poll-vote-\".concat(vote.id),\n    vote: vote\n  })));\n};","map":{"version":3,"names":["React","useState","Avatar","PopperTooltip","useEnterLeaveHandlers","useChatContext","useTranslationContext","PollVoteTimestamp","_ref","timestamp","t","handleEnter","handleLeave","tooltipVisible","referenceElement","setReferenceElement","timestampDate","Date","createElement","className","onMouseEnter","onMouseLeave","ref","offset","placement","visible","PollVoteAuthor","_ref2","_client$user","_vote$user","_vote$user2","vote","client","displayName","user","id","name","image","key","concat","PollVote","_ref3","created_at","PollVoteListing","_ref4","votes","map"],"sources":["/tmp/daft-chat-temp/node_modules/stream-chat-react/dist/components/Poll/PollVote.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Avatar } from '../Avatar';\nimport { PopperTooltip } from '../Tooltip';\nimport { useEnterLeaveHandlers } from '../Tooltip/hooks';\nimport { useChatContext, useTranslationContext } from '../../context';\nconst PollVoteTimestamp = ({ timestamp }) => {\n    const { t } = useTranslationContext();\n    const { handleEnter, handleLeave, tooltipVisible } = useEnterLeaveHandlers();\n    const [referenceElement, setReferenceElement] = useState(null);\n    const timestampDate = new Date(timestamp);\n    return (React.createElement(\"div\", { className: 'str-chat__poll-vote__timestamp', onMouseEnter: handleEnter, onMouseLeave: handleLeave, ref: setReferenceElement },\n        t('timestamp/PollVote', { timestamp: timestampDate }),\n        React.createElement(PopperTooltip, { offset: [0, 5], placement: 'bottom', referenceElement: referenceElement, visible: tooltipVisible }, t('timestamp/PollVoteTooltip', { timestamp: timestampDate }))));\n};\nconst PollVoteAuthor = ({ vote }) => {\n    const { t } = useTranslationContext();\n    const { client } = useChatContext();\n    const { handleEnter, handleLeave, tooltipVisible } = useEnterLeaveHandlers();\n    const [referenceElement, setReferenceElement] = useState(null);\n    const displayName = client.user?.id && client.user.id === vote.user?.id\n        ? t('You')\n        : vote.user?.name || t('Anonymous');\n    return (React.createElement(\"div\", { className: 'str-chat__poll-vote__author', onMouseEnter: handleEnter, onMouseLeave: handleLeave, ref: setReferenceElement },\n        vote.user && (React.createElement(Avatar, { className: 'str-chat__avatar--poll-vote-author', image: vote.user.image, key: `poll-vote-${vote.id}-avatar-${vote.user.id}`, name: vote.user.name })),\n        React.createElement(\"div\", { className: 'str-chat__poll-vote__author__name' }, displayName),\n        React.createElement(PopperTooltip, { offset: [0, 5], placement: 'bottom', referenceElement: referenceElement, visible: tooltipVisible }, displayName)));\n};\nexport const PollVote = ({ vote }) => (React.createElement(\"div\", { className: 'str-chat__poll-vote' },\n    React.createElement(PollVoteAuthor, { vote: vote }),\n    React.createElement(PollVoteTimestamp, { timestamp: vote.created_at })));\nexport const PollVoteListing = ({ votes }) => (React.createElement(\"div\", { className: 'str-chat__poll-vote-listing' }, votes.map((vote) => (React.createElement(PollVote, { key: `poll-vote-${vote.id}`, vote: vote })))));\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}