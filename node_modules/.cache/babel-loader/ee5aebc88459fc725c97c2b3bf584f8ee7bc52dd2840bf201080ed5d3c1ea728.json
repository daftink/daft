{"ast":null,"code":"import React from 'react';\nimport { isLocalUploadAttachment } from 'stream-chat';\nimport { CloseIcon, DownloadIcon, LoadingIndicatorIcon, RetryIcon } from '../icons';\nimport { FileIcon } from '../../ReactFileUtilities';\nimport { useTranslationContext } from '../../../context';\nexport const UnsupportedAttachmentPreview = _ref => {\n  var _attachment$title, _attachment$localMeta, _attachment$localMeta4, _attachment$localMeta5, _attachment$localMeta6;\n  let {\n    attachment,\n    handleRetry,\n    removeAttachments\n  } = _ref;\n  const {\n    t\n  } = useTranslationContext('UnsupportedAttachmentPreview');\n  const title = (_attachment$title = attachment.title) !== null && _attachment$title !== void 0 ? _attachment$title : t('Unsupported attachment');\n  return React.createElement(\"div\", {\n    className: 'str-chat__attachment-preview-unsupported',\n    \"data-testid\": 'attachment-preview-unknown'\n  }, React.createElement(\"div\", {\n    className: 'str-chat__attachment-preview-file-icon'\n  }, React.createElement(FileIcon, {\n    filename: title,\n    mimeType: attachment.mime_type\n  })), React.createElement(\"button\", {\n    \"aria-label\": t('aria/Remove attachment'),\n    className: 'str-chat__attachment-preview-delete',\n    \"data-testid\": 'file-preview-item-delete-button',\n    disabled: ((_attachment$localMeta = attachment.localMetadata) === null || _attachment$localMeta === void 0 ? void 0 : _attachment$localMeta.uploadState) === 'uploading',\n    onClick: () => {\n      var _attachment$localMeta2, _attachment$localMeta3;\n      return ((_attachment$localMeta2 = attachment.localMetadata) === null || _attachment$localMeta2 === void 0 ? void 0 : _attachment$localMeta2.id) && removeAttachments([(_attachment$localMeta3 = attachment.localMetadata) === null || _attachment$localMeta3 === void 0 ? void 0 : _attachment$localMeta3.id]);\n    }\n  }, React.createElement(CloseIcon, null)), isLocalUploadAttachment(attachment) && ['blocked', 'failed'].includes((_attachment$localMeta4 = attachment.localMetadata) === null || _attachment$localMeta4 === void 0 ? void 0 : _attachment$localMeta4.uploadState) && !!handleRetry && React.createElement(\"button\", {\n    className: 'str-chat__attachment-preview-error str-chat__attachment-preview-error-file',\n    \"data-testid\": 'file-preview-item-retry-button',\n    onClick: () => handleRetry(attachment)\n  }, React.createElement(RetryIcon, null)), React.createElement(\"div\", {\n    className: 'str-chat__attachment-preview-metadata'\n  }, React.createElement(\"div\", {\n    className: 'str-chat__attachment-preview-title',\n    title: title\n  }, title), ((_attachment$localMeta5 = attachment.localMetadata) === null || _attachment$localMeta5 === void 0 ? void 0 : _attachment$localMeta5.uploadState) === 'finished' && !!attachment.asset_url && React.createElement(\"a\", {\n    className: 'str-chat__attachment-preview-file-download',\n    download: true,\n    href: attachment.asset_url,\n    rel: 'noreferrer',\n    target: '_blank'\n  }, React.createElement(DownloadIcon, null)), ((_attachment$localMeta6 = attachment.localMetadata) === null || _attachment$localMeta6 === void 0 ? void 0 : _attachment$localMeta6.uploadState) === 'uploading' && React.createElement(LoadingIndicatorIcon, {\n    size: 17\n  })));\n};","map":{"version":3,"names":["React","isLocalUploadAttachment","CloseIcon","DownloadIcon","LoadingIndicatorIcon","RetryIcon","FileIcon","useTranslationContext","UnsupportedAttachmentPreview","_ref","_attachment$title","_attachment$localMeta","_attachment$localMeta4","_attachment$localMeta5","_attachment$localMeta6","attachment","handleRetry","removeAttachments","t","title","createElement","className","filename","mimeType","mime_type","disabled","localMetadata","uploadState","onClick","_attachment$localMeta2","_attachment$localMeta3","id","includes","asset_url","download","href","rel","target","size"],"sources":["/tmp/daft-chat-temp/node_modules/stream-chat-react/dist/components/MessageInput/AttachmentPreviewList/UnsupportedAttachmentPreview.js"],"sourcesContent":["import React from 'react';\nimport { isLocalUploadAttachment } from 'stream-chat';\nimport { CloseIcon, DownloadIcon, LoadingIndicatorIcon, RetryIcon } from '../icons';\nimport { FileIcon } from '../../ReactFileUtilities';\nimport { useTranslationContext } from '../../../context';\nexport const UnsupportedAttachmentPreview = ({ attachment, handleRetry, removeAttachments, }) => {\n    const { t } = useTranslationContext('UnsupportedAttachmentPreview');\n    const title = attachment.title ?? t('Unsupported attachment');\n    return (React.createElement(\"div\", { className: 'str-chat__attachment-preview-unsupported', \"data-testid\": 'attachment-preview-unknown' },\n        React.createElement(\"div\", { className: 'str-chat__attachment-preview-file-icon' },\n            React.createElement(FileIcon, { filename: title, mimeType: attachment.mime_type })),\n        React.createElement(\"button\", { \"aria-label\": t('aria/Remove attachment'), className: 'str-chat__attachment-preview-delete', \"data-testid\": 'file-preview-item-delete-button', disabled: attachment.localMetadata?.uploadState === 'uploading', onClick: () => attachment.localMetadata?.id &&\n                removeAttachments([attachment.localMetadata?.id]) },\n            React.createElement(CloseIcon, null)),\n        isLocalUploadAttachment(attachment) &&\n            ['blocked', 'failed'].includes(attachment.localMetadata?.uploadState) &&\n            !!handleRetry && (React.createElement(\"button\", { className: 'str-chat__attachment-preview-error str-chat__attachment-preview-error-file', \"data-testid\": 'file-preview-item-retry-button', onClick: () => handleRetry(attachment) },\n            React.createElement(RetryIcon, null))),\n        React.createElement(\"div\", { className: 'str-chat__attachment-preview-metadata' },\n            React.createElement(\"div\", { className: 'str-chat__attachment-preview-title', title: title }, title),\n            attachment.localMetadata?.uploadState === 'finished' &&\n                !!attachment.asset_url && (React.createElement(\"a\", { className: 'str-chat__attachment-preview-file-download', download: true, href: attachment.asset_url, rel: 'noreferrer', target: '_blank' },\n                React.createElement(DownloadIcon, null))),\n            attachment.localMetadata?.uploadState === 'uploading' && (React.createElement(LoadingIndicatorIcon, { size: 17 })))));\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}