{"ast":null,"code":"import { useEffect, useRef, useState } from 'react';\nexport const useMessageSetKey = _ref => {\n  let {\n    messages\n  } = _ref;\n  /**\n   * Logic to update the key of the virtuoso component when the list jumps to a new location.\n   */\n  const [messageSetKey, setMessageSetKey] = useState(+new Date());\n  const firstMessageId = useRef(undefined);\n  useEffect(() => {\n    var _messages$;\n    const continuousSet = messages === null || messages === void 0 ? void 0 : messages.find(message => message.id === firstMessageId.current);\n    if (!continuousSet) {\n      setMessageSetKey(+new Date());\n    }\n    firstMessageId.current = messages === null || messages === void 0 || (_messages$ = messages[0]) === null || _messages$ === void 0 ? void 0 : _messages$.id;\n  }, [messages]);\n  return {\n    messageSetKey\n  };\n};","map":{"version":3,"names":["useEffect","useRef","useState","useMessageSetKey","_ref","messages","messageSetKey","setMessageSetKey","Date","firstMessageId","undefined","_messages$","continuousSet","find","message","id","current"],"sources":["/tmp/daft-chat-temp/node_modules/stream-chat-react/dist/components/MessageList/hooks/VirtualizedMessageList/useMessageSetKey.js"],"sourcesContent":["import { useEffect, useRef, useState } from 'react';\nexport const useMessageSetKey = ({ messages }) => {\n    /**\n     * Logic to update the key of the virtuoso component when the list jumps to a new location.\n     */\n    const [messageSetKey, setMessageSetKey] = useState(+new Date());\n    const firstMessageId = useRef(undefined);\n    useEffect(() => {\n        const continuousSet = messages?.find((message) => message.id === firstMessageId.current);\n        if (!continuousSet) {\n            setMessageSetKey(+new Date());\n        }\n        firstMessageId.current = messages?.[0]?.id;\n    }, [messages]);\n    return {\n        messageSetKey,\n    };\n};\n"],"mappings":"AAAA,SAASA,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AACnD,OAAO,MAAMC,gBAAgB,GAAGC,IAAA,IAAkB;EAAA,IAAjB;IAAEC;EAAS,CAAC,GAAAD,IAAA;EACzC;AACJ;AACA;EACI,MAAM,CAACE,aAAa,EAAEC,gBAAgB,CAAC,GAAGL,QAAQ,CAAC,CAAC,IAAIM,IAAI,CAAC,CAAC,CAAC;EAC/D,MAAMC,cAAc,GAAGR,MAAM,CAACS,SAAS,CAAC;EACxCV,SAAS,CAAC,MAAM;IAAA,IAAAW,UAAA;IACZ,MAAMC,aAAa,GAAGP,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEQ,IAAI,CAAEC,OAAO,IAAKA,OAAO,CAACC,EAAE,KAAKN,cAAc,CAACO,OAAO,CAAC;IACxF,IAAI,CAACJ,aAAa,EAAE;MAChBL,gBAAgB,CAAC,CAAC,IAAIC,IAAI,CAAC,CAAC,CAAC;IACjC;IACAC,cAAc,CAACO,OAAO,GAAGX,QAAQ,aAARA,QAAQ,gBAAAM,UAAA,GAARN,QAAQ,CAAG,CAAC,CAAC,cAAAM,UAAA,uBAAbA,UAAA,CAAeI,EAAE;EAC9C,CAAC,EAAE,CAACV,QAAQ,CAAC,CAAC;EACd,OAAO;IACHC;EACJ,CAAC;AACL,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}