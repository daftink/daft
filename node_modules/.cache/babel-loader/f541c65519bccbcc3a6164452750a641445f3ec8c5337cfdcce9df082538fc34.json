{"ast":null,"code":"import React from 'react';\nimport { ModalHeader } from '../../Modal/ModalHeader';\nimport { PollVote } from '../PollVote';\nimport { usePollAnswerPagination } from '../hooks';\nimport { InfiniteScrollPaginator } from '../../InfiniteScrollPaginator/InfiniteScrollPaginator';\nimport { LoadingIndicator } from '../../Loading';\nimport { useStateStore } from '../../../store';\nimport { usePollContext, useTranslationContext } from '../../../context';\nconst pollStateSelector = nextValue => ({\n  is_closed: nextValue.is_closed,\n  ownAnswer: nextValue.ownAnswer\n});\nexport const PollAnswerList = _ref => {\n  let {\n    close,\n    onUpdateOwnAnswerClick\n  } = _ref;\n  const {\n    t\n  } = useTranslationContext();\n  const {\n    poll\n  } = usePollContext();\n  const {\n    is_closed,\n    ownAnswer\n  } = useStateStore(poll.state, pollStateSelector);\n  const {\n    answers,\n    error,\n    hasNextPage,\n    loading,\n    loadMore\n  } = usePollAnswerPagination();\n  return React.createElement(\"div\", {\n    className: 'str-chat__modal__poll-answer-list'\n  }, React.createElement(ModalHeader, {\n    close: close,\n    title: t('Poll comments')\n  }), React.createElement(\"div\", {\n    className: 'str-chat__modal__poll-answer-list__body'\n  }, React.createElement(InfiniteScrollPaginator, {\n    loadNextOnScrollToBottom: loadMore,\n    threshold: 40\n  }, React.createElement(\"div\", {\n    className: 'str-chat__poll-answer-list'\n  }, answers.map(answer => React.createElement(\"div\", {\n    className: 'str-chat__poll-answer',\n    key: \"comment-\".concat(answer.id)\n  }, answer.answer_text && React.createElement(\"p\", {\n    className: 'str-chat__poll-answer__text'\n  }, answer.answer_text), React.createElement(PollVote, {\n    key: \"poll-vote-\".concat(answer.id),\n    vote: answer\n  })))), hasNextPage && React.createElement(\"div\", {\n    className: 'str-chat__loading-indicator-placeholder'\n  }, loading && React.createElement(LoadingIndicator, null))), (error === null || error === void 0 ? void 0 : error.message) && React.createElement(\"div\", null, error === null || error === void 0 ? void 0 : error.message)), answers.length > 0 && !is_closed && React.createElement(\"button\", {\n    className: 'str-chat__poll-action',\n    onClick: onUpdateOwnAnswerClick\n  }, ownAnswer ? t('Update your comment') : t('Add a comment')));\n};","map":{"version":3,"names":["React","ModalHeader","PollVote","usePollAnswerPagination","InfiniteScrollPaginator","LoadingIndicator","useStateStore","usePollContext","useTranslationContext","pollStateSelector","nextValue","is_closed","ownAnswer","PollAnswerList","_ref","close","onUpdateOwnAnswerClick","t","poll","state","answers","error","hasNextPage","loading","loadMore","createElement","className","title","loadNextOnScrollToBottom","threshold","map","answer","key","concat","id","answer_text","vote","message","length","onClick"],"sources":["/tmp/daft-chat-temp/node_modules/stream-chat-react/dist/components/Poll/PollActions/PollAnswerList.js"],"sourcesContent":["import React from 'react';\nimport { ModalHeader } from '../../Modal/ModalHeader';\nimport { PollVote } from '../PollVote';\nimport { usePollAnswerPagination } from '../hooks';\nimport { InfiniteScrollPaginator } from '../../InfiniteScrollPaginator/InfiniteScrollPaginator';\nimport { LoadingIndicator } from '../../Loading';\nimport { useStateStore } from '../../../store';\nimport { usePollContext, useTranslationContext } from '../../../context';\nconst pollStateSelector = (nextValue) => ({\n    is_closed: nextValue.is_closed,\n    ownAnswer: nextValue.ownAnswer,\n});\nexport const PollAnswerList = ({ close, onUpdateOwnAnswerClick, }) => {\n    const { t } = useTranslationContext();\n    const { poll } = usePollContext();\n    const { is_closed, ownAnswer } = useStateStore(poll.state, pollStateSelector);\n    const { answers, error, hasNextPage, loading, loadMore } = usePollAnswerPagination();\n    return (React.createElement(\"div\", { className: 'str-chat__modal__poll-answer-list' },\n        React.createElement(ModalHeader, { close: close, title: t('Poll comments') }),\n        React.createElement(\"div\", { className: 'str-chat__modal__poll-answer-list__body' },\n            React.createElement(InfiniteScrollPaginator, { loadNextOnScrollToBottom: loadMore, threshold: 40 },\n                React.createElement(\"div\", { className: 'str-chat__poll-answer-list' }, answers.map((answer) => (React.createElement(\"div\", { className: 'str-chat__poll-answer', key: `comment-${answer.id}` },\n                    answer.answer_text && (React.createElement(\"p\", { className: 'str-chat__poll-answer__text' }, answer.answer_text)),\n                    React.createElement(PollVote, { key: `poll-vote-${answer.id}`, vote: answer }))))),\n                hasNextPage && (React.createElement(\"div\", { className: 'str-chat__loading-indicator-placeholder' }, loading && React.createElement(LoadingIndicator, null)))),\n            error?.message && React.createElement(\"div\", null, error?.message)),\n        answers.length > 0 && !is_closed && (React.createElement(\"button\", { className: 'str-chat__poll-action', onClick: onUpdateOwnAnswerClick }, ownAnswer ? t('Update your comment') : t('Add a comment')))));\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}