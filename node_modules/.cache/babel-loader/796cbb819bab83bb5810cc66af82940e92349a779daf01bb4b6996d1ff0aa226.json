{"ast":null,"code":"import _objectSpread from \"/tmp/daft-chat-temp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport React, { useEffect, useState } from 'react';\nimport { getImageDimensions } from './utils/utils';\nexport const SpriteImage = _ref => {\n  let {\n    columns,\n    fallback,\n    height,\n    position,\n    rows,\n    spriteUrl,\n    style,\n    width\n  } = _ref;\n  const [[spriteWidth, spriteHeight], setSpriteDimensions] = useState([0, 0]);\n  useEffect(() => {\n    getImageDimensions(spriteUrl).then(setSpriteDimensions).catch(console.error);\n  }, [spriteUrl]);\n  const [x, y] = position;\n  if (!spriteHeight || !spriteWidth) return React.createElement(React.Fragment, null, fallback);\n  return React.createElement(\"div\", {\n    \"data-testid\": 'sprite-image',\n    style: _objectSpread(_objectSpread(_objectSpread(_objectSpread({}, style), {}, {\n      '--str-chat__sprite-image-resize-ratio': 'var(--str-chat__sprite-image-resize-ratio-x, var(--str-chat__sprite-image-resize-ratio-y, 1))',\n      '--str-chat__sprite-image-resize-ratio-x': 'calc(var(--str-chat__sprite-image-width) / var(--str-chat__sprite-item-width))',\n      '--str-chat__sprite-image-resize-ratio-y': 'calc(var(--str-chat__sprite-image-height) / var(--str-chat__sprite-item-height))',\n      '--str-chat__sprite-item-height': \"\".concat(spriteHeight / rows),\n      '--str-chat__sprite-item-width': \"\".concat(spriteWidth / columns)\n    }, Number.isFinite(height) ? {\n      '--str-chat__sprite-image-height': \"\".concat(height, \"px\")\n    } : {}), Number.isFinite(width) ? {\n      '--str-chat__sprite-image-width': \"\".concat(width, \"px\")\n    } : {}), {}, {\n      backgroundImage: \"url('\".concat(spriteUrl, \"')\"),\n      backgroundPosition: \"\".concat(x * (100 / (columns - 1)), \"% \").concat(y * (100 / (rows - 1)), \"%\"),\n      backgroundSize: \"\".concat(columns * 100, \"% \").concat(rows * 100, \"%\"),\n      height: 'var(--str-chat__sprite-image-height, calc(var(--str-chat__sprite-item-height) * var(--str-chat__sprite-image-resize-ratio)))',\n      width: 'var(--str-chat__sprite-image-width, calc(var(--str-chat__sprite-item-width) * var(--str-chat__sprite-image-resize-ratio)))'\n    })\n  });\n};","map":{"version":3,"names":["React","useEffect","useState","getImageDimensions","SpriteImage","_ref","columns","fallback","height","position","rows","spriteUrl","style","width","spriteWidth","spriteHeight","setSpriteDimensions","then","catch","console","error","x","y","createElement","Fragment","_objectSpread","concat","Number","isFinite","backgroundImage","backgroundPosition","backgroundSize"],"sources":["/tmp/daft-chat-temp/node_modules/stream-chat-react/dist/components/Reactions/SpriteImage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { getImageDimensions } from './utils/utils';\nexport const SpriteImage = ({ columns, fallback, height, position, rows, spriteUrl, style, width, }) => {\n    const [[spriteWidth, spriteHeight], setSpriteDimensions] = useState([0, 0]);\n    useEffect(() => {\n        getImageDimensions(spriteUrl).then(setSpriteDimensions).catch(console.error);\n    }, [spriteUrl]);\n    const [x, y] = position;\n    if (!spriteHeight || !spriteWidth)\n        return React.createElement(React.Fragment, null, fallback);\n    return (React.createElement(\"div\", { \"data-testid\": 'sprite-image', style: {\n            ...style,\n            '--str-chat__sprite-image-resize-ratio': 'var(--str-chat__sprite-image-resize-ratio-x, var(--str-chat__sprite-image-resize-ratio-y, 1))',\n            '--str-chat__sprite-image-resize-ratio-x': 'calc(var(--str-chat__sprite-image-width) / var(--str-chat__sprite-item-width))',\n            '--str-chat__sprite-image-resize-ratio-y': 'calc(var(--str-chat__sprite-image-height) / var(--str-chat__sprite-item-height))',\n            '--str-chat__sprite-item-height': `${spriteHeight / rows}`,\n            '--str-chat__sprite-item-width': `${spriteWidth / columns}`,\n            ...(Number.isFinite(height)\n                ? { '--str-chat__sprite-image-height': `${height}px` }\n                : {}),\n            ...(Number.isFinite(width)\n                ? { '--str-chat__sprite-image-width': `${width}px` }\n                : {}),\n            backgroundImage: `url('${spriteUrl}')`,\n            backgroundPosition: `${x * (100 / (columns - 1))}% ${y * (100 / (rows - 1))}%`,\n            backgroundSize: `${columns * 100}% ${rows * 100}%`,\n            height: 'var(--str-chat__sprite-image-height, calc(var(--str-chat__sprite-item-height) * var(--str-chat__sprite-image-resize-ratio)))',\n            width: 'var(--str-chat__sprite-image-width, calc(var(--str-chat__sprite-item-width) * var(--str-chat__sprite-image-resize-ratio)))',\n        } }));\n};\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,kBAAkB,QAAQ,eAAe;AAClD,OAAO,MAAMC,WAAW,GAAGC,IAAA,IAA6E;EAAA,IAA5E;IAAEC,OAAO;IAAEC,QAAQ;IAAEC,MAAM;IAAEC,QAAQ;IAAEC,IAAI;IAAEC,SAAS;IAAEC,KAAK;IAAEC;EAAO,CAAC,GAAAR,IAAA;EAC/F,MAAM,CAAC,CAACS,WAAW,EAAEC,YAAY,CAAC,EAAEC,mBAAmB,CAAC,GAAGd,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EAC3ED,SAAS,CAAC,MAAM;IACZE,kBAAkB,CAACQ,SAAS,CAAC,CAACM,IAAI,CAACD,mBAAmB,CAAC,CAACE,KAAK,CAACC,OAAO,CAACC,KAAK,CAAC;EAChF,CAAC,EAAE,CAACT,SAAS,CAAC,CAAC;EACf,MAAM,CAACU,CAAC,EAAEC,CAAC,CAAC,GAAGb,QAAQ;EACvB,IAAI,CAACM,YAAY,IAAI,CAACD,WAAW,EAC7B,OAAOd,KAAK,CAACuB,aAAa,CAACvB,KAAK,CAACwB,QAAQ,EAAE,IAAI,EAAEjB,QAAQ,CAAC;EAC9D,OAAQP,KAAK,CAACuB,aAAa,CAAC,KAAK,EAAE;IAAE,aAAa,EAAE,cAAc;IAAEX,KAAK,EAAAa,aAAA,CAAAA,aAAA,CAAAA,aAAA,CAAAA,aAAA,KAC9Db,KAAK;MACR,uCAAuC,EAAE,+FAA+F;MACxI,yCAAyC,EAAE,gFAAgF;MAC3H,yCAAyC,EAAE,kFAAkF;MAC7H,gCAAgC,KAAAc,MAAA,CAAKX,YAAY,GAAGL,IAAI,CAAE;MAC1D,+BAA+B,KAAAgB,MAAA,CAAKZ,WAAW,GAAGR,OAAO;IAAE,GACvDqB,MAAM,CAACC,QAAQ,CAACpB,MAAM,CAAC,GACrB;MAAE,iCAAiC,KAAAkB,MAAA,CAAKlB,MAAM;IAAK,CAAC,GACpD,CAAC,CAAC,GACJmB,MAAM,CAACC,QAAQ,CAACf,KAAK,CAAC,GACpB;MAAE,gCAAgC,KAAAa,MAAA,CAAKb,KAAK;IAAK,CAAC,GAClD,CAAC,CAAC;MACRgB,eAAe,UAAAH,MAAA,CAAUf,SAAS,OAAI;MACtCmB,kBAAkB,KAAAJ,MAAA,CAAKL,CAAC,IAAI,GAAG,IAAIf,OAAO,GAAG,CAAC,CAAC,CAAC,QAAAoB,MAAA,CAAKJ,CAAC,IAAI,GAAG,IAAIZ,IAAI,GAAG,CAAC,CAAC,CAAC,MAAG;MAC9EqB,cAAc,KAAAL,MAAA,CAAKpB,OAAO,GAAG,GAAG,QAAAoB,MAAA,CAAKhB,IAAI,GAAG,GAAG,MAAG;MAClDF,MAAM,EAAE,8HAA8H;MACtIK,KAAK,EAAE;IAA4H;EACrI,CAAC,CAAC;AACZ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}