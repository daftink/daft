{"ast":null,"code":"import { useCallback, useEffect, useRef, useState } from 'react';\n// todo: provide start timestamp\nexport const useTimeElapsed = function () {\n  let {\n    startOnMount\n  } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const [secondsElapsed, setSecondsElapsed] = useState(0);\n  const updateInterval = useRef(undefined);\n  const startCounter = useCallback(() => {\n    if (updateInterval.current) return;\n    updateInterval.current = setInterval(() => {\n      setSecondsElapsed(prev => prev + 1);\n    }, 1000);\n  }, []);\n  const stopCounter = useCallback(() => {\n    clearInterval(updateInterval.current);\n    updateInterval.current = undefined;\n  }, []);\n  useEffect(() => {\n    if (!startOnMount) return;\n    startCounter();\n    return () => {\n      stopCounter();\n    };\n  }, [startCounter, startOnMount, stopCounter]);\n  return {\n    secondsElapsed,\n    startCounter,\n    stopCounter\n  };\n};","map":{"version":3,"names":["useCallback","useEffect","useRef","useState","useTimeElapsed","startOnMount","arguments","length","undefined","secondsElapsed","setSecondsElapsed","updateInterval","startCounter","current","setInterval","prev","stopCounter","clearInterval"],"sources":["/tmp/daft-chat-temp/node_modules/stream-chat-react/dist/components/MediaRecorder/AudioRecorder/hooks/useTimeElapsed.js"],"sourcesContent":["import { useCallback, useEffect, useRef, useState } from 'react';\n// todo: provide start timestamp\nexport const useTimeElapsed = ({ startOnMount } = {}) => {\n    const [secondsElapsed, setSecondsElapsed] = useState(0);\n    const updateInterval = useRef(undefined);\n    const startCounter = useCallback(() => {\n        if (updateInterval.current)\n            return;\n        updateInterval.current = setInterval(() => {\n            setSecondsElapsed((prev) => prev + 1);\n        }, 1000);\n    }, []);\n    const stopCounter = useCallback(() => {\n        clearInterval(updateInterval.current);\n        updateInterval.current = undefined;\n    }, []);\n    useEffect(() => {\n        if (!startOnMount)\n            return;\n        startCounter();\n        return () => {\n            stopCounter();\n        };\n    }, [startCounter, startOnMount, stopCounter]);\n    return {\n        secondsElapsed,\n        startCounter,\n        stopCounter,\n    };\n};\n"],"mappings":"AAAA,SAASA,WAAW,EAAEC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAChE;AACA,OAAO,MAAMC,cAAc,GAAG,SAAAA,CAAA,EAA2B;EAAA,IAA1B;IAAEC;EAAa,CAAC,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EAChD,MAAM,CAACG,cAAc,EAAEC,iBAAiB,CAAC,GAAGP,QAAQ,CAAC,CAAC,CAAC;EACvD,MAAMQ,cAAc,GAAGT,MAAM,CAACM,SAAS,CAAC;EACxC,MAAMI,YAAY,GAAGZ,WAAW,CAAC,MAAM;IACnC,IAAIW,cAAc,CAACE,OAAO,EACtB;IACJF,cAAc,CAACE,OAAO,GAAGC,WAAW,CAAC,MAAM;MACvCJ,iBAAiB,CAAEK,IAAI,IAAKA,IAAI,GAAG,CAAC,CAAC;IACzC,CAAC,EAAE,IAAI,CAAC;EACZ,CAAC,EAAE,EAAE,CAAC;EACN,MAAMC,WAAW,GAAGhB,WAAW,CAAC,MAAM;IAClCiB,aAAa,CAACN,cAAc,CAACE,OAAO,CAAC;IACrCF,cAAc,CAACE,OAAO,GAAGL,SAAS;EACtC,CAAC,EAAE,EAAE,CAAC;EACNP,SAAS,CAAC,MAAM;IACZ,IAAI,CAACI,YAAY,EACb;IACJO,YAAY,CAAC,CAAC;IACd,OAAO,MAAM;MACTI,WAAW,CAAC,CAAC;IACjB,CAAC;EACL,CAAC,EAAE,CAACJ,YAAY,EAAEP,YAAY,EAAEW,WAAW,CAAC,CAAC;EAC7C,OAAO;IACHP,cAAc;IACdG,YAAY;IACZI;EACJ,CAAC;AACL,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}