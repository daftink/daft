{"ast":null,"code":"import clsx from 'clsx';\nimport React, { useEffect, useState } from 'react';\nimport { Icon } from '../Threads/icons';\nimport { getWholeChar } from '../../utils';\n/**\n * A round avatar image with fallback to username's first letter\n */\nexport const Avatar = props => {\n  const {\n    className,\n    image,\n    name,\n    onClick = () => undefined,\n    onMouseOver = () => undefined\n  } = props;\n  const [error, setError] = useState(false);\n  useEffect(() => {\n    setError(false);\n  }, [image]);\n  const nameStr = (name === null || name === void 0 ? void 0 : name.toString()) || '';\n  const initials = getWholeChar(nameStr, 0);\n  const showImage = image && !error;\n  return React.createElement(\"div\", {\n    className: clsx(\"str-chat__avatar str-chat__message-sender-avatar\", className, {\n      ['str-chat__avatar--multiple-letters']: initials.length > 1,\n      ['str-chat__avatar--no-letters']: !initials.length,\n      ['str-chat__avatar--one-letter']: initials.length === 1\n    }),\n    \"data-testid\": 'avatar',\n    onClick: onClick,\n    onMouseOver: onMouseOver,\n    role: 'button',\n    title: name\n  }, showImage ? React.createElement(\"img\", {\n    alt: initials,\n    className: 'str-chat__avatar-image',\n    \"data-testid\": 'avatar-img',\n    onError: () => setError(true),\n    src: image\n  }) : React.createElement(React.Fragment, null, !!initials.length && React.createElement(\"div\", {\n    className: clsx('str-chat__avatar-fallback'),\n    \"data-testid\": 'avatar-fallback'\n  }, initials), !initials.length && React.createElement(Icon.User, null)));\n};","map":{"version":3,"names":["clsx","React","useEffect","useState","Icon","getWholeChar","Avatar","props","className","image","name","onClick","undefined","onMouseOver","error","setError","nameStr","toString","initials","showImage","createElement","length","role","title","alt","onError","src","Fragment","User"],"sources":["/tmp/daft-chat-temp/node_modules/stream-chat-react/dist/components/Avatar/Avatar.js"],"sourcesContent":["import clsx from 'clsx';\nimport React, { useEffect, useState } from 'react';\nimport { Icon } from '../Threads/icons';\nimport { getWholeChar } from '../../utils';\n/**\n * A round avatar image with fallback to username's first letter\n */\nexport const Avatar = (props) => {\n    const { className, image, name, onClick = () => undefined, onMouseOver = () => undefined, } = props;\n    const [error, setError] = useState(false);\n    useEffect(() => {\n        setError(false);\n    }, [image]);\n    const nameStr = name?.toString() || '';\n    const initials = getWholeChar(nameStr, 0);\n    const showImage = image && !error;\n    return (React.createElement(\"div\", { className: clsx(`str-chat__avatar str-chat__message-sender-avatar`, className, {\n            ['str-chat__avatar--multiple-letters']: initials.length > 1,\n            ['str-chat__avatar--no-letters']: !initials.length,\n            ['str-chat__avatar--one-letter']: initials.length === 1,\n        }), \"data-testid\": 'avatar', onClick: onClick, onMouseOver: onMouseOver, role: 'button', title: name }, showImage ? (React.createElement(\"img\", { alt: initials, className: 'str-chat__avatar-image', \"data-testid\": 'avatar-img', onError: () => setError(true), src: image })) : (React.createElement(React.Fragment, null,\n        !!initials.length && (React.createElement(\"div\", { className: clsx('str-chat__avatar-fallback'), \"data-testid\": 'avatar-fallback' }, initials)),\n        !initials.length && React.createElement(Icon.User, null)))));\n};\n"],"mappings":"AAAA,OAAOA,IAAI,MAAM,MAAM;AACvB,OAAOC,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,IAAI,QAAQ,kBAAkB;AACvC,SAASC,YAAY,QAAQ,aAAa;AAC1C;AACA;AACA;AACA,OAAO,MAAMC,MAAM,GAAIC,KAAK,IAAK;EAC7B,MAAM;IAAEC,SAAS;IAAEC,KAAK;IAAEC,IAAI;IAAEC,OAAO,GAAGA,CAAA,KAAMC,SAAS;IAAEC,WAAW,GAAGA,CAAA,KAAMD;EAAW,CAAC,GAAGL,KAAK;EACnG,MAAM,CAACO,KAAK,EAAEC,QAAQ,CAAC,GAAGZ,QAAQ,CAAC,KAAK,CAAC;EACzCD,SAAS,CAAC,MAAM;IACZa,QAAQ,CAAC,KAAK,CAAC;EACnB,CAAC,EAAE,CAACN,KAAK,CAAC,CAAC;EACX,MAAMO,OAAO,GAAG,CAAAN,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEO,QAAQ,CAAC,CAAC,KAAI,EAAE;EACtC,MAAMC,QAAQ,GAAGb,YAAY,CAACW,OAAO,EAAE,CAAC,CAAC;EACzC,MAAMG,SAAS,GAAGV,KAAK,IAAI,CAACK,KAAK;EACjC,OAAQb,KAAK,CAACmB,aAAa,CAAC,KAAK,EAAE;IAAEZ,SAAS,EAAER,IAAI,qDAAqDQ,SAAS,EAAE;MAC5G,CAAC,oCAAoC,GAAGU,QAAQ,CAACG,MAAM,GAAG,CAAC;MAC3D,CAAC,8BAA8B,GAAG,CAACH,QAAQ,CAACG,MAAM;MAClD,CAAC,8BAA8B,GAAGH,QAAQ,CAACG,MAAM,KAAK;IAC1D,CAAC,CAAC;IAAE,aAAa,EAAE,QAAQ;IAAEV,OAAO,EAAEA,OAAO;IAAEE,WAAW,EAAEA,WAAW;IAAES,IAAI,EAAE,QAAQ;IAAEC,KAAK,EAAEb;EAAK,CAAC,EAAES,SAAS,GAAIlB,KAAK,CAACmB,aAAa,CAAC,KAAK,EAAE;IAAEI,GAAG,EAAEN,QAAQ;IAAEV,SAAS,EAAE,wBAAwB;IAAE,aAAa,EAAE,YAAY;IAAEiB,OAAO,EAAEA,CAAA,KAAMV,QAAQ,CAAC,IAAI,CAAC;IAAEW,GAAG,EAAEjB;EAAM,CAAC,CAAC,GAAKR,KAAK,CAACmB,aAAa,CAACnB,KAAK,CAAC0B,QAAQ,EAAE,IAAI,EAC5T,CAAC,CAACT,QAAQ,CAACG,MAAM,IAAKpB,KAAK,CAACmB,aAAa,CAAC,KAAK,EAAE;IAAEZ,SAAS,EAAER,IAAI,CAAC,2BAA2B,CAAC;IAAE,aAAa,EAAE;EAAkB,CAAC,EAAEkB,QAAQ,CAAE,EAC/I,CAACA,QAAQ,CAACG,MAAM,IAAIpB,KAAK,CAACmB,aAAa,CAAChB,IAAI,CAACwB,IAAI,EAAE,IAAI,CAAC,CAAE,CAAC;AACnE,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}