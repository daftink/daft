{"ast":null,"code":"import React from 'react';\nimport { PollOptionWithVotesHeader } from './PollOptionWithVotesHeader';\nimport { PollVoteListing } from '../../PollVote';\nimport { useStateStore } from '../../../../store';\nimport { useChannelStateContext, usePollContext, useTranslationContext } from '../../../../context';\nconst pollStateSelector = nextValue => ({\n  latest_votes_by_option: nextValue.latest_votes_by_option\n});\nexport const PollOptionWithLatestVotes = _ref => {\n  let {\n    countVotesPreview = 5,\n    option,\n    showAllVotes\n  } = _ref;\n  const {\n    t\n  } = useTranslationContext();\n  const {\n    channelCapabilities = {}\n  } = useChannelStateContext('PollOptionWithLatestVotes');\n  const {\n    poll\n  } = usePollContext();\n  const {\n    latest_votes_by_option\n  } = useStateStore(poll.state, pollStateSelector);\n  const votes = latest_votes_by_option && latest_votes_by_option[option.id];\n  return React.createElement(\"div\", {\n    className: 'str-chat__poll-option'\n  }, React.createElement(PollOptionWithVotesHeader, {\n    option: option\n  }), votes && React.createElement(PollVoteListing, {\n    votes: votes.slice(0, countVotesPreview)\n  }), channelCapabilities['query-poll-votes'] && showAllVotes && (votes === null || votes === void 0 ? void 0 : votes.length) > countVotesPreview && React.createElement(\"button\", {\n    className: 'str-chat__poll-option__show-all-votes-button',\n    onClick: showAllVotes\n  }, t('Show all')));\n};","map":{"version":3,"names":["React","PollOptionWithVotesHeader","PollVoteListing","useStateStore","useChannelStateContext","usePollContext","useTranslationContext","pollStateSelector","nextValue","latest_votes_by_option","PollOptionWithLatestVotes","_ref","countVotesPreview","option","showAllVotes","t","channelCapabilities","poll","state","votes","id","createElement","className","slice","length","onClick"],"sources":["/tmp/daft-chat-temp/node_modules/stream-chat-react/dist/components/Poll/PollActions/PollResults/PollOptionWithLatestVotes.js"],"sourcesContent":["import React from 'react';\nimport { PollOptionWithVotesHeader } from './PollOptionWithVotesHeader';\nimport { PollVoteListing } from '../../PollVote';\nimport { useStateStore } from '../../../../store';\nimport { useChannelStateContext, usePollContext, useTranslationContext, } from '../../../../context';\nconst pollStateSelector = (nextValue) => ({\n    latest_votes_by_option: nextValue.latest_votes_by_option,\n});\nexport const PollOptionWithLatestVotes = ({ countVotesPreview = 5, option, showAllVotes, }) => {\n    const { t } = useTranslationContext();\n    const { channelCapabilities = {} } = useChannelStateContext('PollOptionWithLatestVotes');\n    const { poll } = usePollContext();\n    const { latest_votes_by_option } = useStateStore(poll.state, pollStateSelector);\n    const votes = latest_votes_by_option && latest_votes_by_option[option.id];\n    return (React.createElement(\"div\", { className: 'str-chat__poll-option' },\n        React.createElement(PollOptionWithVotesHeader, { option: option }),\n        votes && React.createElement(PollVoteListing, { votes: votes.slice(0, countVotesPreview) }),\n        channelCapabilities['query-poll-votes'] &&\n            showAllVotes &&\n            votes?.length > countVotesPreview && (React.createElement(\"button\", { className: 'str-chat__poll-option__show-all-votes-button', onClick: showAllVotes }, t('Show all')))));\n};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,yBAAyB,QAAQ,6BAA6B;AACvE,SAASC,eAAe,QAAQ,gBAAgB;AAChD,SAASC,aAAa,QAAQ,mBAAmB;AACjD,SAASC,sBAAsB,EAAEC,cAAc,EAAEC,qBAAqB,QAAS,qBAAqB;AACpG,MAAMC,iBAAiB,GAAIC,SAAS,KAAM;EACtCC,sBAAsB,EAAED,SAAS,CAACC;AACtC,CAAC,CAAC;AACF,OAAO,MAAMC,yBAAyB,GAAGC,IAAA,IAAsD;EAAA,IAArD;IAAEC,iBAAiB,GAAG,CAAC;IAAEC,MAAM;IAAEC;EAAc,CAAC,GAAAH,IAAA;EACtF,MAAM;IAAEI;EAAE,CAAC,GAAGT,qBAAqB,CAAC,CAAC;EACrC,MAAM;IAAEU,mBAAmB,GAAG,CAAC;EAAE,CAAC,GAAGZ,sBAAsB,CAAC,2BAA2B,CAAC;EACxF,MAAM;IAAEa;EAAK,CAAC,GAAGZ,cAAc,CAAC,CAAC;EACjC,MAAM;IAAEI;EAAuB,CAAC,GAAGN,aAAa,CAACc,IAAI,CAACC,KAAK,EAAEX,iBAAiB,CAAC;EAC/E,MAAMY,KAAK,GAAGV,sBAAsB,IAAIA,sBAAsB,CAACI,MAAM,CAACO,EAAE,CAAC;EACzE,OAAQpB,KAAK,CAACqB,aAAa,CAAC,KAAK,EAAE;IAAEC,SAAS,EAAE;EAAwB,CAAC,EACrEtB,KAAK,CAACqB,aAAa,CAACpB,yBAAyB,EAAE;IAAEY,MAAM,EAAEA;EAAO,CAAC,CAAC,EAClEM,KAAK,IAAInB,KAAK,CAACqB,aAAa,CAACnB,eAAe,EAAE;IAAEiB,KAAK,EAAEA,KAAK,CAACI,KAAK,CAAC,CAAC,EAAEX,iBAAiB;EAAE,CAAC,CAAC,EAC3FI,mBAAmB,CAAC,kBAAkB,CAAC,IACnCF,YAAY,IACZ,CAAAK,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEK,MAAM,IAAGZ,iBAAiB,IAAKZ,KAAK,CAACqB,aAAa,CAAC,QAAQ,EAAE;IAAEC,SAAS,EAAE,8CAA8C;IAAEG,OAAO,EAAEX;EAAa,CAAC,EAAEC,CAAC,CAAC,UAAU,CAAC,CAAE,CAAC;AACtL,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}