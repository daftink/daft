{"ast":null,"code":"import clsx from 'clsx';\nimport React from 'react';\nimport { SimpleSwitchField } from '../../Form/SwitchField';\nimport { FieldError } from '../../Form/FieldError';\nimport { useTranslationContext } from '../../../context';\nimport { useMessageComposer } from '../../MessageInput';\nimport { useStateStore } from '../../../store';\nconst pollComposerStateSelector = state => ({\n  enforce_unique_vote: state.data.enforce_unique_vote,\n  error: state.errors.max_votes_allowed,\n  max_votes_allowed: state.data.max_votes_allowed\n});\nexport const MultipleAnswersField = () => {\n  const {\n    t\n  } = useTranslationContext();\n  const {\n    pollComposer\n  } = useMessageComposer();\n  const {\n    enforce_unique_vote,\n    error,\n    max_votes_allowed\n  } = useStateStore(pollComposer.state, pollComposerStateSelector);\n  return React.createElement(\"div\", {\n    className: clsx('str-chat__form__expandable-field', {\n      'str-chat__form__expandable-field--expanded': !enforce_unique_vote\n    })\n  }, React.createElement(SimpleSwitchField, {\n    checked: !enforce_unique_vote,\n    id: 'enforce_unique_vote',\n    labelText: t('Multiple answers'),\n    onChange: e => {\n      pollComposer.updateFields({\n        enforce_unique_vote: !e.target.checked\n      });\n    }\n  }), !enforce_unique_vote && React.createElement(\"div\", {\n    className: clsx('str-chat__form__input-field', {\n      'str-chat__form__input-field--has-error': error\n    })\n  }, React.createElement(\"div\", {\n    className: clsx('str-chat__form__input-field__value')\n  }, React.createElement(FieldError, {\n    className: 'str-chat__form__input-field__error',\n    \"data-testid\": 'poll-max-votes-allowed-input-field-error',\n    text: error && t(error)\n  }), React.createElement(\"input\", {\n    id: 'max_votes_allowed',\n    onBlur: () => {\n      pollComposer.handleFieldBlur('max_votes_allowed');\n    },\n    onChange: e => {\n      const nativeFieldValidation = !e.target.validity.valid ? {\n        max_votes_allowed: t('Only numbers are allowed')\n      } : undefined;\n      pollComposer.updateFields({\n        max_votes_allowed: !nativeFieldValidation ? e.target.value : pollComposer.max_votes_allowed\n      }, nativeFieldValidation);\n    },\n    placeholder: t('Maximum number of votes (from 2 to 10)'),\n    type: 'number',\n    value: max_votes_allowed\n  }))));\n};","map":{"version":3,"names":["clsx","React","SimpleSwitchField","FieldError","useTranslationContext","useMessageComposer","useStateStore","pollComposerStateSelector","state","enforce_unique_vote","data","error","errors","max_votes_allowed","MultipleAnswersField","t","pollComposer","createElement","className","checked","id","labelText","onChange","e","updateFields","target","text","onBlur","handleFieldBlur","nativeFieldValidation","validity","valid","undefined","value","placeholder","type"],"sources":["/tmp/daft-chat-temp/node_modules/stream-chat-react/dist/components/Poll/PollCreationDialog/MultipleAnswersField.js"],"sourcesContent":["import clsx from 'clsx';\nimport React from 'react';\nimport { SimpleSwitchField } from '../../Form/SwitchField';\nimport { FieldError } from '../../Form/FieldError';\nimport { useTranslationContext } from '../../../context';\nimport { useMessageComposer } from '../../MessageInput';\nimport { useStateStore } from '../../../store';\nconst pollComposerStateSelector = (state) => ({\n    enforce_unique_vote: state.data.enforce_unique_vote,\n    error: state.errors.max_votes_allowed,\n    max_votes_allowed: state.data.max_votes_allowed,\n});\nexport const MultipleAnswersField = () => {\n    const { t } = useTranslationContext();\n    const { pollComposer } = useMessageComposer();\n    const { enforce_unique_vote, error, max_votes_allowed } = useStateStore(pollComposer.state, pollComposerStateSelector);\n    return (React.createElement(\"div\", { className: clsx('str-chat__form__expandable-field', {\n            'str-chat__form__expandable-field--expanded': !enforce_unique_vote,\n        }) },\n        React.createElement(SimpleSwitchField, { checked: !enforce_unique_vote, id: 'enforce_unique_vote', labelText: t('Multiple answers'), onChange: (e) => {\n                pollComposer.updateFields({ enforce_unique_vote: !e.target.checked });\n            } }),\n        !enforce_unique_vote && (React.createElement(\"div\", { className: clsx('str-chat__form__input-field', {\n                'str-chat__form__input-field--has-error': error,\n            }) },\n            React.createElement(\"div\", { className: clsx('str-chat__form__input-field__value') },\n                React.createElement(FieldError, { className: 'str-chat__form__input-field__error', \"data-testid\": 'poll-max-votes-allowed-input-field-error', text: error && t(error) }),\n                React.createElement(\"input\", { id: 'max_votes_allowed', onBlur: () => {\n                        pollComposer.handleFieldBlur('max_votes_allowed');\n                    }, onChange: (e) => {\n                        const nativeFieldValidation = !e.target.validity.valid\n                            ? {\n                                max_votes_allowed: t('Only numbers are allowed'),\n                            }\n                            : undefined;\n                        pollComposer.updateFields({\n                            max_votes_allowed: !nativeFieldValidation\n                                ? e.target.value\n                                : pollComposer.max_votes_allowed,\n                        }, nativeFieldValidation);\n                    }, placeholder: t('Maximum number of votes (from 2 to 10)'), type: 'number', value: max_votes_allowed }))))));\n};\n"],"mappings":"AAAA,OAAOA,IAAI,MAAM,MAAM;AACvB,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,iBAAiB,QAAQ,wBAAwB;AAC1D,SAASC,UAAU,QAAQ,uBAAuB;AAClD,SAASC,qBAAqB,QAAQ,kBAAkB;AACxD,SAASC,kBAAkB,QAAQ,oBAAoB;AACvD,SAASC,aAAa,QAAQ,gBAAgB;AAC9C,MAAMC,yBAAyB,GAAIC,KAAK,KAAM;EAC1CC,mBAAmB,EAAED,KAAK,CAACE,IAAI,CAACD,mBAAmB;EACnDE,KAAK,EAAEH,KAAK,CAACI,MAAM,CAACC,iBAAiB;EACrCA,iBAAiB,EAAEL,KAAK,CAACE,IAAI,CAACG;AAClC,CAAC,CAAC;AACF,OAAO,MAAMC,oBAAoB,GAAGA,CAAA,KAAM;EACtC,MAAM;IAAEC;EAAE,CAAC,GAAGX,qBAAqB,CAAC,CAAC;EACrC,MAAM;IAAEY;EAAa,CAAC,GAAGX,kBAAkB,CAAC,CAAC;EAC7C,MAAM;IAAEI,mBAAmB;IAAEE,KAAK;IAAEE;EAAkB,CAAC,GAAGP,aAAa,CAACU,YAAY,CAACR,KAAK,EAAED,yBAAyB,CAAC;EACtH,OAAQN,KAAK,CAACgB,aAAa,CAAC,KAAK,EAAE;IAAEC,SAAS,EAAElB,IAAI,CAAC,kCAAkC,EAAE;MACjF,4CAA4C,EAAE,CAACS;IACnD,CAAC;EAAE,CAAC,EACJR,KAAK,CAACgB,aAAa,CAACf,iBAAiB,EAAE;IAAEiB,OAAO,EAAE,CAACV,mBAAmB;IAAEW,EAAE,EAAE,qBAAqB;IAAEC,SAAS,EAAEN,CAAC,CAAC,kBAAkB,CAAC;IAAEO,QAAQ,EAAGC,CAAC,IAAK;MAC9IP,YAAY,CAACQ,YAAY,CAAC;QAAEf,mBAAmB,EAAE,CAACc,CAAC,CAACE,MAAM,CAACN;MAAQ,CAAC,CAAC;IACzE;EAAE,CAAC,CAAC,EACR,CAACV,mBAAmB,IAAKR,KAAK,CAACgB,aAAa,CAAC,KAAK,EAAE;IAAEC,SAAS,EAAElB,IAAI,CAAC,6BAA6B,EAAE;MAC7F,wCAAwC,EAAEW;IAC9C,CAAC;EAAE,CAAC,EACJV,KAAK,CAACgB,aAAa,CAAC,KAAK,EAAE;IAAEC,SAAS,EAAElB,IAAI,CAAC,oCAAoC;EAAE,CAAC,EAChFC,KAAK,CAACgB,aAAa,CAACd,UAAU,EAAE;IAAEe,SAAS,EAAE,oCAAoC;IAAE,aAAa,EAAE,0CAA0C;IAAEQ,IAAI,EAAEf,KAAK,IAAII,CAAC,CAACJ,KAAK;EAAE,CAAC,CAAC,EACxKV,KAAK,CAACgB,aAAa,CAAC,OAAO,EAAE;IAAEG,EAAE,EAAE,mBAAmB;IAAEO,MAAM,EAAEA,CAAA,KAAM;MAC9DX,YAAY,CAACY,eAAe,CAAC,mBAAmB,CAAC;IACrD,CAAC;IAAEN,QAAQ,EAAGC,CAAC,IAAK;MAChB,MAAMM,qBAAqB,GAAG,CAACN,CAAC,CAACE,MAAM,CAACK,QAAQ,CAACC,KAAK,GAChD;QACElB,iBAAiB,EAAEE,CAAC,CAAC,0BAA0B;MACnD,CAAC,GACCiB,SAAS;MACfhB,YAAY,CAACQ,YAAY,CAAC;QACtBX,iBAAiB,EAAE,CAACgB,qBAAqB,GACnCN,CAAC,CAACE,MAAM,CAACQ,KAAK,GACdjB,YAAY,CAACH;MACvB,CAAC,EAAEgB,qBAAqB,CAAC;IAC7B,CAAC;IAAEK,WAAW,EAAEnB,CAAC,CAAC,wCAAwC,CAAC;IAAEoB,IAAI,EAAE,QAAQ;IAAEF,KAAK,EAAEpB;EAAkB,CAAC,CAAC,CAAC,CAAE,CAAC;AAChI,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}