{"ast":null,"code":"import _objectSpread from \"/tmp/daft-chat-temp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport i18n from 'i18next';\nimport Dayjs from 'dayjs';\nimport calendar from 'dayjs/plugin/calendar';\nimport updateLocale from 'dayjs/plugin/updateLocale';\nimport LocalizedFormat from 'dayjs/plugin/localizedFormat';\nimport localeData from 'dayjs/plugin/localeData';\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport duration from 'dayjs/plugin/duration';\nimport utc from 'dayjs/plugin/utc';\nimport timezone from 'dayjs/plugin/timezone';\nimport { NotificationTranslationTopic, TranslationBuilder } from './TranslationBuilder';\nimport { defaultTranslatorFunction, predefinedFormatters } from './utils';\nimport { deTranslations, enTranslations, esTranslations, frTranslations, hiTranslations, itTranslations, jaTranslations, koTranslations, nlTranslations, ptTranslations, ruTranslations, trTranslations } from './translations';\nimport 'dayjs/locale/de';\nimport 'dayjs/locale/es';\nimport 'dayjs/locale/fr';\nimport 'dayjs/locale/hi';\nimport 'dayjs/locale/it';\nimport 'dayjs/locale/ja';\nimport 'dayjs/locale/ko';\nimport 'dayjs/locale/nl';\nimport 'dayjs/locale/pt';\nimport 'dayjs/locale/ru';\nimport 'dayjs/locale/tr';\n// These locale imports also set these locale globally.\n// So As a last step I am going to import english locale\n// to make sure I don't mess up language at other places in app.\nimport 'dayjs/locale/en';\nconst defaultNS = 'translation';\nconst defaultLng = 'en';\nDayjs.extend(updateLocale);\nDayjs.extend(utc);\nDayjs.extend(timezone);\nDayjs.updateLocale('de', {\n  calendar: {\n    lastDay: '[gestern um] LT',\n    lastWeek: '[letzten] dddd [um] LT',\n    nextDay: '[morgen um] LT',\n    nextWeek: 'dddd [um] LT',\n    sameDay: '[heute um] LT',\n    sameElse: 'L'\n  }\n});\nDayjs.updateLocale('es', {\n  calendar: {\n    lastDay: '[ayer a las] LT',\n    lastWeek: '[pasado] dddd [a] LT',\n    nextDay: '[mañana a] LT',\n    nextWeek: 'dddd [a] LT',\n    sameDay: '[hoy a las] LT',\n    sameElse: 'L'\n  }\n});\nDayjs.updateLocale('fr', {\n  calendar: {\n    lastDay: '[Hier à] LT',\n    lastWeek: 'dddd [dernier à] LT',\n    nextDay: '[Demain à] LT',\n    nextWeek: 'dddd [à] LT',\n    sameDay: \"[Aujourd'hui à] LT\",\n    sameElse: 'L'\n  }\n});\nDayjs.updateLocale('hi', {\n  calendar: {\n    lastDay: '[कल] LT',\n    lastWeek: '[पिछले] dddd, LT',\n    nextDay: '[कल] LT',\n    nextWeek: 'dddd, LT',\n    sameDay: '[आज] LT',\n    sameElse: 'L'\n  },\n  // Hindi notation for meridiems are quite fuzzy in practice. While there exists\n  // a rigid notion of a 'Pahar' it is not used as rigidly in modern Hindi.\n  meridiem(hour) {\n    if (hour < 4) {\n      return 'रात';\n    } else if (hour < 10) {\n      return 'सुबह';\n    } else if (hour < 17) {\n      return 'दोपहर';\n    } else if (hour < 20) {\n      return 'शाम';\n    } else {\n      return 'रात';\n    }\n  },\n  meridiemHour(hour, meridiem) {\n    if (hour === 12) {\n      hour = 0;\n    }\n    if (meridiem === 'रात') {\n      return hour < 4 ? hour : hour + 12;\n    } else if (meridiem === 'सुबह') {\n      return hour;\n    } else if (meridiem === 'दोपहर') {\n      return hour >= 10 ? hour : hour + 12;\n    } else if (meridiem === 'शाम') {\n      return hour + 12;\n    }\n    return hour;\n  },\n  meridiemParse: /रात|सुबह|दोपहर|शाम/\n});\nDayjs.updateLocale('it', {\n  calendar: {\n    lastDay: '[Ieri alle] LT',\n    lastWeek: '[lo scorso] dddd [alle] LT',\n    nextDay: '[Domani alle] LT',\n    nextWeek: 'dddd [alle] LT',\n    sameDay: '[Oggi alle] LT',\n    sameElse: 'L'\n  }\n});\nDayjs.updateLocale('ja', {\n  calendar: {\n    lastDay: '[昨日] LT',\n    lastWeek: 'dddd LT',\n    nextDay: '[明日] LT',\n    nextWeek: '[次の] dddd LT',\n    sameDay: '[今日] LT',\n    sameElse: 'L'\n  }\n});\nDayjs.updateLocale('ko', {\n  calendar: {\n    lastDay: '[어제] LT',\n    lastWeek: '[지난] dddd LT',\n    nextDay: '[내일] LT',\n    nextWeek: 'dddd LT',\n    sameDay: '[오늘] LT',\n    sameElse: 'L'\n  }\n});\nDayjs.updateLocale('nl', {\n  calendar: {\n    lastDay: '[gisteren om] LT',\n    lastWeek: '[afgelopen] dddd [om] LT',\n    nextDay: '[morgen om] LT',\n    nextWeek: 'dddd [om] LT',\n    sameDay: '[vandaag om] LT',\n    sameElse: 'L'\n  }\n});\nDayjs.updateLocale('pt', {\n  calendar: {\n    lastDay: '[ontem às] LT',\n    lastWeek: 'dddd [passada às] LT',\n    nextDay: '[amanhã às] LT',\n    nextWeek: 'dddd [às] LT',\n    sameDay: '[hoje às] LT',\n    sameElse: 'L'\n  }\n});\nDayjs.updateLocale('ru', {\n  calendar: {\n    lastDay: '[Вчера, в] LT',\n    nextDay: '[Завтра, в] LT',\n    sameDay: '[Сегодня, в] LT'\n  }\n});\nDayjs.updateLocale('tr', {\n  calendar: {\n    lastDay: '[dün] LT',\n    lastWeek: '[geçen] dddd [saat] LT',\n    nextDay: '[yarın saat] LT',\n    nextWeek: '[gelecek] dddd [saat] LT',\n    sameDay: '[bugün saat] LT',\n    sameElse: 'L'\n  }\n});\nconst en_locale = {\n  formats: {},\n  months: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n  relativeTime: {},\n  weekdays: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\n};\n// Type guards to check DayJs\nconst isDayJs = dateTimeParser => dateTimeParser.extend !== undefined;\nconst supportsTz = dateTimeParser => dateTimeParser.tz !== undefined;\n/**\n * Wrapper around [i18next](https://www.i18next.com/) class for Stream related i18n.\n * Instance of this class should be provided to Chat component to handle i18n.\n * Stream provides following list of in-built i18n:\n * 1. English (en)\n * 2. Dutch (nl)\n * 3. Russian (ru)\n * 4. Turkish (tr)\n * 5. French (fr)\n * 6. Italian (it)\n * 7. Hindi (hi)\n * 8. Spanish (es)\n * 9. Portuguese (pt)\n * 10. German (de)\n * 11. Japanese (ja)\n * 12. Korean (ko)\n *\n * Simplest way to start using chat components in one of the in-built languages would be following:\n *\n * ```\n * const i18n = new Streami18n({ language 'nl' });\n * <Chat client={chatClient} i18nInstance={i18n}>\n *  ...\n * </Chat>\n * ```\n *\n * If you would like to override certain keys in in-built translation.\n * UI will be automatically updated in this case.\n *\n * ```\n * const i18n = new Streami18n({\n *  language: 'nl',\n *  translationsForLanguage: {\n *    'Nothing yet...': 'Nog Niet ...',\n *    '{{ firstUser }} and {{ secondUser }} are typing...': '{{ firstUser }} en {{ secondUser }} zijn aan het typen...',\n *  }\n * });\n *\n * If you would like to register additional languages, use registerTranslation. You can add as many languages as you want:\n *\n * i18n.registerTranslation('zh', {\n *  'Nothing yet...': 'Nog Niet ...',\n *  '{{ firstUser }} and {{ secondUser }} are typing...': '{{ firstUser }} en {{ secondUser }} zijn aan het typen...',\n * });\n *\n * <Chat client={chatClient} i18nInstance={i18n}>\n *  ...\n * </Chat>\n * ```\n *\n * You can use the same function to add whole new language as well.\n *\n * ```\n * const i18n = new Streami18n();\n *\n * i18n.registerTranslation('mr', {\n *  'Nothing yet...': 'काहीही नाही  ...',\n *  '{{ firstUser }} and {{ secondUser }} are typing...': '{{ firstUser }} आणि {{ secondUser }} टीपी करत आहेत ',\n * });\n *\n * // Make sure to call setLanguage to reflect new language in UI.\n * i18n.setLanguage('it');\n * <Chat client={chatClient} i18nInstance={i18n}>\n *  ...\n * </Chat>\n * ```\n *\n * ## Datetime i18n\n *\n * Stream react chat components uses [dayjs](https://day.js.org/en/) internally by default to format datetime stamp.\n * e.g., in ChannelPreview, MessageContent components.\n * Dayjs has locale support as well - https://day.js.org/docs/en/i18n/i18n\n * Dayjs is a lightweight alternative to Momentjs with the same modern API.\n *\n * Dayjs provides locale config for plenty of languages, you can check the whole list of locale configs at following url\n * https://github.com/iamkun/dayjs/tree/dev/src/locale\n *\n * You can either provide the dayjs locale config while registering\n * language with Streami18n (either via constructor or registerTranslation()) or you can provide your own Dayjs or Moment instance\n * to Streami18n constructor, which will be then used internally (using the language locale) in components.\n *\n * 1. Via language registration\n *\n * e.g.,\n * ```\n * const i18n = new Streami18n({\n *  language: 'nl',\n *  dayjsLocaleConfigForLanguage: {\n *    months: [...],\n *    monthsShort: [...],\n *    calendar: {\n *      sameDay: ...'\n *    }\n *  }\n * });\n * ```\n *\n * Similarly, you can add locale config for moment while registering translation via `registerTranslation` function.\n *\n * e.g.,\n * ```\n * const i18n = new Streami18n();\n *\n * i18n.registerTranslation(\n *  'mr',\n *  {\n *    'Nothing yet...': 'काहीही नाही  ...',\n *    '{{ firstUser }} and {{ secondUser }} are typing...': '{{ firstUser }} आणि {{ secondUser }} टीपी करत आहेत ',\n *  },\n *  {\n *    months: [...],\n *    monthsShort: [...],\n *    calendar: {\n *      sameDay: ...'\n *    }\n *  }\n * );\n *```\n * 2. Provide your own Moment object\n *\n * ```js\n * import 'moment/locale/nl';\n * import 'moment/locale/it';\n * // or if you want to include all locales\n * import 'moment/min/locales';\n *\n * import Moment from moment\n *\n * const i18n = new Streami18n({\n *  language: 'nl',\n *  DateTimeParser: Moment\n * })\n * ```\n *\n * 3. Provide your own Dayjs object\n *\n * ```js\n * import Dayjs from 'dayjs'\n *\n * import 'dayjs/locale/nl';\n * import 'dayjs/locale/it';\n * // or if you want to include all locales\n * import 'dayjs/min/locales';\n *\n * const i18n = new Streami18n({\n *  language: 'nl',\n *  DateTimeParser: Dayjs\n * })\n * ```\n * If you would like to stick with english language for datetimes in Stream components, you can set `disableDateTimeTranslations` to true.\n *\n */\nconst defaultStreami18nOptions = {\n  DateTimeParser: Dayjs,\n  dayjsLocaleConfigForLanguage: null,\n  debug: false,\n  disableDateTimeTranslations: false,\n  language: 'en',\n  logger: message => console.warn(message),\n  /**\n   * Key in the translationBuilderTopics has to match postProcessorName in the translation value.\n   *\n   * {\n   *   \"key\": \"{{value, postProcessorName}}\"\n   * }\n   *\n   * At least the default topics will be supported.\n   */\n  translationBuilderTopics: {\n    notification: NotificationTranslationTopic\n  }\n};\nexport class Streami18n {\n  /**\n   * Constructor accepts following options:\n   *  - language (String) default: 'en'\n   *    Language code e.g., en, tr\n   *\n   *  - translationsForLanguage (object)\n   *    Translations object. Please check src/i18n/en.json for example.\n   *\n   *  - disableDateTimeTranslations (boolean) default: false\n   *    Disable translations for date-times\n   *\n   *  - debug (boolean) default: false\n   *    Enable debug mode in internal i18n class\n   *\n   *  - logger (function) default: () => {}\n   *    Logger function to log warnings/errors from this class\n   *\n   *  - dayjsLocaleConfigForLanguage (object) default: 'enConfig'\n   *    [Config object](https://momentjs.com/docs/#/i18n/changing-locale/) for internal moment object,\n   *    corresponding to language (param)\n   *\n   *  - DateTimeParser (function) Moment or Dayjs instance/function.\n   *    Make sure to load all the required locales in this Moment or Dayjs instance that you will be provide to Streami18n\n   *\n   * @param {*} options\n   */\n  constructor() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    this.i18nInstance = i18n.createInstance();\n    this.translationBuilderTopics = {};\n    this.Dayjs = null;\n    this.setLanguageCallback = () => null;\n    this.initialized = false;\n    this.t = defaultTranslatorFunction;\n    this.translations = {\n      de: {\n        [defaultNS]: deTranslations\n      },\n      en: {\n        [defaultNS]: enTranslations\n      },\n      es: {\n        [defaultNS]: esTranslations\n      },\n      fr: {\n        [defaultNS]: frTranslations\n      },\n      hi: {\n        [defaultNS]: hiTranslations\n      },\n      it: {\n        [defaultNS]: itTranslations\n      },\n      ja: {\n        [defaultNS]: jaTranslations\n      },\n      ko: {\n        [defaultNS]: koTranslations\n      },\n      nl: {\n        [defaultNS]: nlTranslations\n      },\n      pt: {\n        [defaultNS]: ptTranslations\n      },\n      ru: {\n        [defaultNS]: ruTranslations\n      },\n      tr: {\n        [defaultNS]: trTranslations\n      }\n    };\n    /**\n     * dayjs.defineLanguage('nl') also changes the global locale. We don't want to do that\n     * when user calls registerTranslation() function. So instead we will store the locale configs\n     * given to registerTranslation() function in `dayjsLocales` object, and register the required locale\n     * with moment, when setLanguage is called.\n     * */\n    this.dayjsLocales = {};\n    this.formatters = predefinedFormatters;\n    this.localeExists = language => {\n      if (this.isCustomDateTimeParser) return true;\n      return Object.keys(Dayjs.Ls).indexOf(language) > -1;\n    };\n    this.validateCurrentLanguage = () => {\n      const availableLanguages = Object.keys(this.translations);\n      if (availableLanguages.indexOf(this.currentLanguage) === -1) {\n        this.logger(\"Streami18n: '\".concat(this.currentLanguage, \"' language is not registered.\") + \" Please make sure to call streami18n.registerTranslation('\".concat(this.currentLanguage, \"', {...}) or \") + \"use one the built-in supported languages - \".concat(this.getAvailableLanguages()));\n        this.currentLanguage = defaultLng;\n      }\n    };\n    /** Returns an instance of i18next used within this class instance */\n    this.geti18Instance = () => this.i18nInstance;\n    /** Returns list of available languages. */\n    this.getAvailableLanguages = () => Object.keys(this.translations);\n    /** Returns all the translation dictionary for all inbuilt-languages */\n    this.getTranslations = () => this.translations;\n    const finalOptions = _objectSpread(_objectSpread({}, defaultStreami18nOptions), options);\n    // Prepare the i18next configuration.\n    this.logger = finalOptions.logger;\n    this.currentLanguage = finalOptions.language;\n    this.DateTimeParser = finalOptions.DateTimeParser;\n    this.timezone = finalOptions.timezone;\n    this.formatters = _objectSpread(_objectSpread({}, predefinedFormatters), options === null || options === void 0 ? void 0 : options.formatters);\n    this.translationBuilder = new TranslationBuilder(this.i18nInstance);\n    this.translationBuilderTopics = _objectSpread(_objectSpread({}, defaultStreami18nOptions.translationBuilderTopics), options.translationBuilderTopics);\n    try {\n      if (this.DateTimeParser && isDayJs(this.DateTimeParser)) {\n        this.DateTimeParser.extend(LocalizedFormat);\n        this.DateTimeParser.extend(calendar);\n        this.DateTimeParser.extend(localeData);\n        this.DateTimeParser.extend(relativeTime);\n        this.DateTimeParser.extend(duration);\n      }\n    } catch (error) {\n      throw Error(\"Streami18n: Looks like you wanted to provide Dayjs instance, but something went wrong while adding plugins \".concat(error));\n    }\n    this.isCustomDateTimeParser = !!options.DateTimeParser;\n    const translationsForLanguage = finalOptions.translationsForLanguage;\n    if (translationsForLanguage) {\n      this.translations[this.currentLanguage] = {\n        [defaultNS]: this.translations[this.currentLanguage] && this.translations[this.currentLanguage][defaultNS] ? _objectSpread(_objectSpread({}, this.translations[this.currentLanguage][defaultNS]), translationsForLanguage) : translationsForLanguage\n      };\n    }\n    // If translations don't exist for given language, then set it as empty object.\n    if (!this.translations[this.currentLanguage]) {\n      this.translations[this.currentLanguage] = {\n        [defaultNS]: {}\n      };\n    }\n    this.i18nextConfig = {\n      debug: finalOptions.debug,\n      fallbackLng: false,\n      interpolation: {\n        escapeValue: false,\n        formatSeparator: '|'\n      },\n      keySeparator: false,\n      lng: this.currentLanguage,\n      nsSeparator: false\n    };\n    const postProcess = Object.keys(this.translationBuilderTopics);\n    if (postProcess.length > 0) {\n      this.i18nextConfig.postProcess = postProcess;\n    }\n    if (finalOptions.parseMissingKeyHandler) {\n      this.i18nextConfig.parseMissingKeyHandler = finalOptions.parseMissingKeyHandler;\n    }\n    this.validateCurrentLanguage();\n    const dayjsLocaleConfigForLanguage = finalOptions.dayjsLocaleConfigForLanguage;\n    if (dayjsLocaleConfigForLanguage) {\n      this.addOrUpdateLocale(this.currentLanguage, _objectSpread({}, dayjsLocaleConfigForLanguage));\n    } else if (!this.localeExists(this.currentLanguage)) {\n      this.logger(\"Streami18n: Streami18n(...) - Locale config for \".concat(this.currentLanguage, \" does not exist in momentjs.\") + \"Please import the locale file using \\\"import 'moment/locale/\".concat(this.currentLanguage, \"';\\\" in your app or \") + \"register the locale config with Streami18n using registerTranslation(language, translation, customDayjsLocale)\");\n    }\n    this.tDateTimeParser = timestamp => {\n      const language = finalOptions.disableDateTimeTranslations || !this.localeExists(this.currentLanguage) ? defaultLng : this.currentLanguage;\n      if (isDayJs(this.DateTimeParser)) {\n        return supportsTz(this.DateTimeParser) ? this.DateTimeParser(timestamp).tz(this.timezone).locale(language) : this.DateTimeParser(timestamp).locale(language);\n      }\n      if (supportsTz(this.DateTimeParser) && this.timezone) {\n        return this.DateTimeParser(timestamp).tz(this.timezone).locale(language);\n      }\n      return this.DateTimeParser(timestamp).locale(language);\n    };\n  }\n  /**\n   * Initializes the i18next instance with configuration (which enables natural language as default keys)\n   */\n  async init() {\n    this.validateCurrentLanguage();\n    try {\n      this.t = await this.i18nInstance.init(_objectSpread(_objectSpread({}, this.i18nextConfig), {}, {\n        lng: this.currentLanguage,\n        resources: this.translations\n      }));\n      this.initialized = true;\n      if (this.formatters) {\n        Object.entries(this.formatters).forEach(_ref => {\n          var _this$i18nInstance$se;\n          let [name, formatterFactory] = _ref;\n          if (!formatterFactory) return;\n          (_this$i18nInstance$se = this.i18nInstance.services.formatter) === null || _this$i18nInstance$se === void 0 || _this$i18nInstance$se.add(name, formatterFactory(this));\n        });\n      }\n      // Register post-processors after initialization\n      Object.entries(this.translationBuilderTopics).forEach(_ref2 => {\n        let [topic, TranslationTopic] = _ref2;\n        this.translationBuilder.registerTopic(topic, TranslationTopic);\n      });\n    } catch (error) {\n      this.logger(\"Something went wrong with init: \".concat(JSON.stringify(error)));\n    }\n    return {\n      t: this.t,\n      tDateTimeParser: this.tDateTimeParser\n    };\n  }\n  /**\n   * Returns current version translator function.\n   */\n  async getTranslators() {\n    if (!this.initialized) {\n      if (this.dayjsLocales[this.currentLanguage]) {\n        this.addOrUpdateLocale(this.currentLanguage, this.dayjsLocales[this.currentLanguage]);\n      }\n      return await this.init();\n    } else {\n      return {\n        t: this.t,\n        tDateTimeParser: this.tDateTimeParser\n      };\n    }\n  }\n  registerTranslation(language, translation, customDayjsLocale) {\n    if (!translation) {\n      this.logger(\"Streami18n: registerTranslation(language, translation, customDayjsLocale) called without translation\");\n      return;\n    }\n    if (!this.translations[language]) {\n      this.translations[language] = {\n        [defaultNS]: translation\n      };\n    } else {\n      this.translations[language][defaultNS] = translation;\n    }\n    if (customDayjsLocale) {\n      this.dayjsLocales[language] = _objectSpread({}, customDayjsLocale);\n    } else if (!this.localeExists(language)) {\n      this.logger(\"Streami18n: registerTranslation(language, translation, customDayjsLocale) - \" + \"Locale config for \".concat(language, \" does not exist in Dayjs.\") + \"Please import the locale file using \\\"import 'dayjs/locale/\".concat(language, \"';\\\" in your app or \") + \"register the locale config with Streami18n using registerTranslation(language, translation, customDayjsLocale)\");\n    }\n    if (this.initialized) {\n      this.i18nInstance.addResources(language, defaultNS, translation);\n    }\n  }\n  addOrUpdateLocale(key, config) {\n    if (this.localeExists(key)) {\n      Dayjs.updateLocale(key, _objectSpread({}, config));\n    } else {\n      // Merging the custom locale config with en config, so missing keys can default to english.\n      Dayjs.locale(_objectSpread(_objectSpread({\n        name: key\n      }, en_locale), config), undefined, true);\n    }\n  }\n  async setLanguage(language) {\n    this.currentLanguage = language;\n    if (!this.initialized) return;\n    try {\n      const t = await this.i18nInstance.changeLanguage(language);\n      if (this.dayjsLocales[language]) {\n        this.addOrUpdateLocale(this.currentLanguage, this.dayjsLocales[this.currentLanguage]);\n      }\n      this.setLanguageCallback(t);\n      return t;\n    } catch (error) {\n      this.logger(\"Failed to set language: \".concat(JSON.stringify(error)));\n      return this.t;\n    }\n  }\n  registerSetLanguageCallback(callback) {\n    this.setLanguageCallback = callback;\n  }\n}","map":{"version":3,"names":["i18n","Dayjs","calendar","updateLocale","LocalizedFormat","localeData","relativeTime","duration","utc","timezone","NotificationTranslationTopic","TranslationBuilder","defaultTranslatorFunction","predefinedFormatters","deTranslations","enTranslations","esTranslations","frTranslations","hiTranslations","itTranslations","jaTranslations","koTranslations","nlTranslations","ptTranslations","ruTranslations","trTranslations","defaultNS","defaultLng","extend","lastDay","lastWeek","nextDay","nextWeek","sameDay","sameElse","meridiem","hour","meridiemHour","meridiemParse","en_locale","formats","months","weekdays","isDayJs","dateTimeParser","undefined","supportsTz","tz","defaultStreami18nOptions","DateTimeParser","dayjsLocaleConfigForLanguage","debug","disableDateTimeTranslations","language","logger","message","console","warn","translationBuilderTopics","notification","Streami18n","constructor","options","arguments","length","i18nInstance","createInstance","setLanguageCallback","initialized","t","translations","de","en","es","fr","hi","it","ja","ko","nl","pt","ru","tr","dayjsLocales","formatters","localeExists","isCustomDateTimeParser","Object","keys","Ls","indexOf","validateCurrentLanguage","availableLanguages","currentLanguage","concat","getAvailableLanguages","geti18Instance","getTranslations","finalOptions","_objectSpread","translationBuilder","error","Error","translationsForLanguage","i18nextConfig","fallbackLng","interpolation","escapeValue","formatSeparator","keySeparator","lng","nsSeparator","postProcess","parseMissingKeyHandler","addOrUpdateLocale","tDateTimeParser","timestamp","locale","init","resources","entries","forEach","_ref","_this$i18nInstance$se","name","formatterFactory","services","formatter","add","_ref2","topic","TranslationTopic","registerTopic","JSON","stringify","getTranslators","registerTranslation","translation","customDayjsLocale","addResources","key","config","setLanguage","changeLanguage","registerSetLanguageCallback","callback"],"sources":["/tmp/daft-chat-temp/node_modules/stream-chat-react/dist/i18n/Streami18n.js"],"sourcesContent":["import i18n from 'i18next';\nimport Dayjs from 'dayjs';\nimport calendar from 'dayjs/plugin/calendar';\nimport updateLocale from 'dayjs/plugin/updateLocale';\nimport LocalizedFormat from 'dayjs/plugin/localizedFormat';\nimport localeData from 'dayjs/plugin/localeData';\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport duration from 'dayjs/plugin/duration';\nimport utc from 'dayjs/plugin/utc';\nimport timezone from 'dayjs/plugin/timezone';\nimport { NotificationTranslationTopic, TranslationBuilder } from './TranslationBuilder';\nimport { defaultTranslatorFunction, predefinedFormatters } from './utils';\nimport { deTranslations, enTranslations, esTranslations, frTranslations, hiTranslations, itTranslations, jaTranslations, koTranslations, nlTranslations, ptTranslations, ruTranslations, trTranslations, } from './translations';\nimport 'dayjs/locale/de';\nimport 'dayjs/locale/es';\nimport 'dayjs/locale/fr';\nimport 'dayjs/locale/hi';\nimport 'dayjs/locale/it';\nimport 'dayjs/locale/ja';\nimport 'dayjs/locale/ko';\nimport 'dayjs/locale/nl';\nimport 'dayjs/locale/pt';\nimport 'dayjs/locale/ru';\nimport 'dayjs/locale/tr';\n// These locale imports also set these locale globally.\n// So As a last step I am going to import english locale\n// to make sure I don't mess up language at other places in app.\nimport 'dayjs/locale/en';\nconst defaultNS = 'translation';\nconst defaultLng = 'en';\nDayjs.extend(updateLocale);\nDayjs.extend(utc);\nDayjs.extend(timezone);\nDayjs.updateLocale('de', {\n    calendar: {\n        lastDay: '[gestern um] LT',\n        lastWeek: '[letzten] dddd [um] LT',\n        nextDay: '[morgen um] LT',\n        nextWeek: 'dddd [um] LT',\n        sameDay: '[heute um] LT',\n        sameElse: 'L',\n    },\n});\nDayjs.updateLocale('es', {\n    calendar: {\n        lastDay: '[ayer a las] LT',\n        lastWeek: '[pasado] dddd [a] LT',\n        nextDay: '[mañana a] LT',\n        nextWeek: 'dddd [a] LT',\n        sameDay: '[hoy a las] LT',\n        sameElse: 'L',\n    },\n});\nDayjs.updateLocale('fr', {\n    calendar: {\n        lastDay: '[Hier à] LT',\n        lastWeek: 'dddd [dernier à] LT',\n        nextDay: '[Demain à] LT',\n        nextWeek: 'dddd [à] LT',\n        sameDay: \"[Aujourd'hui à] LT\",\n        sameElse: 'L',\n    },\n});\nDayjs.updateLocale('hi', {\n    calendar: {\n        lastDay: '[कल] LT',\n        lastWeek: '[पिछले] dddd, LT',\n        nextDay: '[कल] LT',\n        nextWeek: 'dddd, LT',\n        sameDay: '[आज] LT',\n        sameElse: 'L',\n    },\n    // Hindi notation for meridiems are quite fuzzy in practice. While there exists\n    // a rigid notion of a 'Pahar' it is not used as rigidly in modern Hindi.\n    meridiem(hour) {\n        if (hour < 4) {\n            return 'रात';\n        }\n        else if (hour < 10) {\n            return 'सुबह';\n        }\n        else if (hour < 17) {\n            return 'दोपहर';\n        }\n        else if (hour < 20) {\n            return 'शाम';\n        }\n        else {\n            return 'रात';\n        }\n    },\n    meridiemHour(hour, meridiem) {\n        if (hour === 12) {\n            hour = 0;\n        }\n        if (meridiem === 'रात') {\n            return hour < 4 ? hour : hour + 12;\n        }\n        else if (meridiem === 'सुबह') {\n            return hour;\n        }\n        else if (meridiem === 'दोपहर') {\n            return hour >= 10 ? hour : hour + 12;\n        }\n        else if (meridiem === 'शाम') {\n            return hour + 12;\n        }\n        return hour;\n    },\n    meridiemParse: /रात|सुबह|दोपहर|शाम/,\n});\nDayjs.updateLocale('it', {\n    calendar: {\n        lastDay: '[Ieri alle] LT',\n        lastWeek: '[lo scorso] dddd [alle] LT',\n        nextDay: '[Domani alle] LT',\n        nextWeek: 'dddd [alle] LT',\n        sameDay: '[Oggi alle] LT',\n        sameElse: 'L',\n    },\n});\nDayjs.updateLocale('ja', {\n    calendar: {\n        lastDay: '[昨日] LT',\n        lastWeek: 'dddd LT',\n        nextDay: '[明日] LT',\n        nextWeek: '[次の] dddd LT',\n        sameDay: '[今日] LT',\n        sameElse: 'L',\n    },\n});\nDayjs.updateLocale('ko', {\n    calendar: {\n        lastDay: '[어제] LT',\n        lastWeek: '[지난] dddd LT',\n        nextDay: '[내일] LT',\n        nextWeek: 'dddd LT',\n        sameDay: '[오늘] LT',\n        sameElse: 'L',\n    },\n});\nDayjs.updateLocale('nl', {\n    calendar: {\n        lastDay: '[gisteren om] LT',\n        lastWeek: '[afgelopen] dddd [om] LT',\n        nextDay: '[morgen om] LT',\n        nextWeek: 'dddd [om] LT',\n        sameDay: '[vandaag om] LT',\n        sameElse: 'L',\n    },\n});\nDayjs.updateLocale('pt', {\n    calendar: {\n        lastDay: '[ontem às] LT',\n        lastWeek: 'dddd [passada às] LT',\n        nextDay: '[amanhã às] LT',\n        nextWeek: 'dddd [às] LT',\n        sameDay: '[hoje às] LT',\n        sameElse: 'L',\n    },\n});\nDayjs.updateLocale('ru', {\n    calendar: {\n        lastDay: '[Вчера, в] LT',\n        nextDay: '[Завтра, в] LT',\n        sameDay: '[Сегодня, в] LT',\n    },\n});\nDayjs.updateLocale('tr', {\n    calendar: {\n        lastDay: '[dün] LT',\n        lastWeek: '[geçen] dddd [saat] LT',\n        nextDay: '[yarın saat] LT',\n        nextWeek: '[gelecek] dddd [saat] LT',\n        sameDay: '[bugün saat] LT',\n        sameElse: 'L',\n    },\n});\nconst en_locale = {\n    formats: {},\n    months: [\n        'January',\n        'February',\n        'March',\n        'April',\n        'May',\n        'June',\n        'July',\n        'August',\n        'September',\n        'October',\n        'November',\n        'December',\n    ],\n    relativeTime: {},\n    weekdays: [\n        'Sunday',\n        'Monday',\n        'Tuesday',\n        'Wednesday',\n        'Thursday',\n        'Friday',\n        'Saturday',\n    ],\n};\n// Type guards to check DayJs\nconst isDayJs = (dateTimeParser) => dateTimeParser.extend !== undefined;\nconst supportsTz = (dateTimeParser) => dateTimeParser.tz !== undefined;\n/**\n * Wrapper around [i18next](https://www.i18next.com/) class for Stream related i18n.\n * Instance of this class should be provided to Chat component to handle i18n.\n * Stream provides following list of in-built i18n:\n * 1. English (en)\n * 2. Dutch (nl)\n * 3. Russian (ru)\n * 4. Turkish (tr)\n * 5. French (fr)\n * 6. Italian (it)\n * 7. Hindi (hi)\n * 8. Spanish (es)\n * 9. Portuguese (pt)\n * 10. German (de)\n * 11. Japanese (ja)\n * 12. Korean (ko)\n *\n * Simplest way to start using chat components in one of the in-built languages would be following:\n *\n * ```\n * const i18n = new Streami18n({ language 'nl' });\n * <Chat client={chatClient} i18nInstance={i18n}>\n *  ...\n * </Chat>\n * ```\n *\n * If you would like to override certain keys in in-built translation.\n * UI will be automatically updated in this case.\n *\n * ```\n * const i18n = new Streami18n({\n *  language: 'nl',\n *  translationsForLanguage: {\n *    'Nothing yet...': 'Nog Niet ...',\n *    '{{ firstUser }} and {{ secondUser }} are typing...': '{{ firstUser }} en {{ secondUser }} zijn aan het typen...',\n *  }\n * });\n *\n * If you would like to register additional languages, use registerTranslation. You can add as many languages as you want:\n *\n * i18n.registerTranslation('zh', {\n *  'Nothing yet...': 'Nog Niet ...',\n *  '{{ firstUser }} and {{ secondUser }} are typing...': '{{ firstUser }} en {{ secondUser }} zijn aan het typen...',\n * });\n *\n * <Chat client={chatClient} i18nInstance={i18n}>\n *  ...\n * </Chat>\n * ```\n *\n * You can use the same function to add whole new language as well.\n *\n * ```\n * const i18n = new Streami18n();\n *\n * i18n.registerTranslation('mr', {\n *  'Nothing yet...': 'काहीही नाही  ...',\n *  '{{ firstUser }} and {{ secondUser }} are typing...': '{{ firstUser }} आणि {{ secondUser }} टीपी करत आहेत ',\n * });\n *\n * // Make sure to call setLanguage to reflect new language in UI.\n * i18n.setLanguage('it');\n * <Chat client={chatClient} i18nInstance={i18n}>\n *  ...\n * </Chat>\n * ```\n *\n * ## Datetime i18n\n *\n * Stream react chat components uses [dayjs](https://day.js.org/en/) internally by default to format datetime stamp.\n * e.g., in ChannelPreview, MessageContent components.\n * Dayjs has locale support as well - https://day.js.org/docs/en/i18n/i18n\n * Dayjs is a lightweight alternative to Momentjs with the same modern API.\n *\n * Dayjs provides locale config for plenty of languages, you can check the whole list of locale configs at following url\n * https://github.com/iamkun/dayjs/tree/dev/src/locale\n *\n * You can either provide the dayjs locale config while registering\n * language with Streami18n (either via constructor or registerTranslation()) or you can provide your own Dayjs or Moment instance\n * to Streami18n constructor, which will be then used internally (using the language locale) in components.\n *\n * 1. Via language registration\n *\n * e.g.,\n * ```\n * const i18n = new Streami18n({\n *  language: 'nl',\n *  dayjsLocaleConfigForLanguage: {\n *    months: [...],\n *    monthsShort: [...],\n *    calendar: {\n *      sameDay: ...'\n *    }\n *  }\n * });\n * ```\n *\n * Similarly, you can add locale config for moment while registering translation via `registerTranslation` function.\n *\n * e.g.,\n * ```\n * const i18n = new Streami18n();\n *\n * i18n.registerTranslation(\n *  'mr',\n *  {\n *    'Nothing yet...': 'काहीही नाही  ...',\n *    '{{ firstUser }} and {{ secondUser }} are typing...': '{{ firstUser }} आणि {{ secondUser }} टीपी करत आहेत ',\n *  },\n *  {\n *    months: [...],\n *    monthsShort: [...],\n *    calendar: {\n *      sameDay: ...'\n *    }\n *  }\n * );\n *```\n * 2. Provide your own Moment object\n *\n * ```js\n * import 'moment/locale/nl';\n * import 'moment/locale/it';\n * // or if you want to include all locales\n * import 'moment/min/locales';\n *\n * import Moment from moment\n *\n * const i18n = new Streami18n({\n *  language: 'nl',\n *  DateTimeParser: Moment\n * })\n * ```\n *\n * 3. Provide your own Dayjs object\n *\n * ```js\n * import Dayjs from 'dayjs'\n *\n * import 'dayjs/locale/nl';\n * import 'dayjs/locale/it';\n * // or if you want to include all locales\n * import 'dayjs/min/locales';\n *\n * const i18n = new Streami18n({\n *  language: 'nl',\n *  DateTimeParser: Dayjs\n * })\n * ```\n * If you would like to stick with english language for datetimes in Stream components, you can set `disableDateTimeTranslations` to true.\n *\n */\nconst defaultStreami18nOptions = {\n    DateTimeParser: Dayjs,\n    dayjsLocaleConfigForLanguage: null,\n    debug: false,\n    disableDateTimeTranslations: false,\n    language: 'en',\n    logger: (message) => console.warn(message),\n    /**\n     * Key in the translationBuilderTopics has to match postProcessorName in the translation value.\n     *\n     * {\n     *   \"key\": \"{{value, postProcessorName}}\"\n     * }\n     *\n     * At least the default topics will be supported.\n     */\n    translationBuilderTopics: {\n        notification: NotificationTranslationTopic,\n    },\n};\nexport class Streami18n {\n    /**\n     * Constructor accepts following options:\n     *  - language (String) default: 'en'\n     *    Language code e.g., en, tr\n     *\n     *  - translationsForLanguage (object)\n     *    Translations object. Please check src/i18n/en.json for example.\n     *\n     *  - disableDateTimeTranslations (boolean) default: false\n     *    Disable translations for date-times\n     *\n     *  - debug (boolean) default: false\n     *    Enable debug mode in internal i18n class\n     *\n     *  - logger (function) default: () => {}\n     *    Logger function to log warnings/errors from this class\n     *\n     *  - dayjsLocaleConfigForLanguage (object) default: 'enConfig'\n     *    [Config object](https://momentjs.com/docs/#/i18n/changing-locale/) for internal moment object,\n     *    corresponding to language (param)\n     *\n     *  - DateTimeParser (function) Moment or Dayjs instance/function.\n     *    Make sure to load all the required locales in this Moment or Dayjs instance that you will be provide to Streami18n\n     *\n     * @param {*} options\n     */\n    constructor(options = {}) {\n        this.i18nInstance = i18n.createInstance();\n        this.translationBuilderTopics = {};\n        this.Dayjs = null;\n        this.setLanguageCallback = () => null;\n        this.initialized = false;\n        this.t = defaultTranslatorFunction;\n        this.translations = {\n            de: { [defaultNS]: deTranslations },\n            en: { [defaultNS]: enTranslations },\n            es: { [defaultNS]: esTranslations },\n            fr: { [defaultNS]: frTranslations },\n            hi: { [defaultNS]: hiTranslations },\n            it: { [defaultNS]: itTranslations },\n            ja: { [defaultNS]: jaTranslations },\n            ko: { [defaultNS]: koTranslations },\n            nl: { [defaultNS]: nlTranslations },\n            pt: { [defaultNS]: ptTranslations },\n            ru: { [defaultNS]: ruTranslations },\n            tr: { [defaultNS]: trTranslations },\n        };\n        /**\n         * dayjs.defineLanguage('nl') also changes the global locale. We don't want to do that\n         * when user calls registerTranslation() function. So instead we will store the locale configs\n         * given to registerTranslation() function in `dayjsLocales` object, and register the required locale\n         * with moment, when setLanguage is called.\n         * */\n        this.dayjsLocales = {};\n        this.formatters = predefinedFormatters;\n        this.localeExists = (language) => {\n            if (this.isCustomDateTimeParser)\n                return true;\n            return Object.keys(Dayjs.Ls).indexOf(language) > -1;\n        };\n        this.validateCurrentLanguage = () => {\n            const availableLanguages = Object.keys(this.translations);\n            if (availableLanguages.indexOf(this.currentLanguage) === -1) {\n                this.logger(`Streami18n: '${this.currentLanguage}' language is not registered.` +\n                    ` Please make sure to call streami18n.registerTranslation('${this.currentLanguage}', {...}) or ` +\n                    `use one the built-in supported languages - ${this.getAvailableLanguages()}`);\n                this.currentLanguage = defaultLng;\n            }\n        };\n        /** Returns an instance of i18next used within this class instance */\n        this.geti18Instance = () => this.i18nInstance;\n        /** Returns list of available languages. */\n        this.getAvailableLanguages = () => Object.keys(this.translations);\n        /** Returns all the translation dictionary for all inbuilt-languages */\n        this.getTranslations = () => this.translations;\n        const finalOptions = {\n            ...defaultStreami18nOptions,\n            ...options,\n        };\n        // Prepare the i18next configuration.\n        this.logger = finalOptions.logger;\n        this.currentLanguage = finalOptions.language;\n        this.DateTimeParser = finalOptions.DateTimeParser;\n        this.timezone = finalOptions.timezone;\n        this.formatters = { ...predefinedFormatters, ...options?.formatters };\n        this.translationBuilder = new TranslationBuilder(this.i18nInstance);\n        this.translationBuilderTopics = {\n            ...defaultStreami18nOptions.translationBuilderTopics,\n            ...options.translationBuilderTopics,\n        };\n        try {\n            if (this.DateTimeParser && isDayJs(this.DateTimeParser)) {\n                this.DateTimeParser.extend(LocalizedFormat);\n                this.DateTimeParser.extend(calendar);\n                this.DateTimeParser.extend(localeData);\n                this.DateTimeParser.extend(relativeTime);\n                this.DateTimeParser.extend(duration);\n            }\n        }\n        catch (error) {\n            throw Error(`Streami18n: Looks like you wanted to provide Dayjs instance, but something went wrong while adding plugins ${error}`);\n        }\n        this.isCustomDateTimeParser = !!options.DateTimeParser;\n        const translationsForLanguage = finalOptions.translationsForLanguage;\n        if (translationsForLanguage) {\n            this.translations[this.currentLanguage] = {\n                [defaultNS]: this.translations[this.currentLanguage] &&\n                    this.translations[this.currentLanguage][defaultNS]\n                    ? {\n                        ...this.translations[this.currentLanguage][defaultNS],\n                        ...translationsForLanguage,\n                    }\n                    : translationsForLanguage,\n            };\n        }\n        // If translations don't exist for given language, then set it as empty object.\n        if (!this.translations[this.currentLanguage]) {\n            this.translations[this.currentLanguage] = {\n                [defaultNS]: {},\n            };\n        }\n        this.i18nextConfig = {\n            debug: finalOptions.debug,\n            fallbackLng: false,\n            interpolation: { escapeValue: false, formatSeparator: '|' },\n            keySeparator: false,\n            lng: this.currentLanguage,\n            nsSeparator: false,\n        };\n        const postProcess = Object.keys(this.translationBuilderTopics);\n        if (postProcess.length > 0) {\n            this.i18nextConfig.postProcess = postProcess;\n        }\n        if (finalOptions.parseMissingKeyHandler) {\n            this.i18nextConfig.parseMissingKeyHandler = finalOptions.parseMissingKeyHandler;\n        }\n        this.validateCurrentLanguage();\n        const dayjsLocaleConfigForLanguage = finalOptions.dayjsLocaleConfigForLanguage;\n        if (dayjsLocaleConfigForLanguage) {\n            this.addOrUpdateLocale(this.currentLanguage, {\n                ...dayjsLocaleConfigForLanguage,\n            });\n        }\n        else if (!this.localeExists(this.currentLanguage)) {\n            this.logger(`Streami18n: Streami18n(...) - Locale config for ${this.currentLanguage} does not exist in momentjs.` +\n                `Please import the locale file using \"import 'moment/locale/${this.currentLanguage}';\" in your app or ` +\n                `register the locale config with Streami18n using registerTranslation(language, translation, customDayjsLocale)`);\n        }\n        this.tDateTimeParser = (timestamp) => {\n            const language = finalOptions.disableDateTimeTranslations ||\n                !this.localeExists(this.currentLanguage)\n                ? defaultLng\n                : this.currentLanguage;\n            if (isDayJs(this.DateTimeParser)) {\n                return supportsTz(this.DateTimeParser)\n                    ? this.DateTimeParser(timestamp).tz(this.timezone).locale(language)\n                    : this.DateTimeParser(timestamp).locale(language);\n            }\n            if (supportsTz(this.DateTimeParser) && this.timezone) {\n                return this.DateTimeParser(timestamp).tz(this.timezone).locale(language);\n            }\n            return this.DateTimeParser(timestamp).locale(language);\n        };\n    }\n    /**\n     * Initializes the i18next instance with configuration (which enables natural language as default keys)\n     */\n    async init() {\n        this.validateCurrentLanguage();\n        try {\n            this.t = await this.i18nInstance.init({\n                ...this.i18nextConfig,\n                lng: this.currentLanguage,\n                resources: this.translations,\n            });\n            this.initialized = true;\n            if (this.formatters) {\n                Object.entries(this.formatters).forEach(([name, formatterFactory]) => {\n                    if (!formatterFactory)\n                        return;\n                    this.i18nInstance.services.formatter?.add(name, formatterFactory(this));\n                });\n            }\n            // Register post-processors after initialization\n            Object.entries(this.translationBuilderTopics).forEach(([topic, TranslationTopic]) => {\n                this.translationBuilder.registerTopic(topic, TranslationTopic);\n            });\n        }\n        catch (error) {\n            this.logger(`Something went wrong with init: ${JSON.stringify(error)}`);\n        }\n        return {\n            t: this.t,\n            tDateTimeParser: this.tDateTimeParser,\n        };\n    }\n    /**\n     * Returns current version translator function.\n     */\n    async getTranslators() {\n        if (!this.initialized) {\n            if (this.dayjsLocales[this.currentLanguage]) {\n                this.addOrUpdateLocale(this.currentLanguage, this.dayjsLocales[this.currentLanguage]);\n            }\n            return await this.init();\n        }\n        else {\n            return {\n                t: this.t,\n                tDateTimeParser: this.tDateTimeParser,\n            };\n        }\n    }\n    registerTranslation(language, translation, customDayjsLocale) {\n        if (!translation) {\n            this.logger(`Streami18n: registerTranslation(language, translation, customDayjsLocale) called without translation`);\n            return;\n        }\n        if (!this.translations[language]) {\n            this.translations[language] = { [defaultNS]: translation };\n        }\n        else {\n            this.translations[language][defaultNS] = translation;\n        }\n        if (customDayjsLocale) {\n            this.dayjsLocales[language] = { ...customDayjsLocale };\n        }\n        else if (!this.localeExists(language)) {\n            this.logger(`Streami18n: registerTranslation(language, translation, customDayjsLocale) - ` +\n                `Locale config for ${language} does not exist in Dayjs.` +\n                `Please import the locale file using \"import 'dayjs/locale/${language}';\" in your app or ` +\n                `register the locale config with Streami18n using registerTranslation(language, translation, customDayjsLocale)`);\n        }\n        if (this.initialized) {\n            this.i18nInstance.addResources(language, defaultNS, translation);\n        }\n    }\n    addOrUpdateLocale(key, config) {\n        if (this.localeExists(key)) {\n            Dayjs.updateLocale(key, { ...config });\n        }\n        else {\n            // Merging the custom locale config with en config, so missing keys can default to english.\n            Dayjs.locale({ name: key, ...en_locale, ...config }, undefined, true);\n        }\n    }\n    async setLanguage(language) {\n        this.currentLanguage = language;\n        if (!this.initialized)\n            return;\n        try {\n            const t = await this.i18nInstance.changeLanguage(language);\n            if (this.dayjsLocales[language]) {\n                this.addOrUpdateLocale(this.currentLanguage, this.dayjsLocales[this.currentLanguage]);\n            }\n            this.setLanguageCallback(t);\n            return t;\n        }\n        catch (error) {\n            this.logger(`Failed to set language: ${JSON.stringify(error)}`);\n            return this.t;\n        }\n    }\n    registerSetLanguageCallback(callback) {\n        this.setLanguageCallback = callback;\n    }\n}\n"],"mappings":"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;EACrBD,QAAQ,EAAE;IACN2B,OAAO,EAAE,eAAe;IACxBE,OAAO,EAAE,gBAAgB;IACzBE,OAAO,EAAE;EACb;AACJ,CAAC,CAAC;AACFhC,KAAK,CAACE,YAAY,CAAC,IAAI,EAAE;EACrBD,QAAQ,EAAE;IACN2B,OAAO,EAAE,UAAU;IACnBC,QAAQ,EAAE,wBAAwB;IAClCC,OAAO,EAAE,iBAAiB;IAC1BC,QAAQ,EAAE,0BAA0B;IACpCC,OAAO,EAAE,iBAAiB;IAC1BC,QAAQ,EAAE;EACd;AACJ,CAAC,CAAC;AACF,MAAMK,SAAS,GAAG;EACdC,OAAO,EAAE,CAAC,CAAC;EACXC,MAAM,EAAE,CACJ,SAAS,EACT,UAAU,EACV,OAAO,EACP,OAAO,EACP,KAAK,EACL,MAAM,EACN,MAAM,EACN,QAAQ,EACR,WAAW,EACX,SAAS,EACT,UAAU,EACV,UAAU,CACb;EACDnC,YAAY,EAAE,CAAC,CAAC;EAChBoC,QAAQ,EAAE,CACN,QAAQ,EACR,QAAQ,EACR,SAAS,EACT,WAAW,EACX,UAAU,EACV,QAAQ,EACR,UAAU;AAElB,CAAC;AACD;AACA,MAAMC,OAAO,GAAIC,cAAc,IAAKA,cAAc,CAAChB,MAAM,KAAKiB,SAAS;AACvE,MAAMC,UAAU,GAAIF,cAAc,IAAKA,cAAc,CAACG,EAAE,KAAKF,SAAS;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMG,wBAAwB,GAAG;EAC7BC,cAAc,EAAEhD,KAAK;EACrBiD,4BAA4B,EAAE,IAAI;EAClCC,KAAK,EAAE,KAAK;EACZC,2BAA2B,EAAE,KAAK;EAClCC,QAAQ,EAAE,IAAI;EACdC,MAAM,EAAGC,OAAO,IAAKC,OAAO,CAACC,IAAI,CAACF,OAAO,CAAC;EAC1C;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACIG,wBAAwB,EAAE;IACtBC,YAAY,EAAEjD;EAClB;AACJ,CAAC;AACD,OAAO,MAAMkD,UAAU,CAAC;EACpB;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACIC,WAAWA,CAAA,EAAe;IAAA,IAAdC,OAAO,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAlB,SAAA,GAAAkB,SAAA,MAAG,CAAC,CAAC;IACpB,IAAI,CAACE,YAAY,GAAGjE,IAAI,CAACkE,cAAc,CAAC,CAAC;IACzC,IAAI,CAACR,wBAAwB,GAAG,CAAC,CAAC;IAClC,IAAI,CAACzD,KAAK,GAAG,IAAI;IACjB,IAAI,CAACkE,mBAAmB,GAAG,MAAM,IAAI;IACrC,IAAI,CAACC,WAAW,GAAG,KAAK;IACxB,IAAI,CAACC,CAAC,GAAGzD,yBAAyB;IAClC,IAAI,CAAC0D,YAAY,GAAG;MAChBC,EAAE,EAAE;QAAE,CAAC7C,SAAS,GAAGZ;MAAe,CAAC;MACnC0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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}