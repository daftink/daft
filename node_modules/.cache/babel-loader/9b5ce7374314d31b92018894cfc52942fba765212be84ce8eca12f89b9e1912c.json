{"ast":null,"code":"import _objectSpread from \"/tmp/daft-chat-temp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _objectDestructuringEmpty from \"/tmp/daft-chat-temp/node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js\";\nimport React, { forwardRef, useEffect, useState } from 'react';\nimport clsx from 'clsx';\nimport { DownloadButton } from '../Attachment';\nexport const BaseImage = forwardRef(function BaseImage(_ref, ref) {\n  let props = Object.assign({}, (_objectDestructuringEmpty(_ref), _ref));\n  const {\n    className: propsClassName,\n    onError: propsOnError\n  } = props;\n  const [error, setError] = useState(false);\n  useEffect(() => () => {\n    setError(false);\n  }, [props.src]);\n  return React.createElement(React.Fragment, null, React.createElement(\"img\", _objectSpread(_objectSpread({\n    \"data-testid\": 'str-chat__base-image'\n  }, props), {}, {\n    className: clsx(propsClassName, 'str-chat__base-image', {\n      'str-chat__base-image--load-failed': error\n    }),\n    onError: e => {\n      setError(true);\n      propsOnError === null || propsOnError === void 0 || propsOnError(e);\n    },\n    ref: ref\n  })), error && React.createElement(DownloadButton, {\n    assetUrl: props.src\n  }));\n});","map":{"version":3,"names":["React","forwardRef","useEffect","useState","clsx","DownloadButton","BaseImage","_ref","ref","props","Object","assign","_objectDestructuringEmpty","className","propsClassName","onError","propsOnError","error","setError","src","createElement","Fragment","_objectSpread","e","assetUrl"],"sources":["/tmp/daft-chat-temp/node_modules/stream-chat-react/dist/components/Gallery/BaseImage.js"],"sourcesContent":["import React, { forwardRef, useEffect, useState } from 'react';\nimport clsx from 'clsx';\nimport { DownloadButton } from '../Attachment';\nexport const BaseImage = forwardRef(function BaseImage({ ...props }, ref) {\n    const { className: propsClassName, onError: propsOnError } = props;\n    const [error, setError] = useState(false);\n    useEffect(() => () => {\n        setError(false);\n    }, [props.src]);\n    return (React.createElement(React.Fragment, null,\n        React.createElement(\"img\", { \"data-testid\": 'str-chat__base-image', ...props, className: clsx(propsClassName, 'str-chat__base-image', {\n                'str-chat__base-image--load-failed': error,\n            }), onError: (e) => {\n                setError(true);\n                propsOnError?.(e);\n            }, ref: ref }),\n        error && React.createElement(DownloadButton, { assetUrl: props.src })));\n});\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC9D,OAAOC,IAAI,MAAM,MAAM;AACvB,SAASC,cAAc,QAAQ,eAAe;AAC9C,OAAO,MAAMC,SAAS,GAAGL,UAAU,CAAC,SAASK,SAASA,CAAAC,IAAA,EAAeC,GAAG,EAAE;EAAA,IAAdC,KAAK,GAAAC,MAAA,CAAAC,MAAA,MAAAC,yBAAA,CAAAL,IAAA,GAAAA,IAAA;EAC7D,MAAM;IAAEM,SAAS,EAAEC,cAAc;IAAEC,OAAO,EAAEC;EAAa,CAAC,GAAGP,KAAK;EAClE,MAAM,CAACQ,KAAK,EAAEC,QAAQ,CAAC,GAAGf,QAAQ,CAAC,KAAK,CAAC;EACzCD,SAAS,CAAC,MAAM,MAAM;IAClBgB,QAAQ,CAAC,KAAK,CAAC;EACnB,CAAC,EAAE,CAACT,KAAK,CAACU,GAAG,CAAC,CAAC;EACf,OAAQnB,KAAK,CAACoB,aAAa,CAACpB,KAAK,CAACqB,QAAQ,EAAE,IAAI,EAC5CrB,KAAK,CAACoB,aAAa,CAAC,KAAK,EAAAE,aAAA,CAAAA,aAAA;IAAI,aAAa,EAAE;EAAsB,GAAKb,KAAK;IAAEI,SAAS,EAAET,IAAI,CAACU,cAAc,EAAE,sBAAsB,EAAE;MAC9H,mCAAmC,EAAEG;IACzC,CAAC,CAAC;IAAEF,OAAO,EAAGQ,CAAC,IAAK;MAChBL,QAAQ,CAAC,IAAI,CAAC;MACdF,YAAY,aAAZA,YAAY,eAAZA,YAAY,CAAGO,CAAC,CAAC;IACrB,CAAC;IAAEf,GAAG,EAAEA;EAAG,EAAE,CAAC,EAClBS,KAAK,IAAIjB,KAAK,CAACoB,aAAa,CAACf,cAAc,EAAE;IAAEmB,QAAQ,EAAEf,KAAK,CAACU;EAAI,CAAC,CAAC,CAAC;AAC9E,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}