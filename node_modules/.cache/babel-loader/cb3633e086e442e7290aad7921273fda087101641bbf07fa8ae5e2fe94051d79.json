{"ast":null,"code":"import React, { useMemo } from 'react';\nimport { usePollContext, useTranslationContext } from '../../context';\nimport { useStateStore } from '../../store';\nconst pollStateSelector = nextValue => ({\n  enforce_unique_vote: nextValue.enforce_unique_vote,\n  is_closed: nextValue.is_closed,\n  max_votes_allowed: nextValue.max_votes_allowed,\n  name: nextValue.name,\n  options: nextValue.options\n});\nexport const PollHeader = () => {\n  const {\n    t\n  } = useTranslationContext('PollHeader');\n  const {\n    poll\n  } = usePollContext();\n  const {\n    enforce_unique_vote,\n    is_closed,\n    max_votes_allowed,\n    name,\n    options\n  } = useStateStore(poll.state, pollStateSelector);\n  const selectionInstructions = useMemo(() => {\n    if (is_closed) return t('Vote ended');\n    if (enforce_unique_vote || options.length === 1) return t('Select one');\n    if (max_votes_allowed) return t('Select up to {{count}}', {\n      count: max_votes_allowed > options.length ? options.length : max_votes_allowed\n    });\n    if (options.length > 1) return t('Select one or more');\n    return '';\n  }, [is_closed, enforce_unique_vote, max_votes_allowed, options.length, t]);\n  if (!name) return;\n  return React.createElement(\"div\", {\n    className: 'str-chat__poll-header'\n  }, React.createElement(\"div\", {\n    className: 'str-chat__poll-title'\n  }, name), React.createElement(\"div\", {\n    className: 'str-chat__poll-subtitle'\n  }, selectionInstructions));\n};","map":{"version":3,"names":["React","useMemo","usePollContext","useTranslationContext","useStateStore","pollStateSelector","nextValue","enforce_unique_vote","is_closed","max_votes_allowed","name","options","PollHeader","t","poll","state","selectionInstructions","length","count","createElement","className"],"sources":["/tmp/daft-chat-temp/node_modules/stream-chat-react/dist/components/Poll/PollHeader.js"],"sourcesContent":["import React, { useMemo } from 'react';\nimport { usePollContext, useTranslationContext } from '../../context';\nimport { useStateStore } from '../../store';\nconst pollStateSelector = (nextValue) => ({\n    enforce_unique_vote: nextValue.enforce_unique_vote,\n    is_closed: nextValue.is_closed,\n    max_votes_allowed: nextValue.max_votes_allowed,\n    name: nextValue.name,\n    options: nextValue.options,\n});\nexport const PollHeader = () => {\n    const { t } = useTranslationContext('PollHeader');\n    const { poll } = usePollContext();\n    const { enforce_unique_vote, is_closed, max_votes_allowed, name, options } = useStateStore(poll.state, pollStateSelector);\n    const selectionInstructions = useMemo(() => {\n        if (is_closed)\n            return t('Vote ended');\n        if (enforce_unique_vote || options.length === 1)\n            return t('Select one');\n        if (max_votes_allowed)\n            return t('Select up to {{count}}', {\n                count: max_votes_allowed > options.length ? options.length : max_votes_allowed,\n            });\n        if (options.length > 1)\n            return t('Select one or more');\n        return '';\n    }, [is_closed, enforce_unique_vote, max_votes_allowed, options.length, t]);\n    if (!name)\n        return;\n    return (React.createElement(\"div\", { className: 'str-chat__poll-header' },\n        React.createElement(\"div\", { className: 'str-chat__poll-title' }, name),\n        React.createElement(\"div\", { className: 'str-chat__poll-subtitle' }, selectionInstructions)));\n};\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,OAAO,QAAQ,OAAO;AACtC,SAASC,cAAc,EAAEC,qBAAqB,QAAQ,eAAe;AACrE,SAASC,aAAa,QAAQ,aAAa;AAC3C,MAAMC,iBAAiB,GAAIC,SAAS,KAAM;EACtCC,mBAAmB,EAAED,SAAS,CAACC,mBAAmB;EAClDC,SAAS,EAAEF,SAAS,CAACE,SAAS;EAC9BC,iBAAiB,EAAEH,SAAS,CAACG,iBAAiB;EAC9CC,IAAI,EAAEJ,SAAS,CAACI,IAAI;EACpBC,OAAO,EAAEL,SAAS,CAACK;AACvB,CAAC,CAAC;AACF,OAAO,MAAMC,UAAU,GAAGA,CAAA,KAAM;EAC5B,MAAM;IAAEC;EAAE,CAAC,GAAGV,qBAAqB,CAAC,YAAY,CAAC;EACjD,MAAM;IAAEW;EAAK,CAAC,GAAGZ,cAAc,CAAC,CAAC;EACjC,MAAM;IAAEK,mBAAmB;IAAEC,SAAS;IAAEC,iBAAiB;IAAEC,IAAI;IAAEC;EAAQ,CAAC,GAAGP,aAAa,CAACU,IAAI,CAACC,KAAK,EAAEV,iBAAiB,CAAC;EACzH,MAAMW,qBAAqB,GAAGf,OAAO,CAAC,MAAM;IACxC,IAAIO,SAAS,EACT,OAAOK,CAAC,CAAC,YAAY,CAAC;IAC1B,IAAIN,mBAAmB,IAAII,OAAO,CAACM,MAAM,KAAK,CAAC,EAC3C,OAAOJ,CAAC,CAAC,YAAY,CAAC;IAC1B,IAAIJ,iBAAiB,EACjB,OAAOI,CAAC,CAAC,wBAAwB,EAAE;MAC/BK,KAAK,EAAET,iBAAiB,GAAGE,OAAO,CAACM,MAAM,GAAGN,OAAO,CAACM,MAAM,GAAGR;IACjE,CAAC,CAAC;IACN,IAAIE,OAAO,CAACM,MAAM,GAAG,CAAC,EAClB,OAAOJ,CAAC,CAAC,oBAAoB,CAAC;IAClC,OAAO,EAAE;EACb,CAAC,EAAE,CAACL,SAAS,EAAED,mBAAmB,EAAEE,iBAAiB,EAAEE,OAAO,CAACM,MAAM,EAAEJ,CAAC,CAAC,CAAC;EAC1E,IAAI,CAACH,IAAI,EACL;EACJ,OAAQV,KAAK,CAACmB,aAAa,CAAC,KAAK,EAAE;IAAEC,SAAS,EAAE;EAAwB,CAAC,EACrEpB,KAAK,CAACmB,aAAa,CAAC,KAAK,EAAE;IAAEC,SAAS,EAAE;EAAuB,CAAC,EAAEV,IAAI,CAAC,EACvEV,KAAK,CAACmB,aAAa,CAAC,KAAK,EAAE;IAAEC,SAAS,EAAE;EAA0B,CAAC,EAAEJ,qBAAqB,CAAC,CAAC;AACpG,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}